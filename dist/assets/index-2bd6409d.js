(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const B8="modulepreload",k8=function(r){return"/"+r},fv={},L8=function(e,t,n){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=k8(s),s in fv)return;fv[s]=!0;const a=s.endsWith(".css"),u=a?'[rel="stylesheet"]':"";if(!!n)for(let p=i.length-1;p>=0;p--){const v=i[p];if(v.href===s&&(!a||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${u}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":B8,a||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),a)return new Promise((p,v)=>{d.addEventListener("load",p),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ko(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function bw(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Sp={exports:{}},Aa=typeof Reflect=="object"?Reflect:null,lv=Aa&&typeof Aa.apply=="function"?Aa.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},Of;Aa&&typeof Aa.ownKeys=="function"?Of=Aa.ownKeys:Object.getOwnPropertySymbols?Of=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Of=function(e){return Object.getOwnPropertyNames(e)};function F8(r){console&&console.warn&&console.warn(r)}var ww=Number.isNaN||function(e){return e!==e};function er(){er.init.call(this)}Sp.exports=er;Sp.exports.once=$8;er.EventEmitter=er;er.prototype._events=void 0;er.prototype._eventsCount=0;er.prototype._maxListeners=void 0;var hv=10;function Pl(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(er,"defaultMaxListeners",{enumerable:!0,get:function(){return hv},set:function(r){if(typeof r!="number"||r<0||ww(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");hv=r}});er.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};er.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ww(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function _w(r){return r._maxListeners===void 0?er.defaultMaxListeners:r._maxListeners}er.prototype.getMaxListeners=function(){return _w(this)};er.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var u=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw u.context=a,u}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")lv(l,this,t);else for(var d=l.length,p=Iw(l,d),n=0;n<d;++n)lv(p[n],this,t);return!0};function Ew(r,e,t,n){var i,s,a;if(Pl(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),a=s[e]),a===void 0)a=s[e]=t,++r._eventsCount;else if(typeof a=="function"?a=s[e]=n?[t,a]:[a,t]:n?a.unshift(t):a.push(t),i=_w(r),i>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=r,u.type=e,u.count=a.length,F8(u)}return r}er.prototype.addListener=function(e,t){return Ew(this,e,t,!1)};er.prototype.on=er.prototype.addListener;er.prototype.prependListener=function(e,t){return Ew(this,e,t,!0)};function U8(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Aw(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},i=U8.bind(n);return i.listener=t,n.wrapFn=i,i}er.prototype.once=function(e,t){return Pl(t),this.on(e,Aw(this,e,t)),this};er.prototype.prependOnceListener=function(e,t){return Pl(t),this.prependListener(e,Aw(this,e,t)),this};er.prototype.removeListener=function(e,t){var n,i,s,a,u;if(Pl(t),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){u=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():j8(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,u||t)}return this};er.prototype.off=er.prototype.removeListener;er.prototype.removeAllListeners=function(e){var t,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function xw(r,e,t){var n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?H8(i):Iw(i,i.length)}er.prototype.listeners=function(e){return xw(this,e,!0)};er.prototype.rawListeners=function(e){return xw(this,e,!1)};er.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):Sw.call(r,e)};er.prototype.listenerCount=Sw;function Sw(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}er.prototype.eventNames=function(){return this._eventsCount>0?Of(this._events):[]};function Iw(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}function j8(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function H8(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function $8(r,e){return new Promise(function(t,n){function i(a){r.removeListener(e,s),n(a)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",i),t([].slice.call(arguments))}Tw(r,e,s,{once:!0}),e!=="error"&&q8(r,i,{once:!0})})}function q8(r,e,t){typeof r.on=="function"&&Tw(r,"error",e,t)}function Tw(r,e,t,n){if(typeof r.on=="function")n.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function i(s){n.once&&r.removeEventListener(e,i),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var Yr=Sp.exports;const Ip=ko(Yr);var Tp={},Ol={},dt={},Cw={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});function e(u,l){var d=u>>>16&65535,p=u&65535,v=l>>>16&65535,x=l&65535;return p*x+(d*x+p*v<<16>>>0)|0}r.mul=Math.imul||e;function t(u,l){return u+l|0}r.add=t;function n(u,l){return u-l|0}r.sub=n;function i(u,l){return u<<l|u>>>32-l}r.rotl=i;function s(u,l){return u<<32-l|u>>>l}r.rotr=s;function a(u){return typeof u=="number"&&isFinite(u)&&Math.floor(u)===u}r.isInteger=Number.isInteger||a,r.MAX_SAFE_INTEGER=9007199254740991,r.isSafeInteger=function(u){return r.isInteger(u)&&u>=-r.MAX_SAFE_INTEGER&&u<=r.MAX_SAFE_INTEGER}})(Cw);Object.defineProperty(dt,"__esModule",{value:!0});var Pw=Cw;function G8(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}dt.readInt16BE=G8;function z8(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}dt.readUint16BE=z8;function V8(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}dt.readInt16LE=V8;function K8(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}dt.readUint16LE=K8;function Ow(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}dt.writeUint16BE=Ow;dt.writeInt16BE=Ow;function Dw(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}dt.writeUint16LE=Dw;dt.writeInt16LE=Dw;function E0(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}dt.readInt32BE=E0;function A0(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}dt.readUint32BE=A0;function x0(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}dt.readInt32LE=x0;function S0(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}dt.readUint32LE=S0;function zf(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}dt.writeUint32BE=zf;dt.writeInt32BE=zf;function Vf(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}dt.writeUint32LE=Vf;dt.writeInt32LE=Vf;function W8(r,e){e===void 0&&(e=0);var t=E0(r,e),n=E0(r,e+4);return t*4294967296+n-(n>>31)*4294967296}dt.readInt64BE=W8;function Q8(r,e){e===void 0&&(e=0);var t=A0(r,e),n=A0(r,e+4);return t*4294967296+n}dt.readUint64BE=Q8;function J8(r,e){e===void 0&&(e=0);var t=x0(r,e),n=x0(r,e+4);return n*4294967296+t-(t>>31)*4294967296}dt.readInt64LE=J8;function Y8(r,e){e===void 0&&(e=0);var t=S0(r,e),n=S0(r,e+4);return n*4294967296+t}dt.readUint64LE=Y8;function Rw(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),zf(r/4294967296>>>0,e,t),zf(r>>>0,e,t+4),e}dt.writeUint64BE=Rw;dt.writeInt64BE=Rw;function Mw(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Vf(r>>>0,e,t),Vf(r/4294967296>>>0,e,t+4),e}dt.writeUint64LE=Mw;dt.writeInt64LE=Mw;function X8(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=r/8+t-1;s>=t;s--)n+=e[s]*i,i*=256;return n}dt.readUintBE=X8;function Z8(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=t;s<t+r/8;s++)n+=e[s]*i,i*=256;return n}dt.readUintLE=Z8;function eT(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Pw.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=r/8+n-1;s>=n;s--)t[s]=e/i&255,i*=256;return t}dt.writeUintBE=eT;function tT(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Pw.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+r/8;s++)t[s]=e/i&255,i*=256;return t}dt.writeUintLE=tT;function rT(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}dt.readFloat32BE=rT;function nT(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}dt.readFloat32LE=nT;function iT(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}dt.readFloat64BE=iT;function sT(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}dt.readFloat64LE=sT;function oT(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r),e}dt.writeFloat32BE=oT;function aT(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r,!0),e}dt.writeFloat32LE=aT;function cT(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r),e}dt.writeFloat64BE=cT;function uT(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r,!0),e}dt.writeFloat64LE=uT;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});function fT(r){for(var e=0;e<r.length;e++)r[e]=0;return r}Rn.wipe=fT;Object.defineProperty(Ol,"__esModule",{value:!0});var Wr=dt,I0=Rn,lT=20;function hT(r,e,t){for(var n=1634760805,i=857760878,s=2036477234,a=1797285236,u=t[3]<<24|t[2]<<16|t[1]<<8|t[0],l=t[7]<<24|t[6]<<16|t[5]<<8|t[4],d=t[11]<<24|t[10]<<16|t[9]<<8|t[8],p=t[15]<<24|t[14]<<16|t[13]<<8|t[12],v=t[19]<<24|t[18]<<16|t[17]<<8|t[16],x=t[23]<<24|t[22]<<16|t[21]<<8|t[20],S=t[27]<<24|t[26]<<16|t[25]<<8|t[24],C=t[31]<<24|t[30]<<16|t[29]<<8|t[28],B=e[3]<<24|e[2]<<16|e[1]<<8|e[0],$=e[7]<<24|e[6]<<16|e[5]<<8|e[4],Y=e[11]<<24|e[10]<<16|e[9]<<8|e[8],F=e[15]<<24|e[14]<<16|e[13]<<8|e[12],z=n,L=i,k=s,D=a,y=u,A=l,ne=d,U=p,Q=v,Z=x,N=S,f=C,g=B,w=$,T=Y,O=F,R=0;R<lT;R+=2)z=z+y|0,g^=z,g=g>>>32-16|g<<16,Q=Q+g|0,y^=Q,y=y>>>32-12|y<<12,L=L+A|0,w^=L,w=w>>>32-16|w<<16,Z=Z+w|0,A^=Z,A=A>>>32-12|A<<12,k=k+ne|0,T^=k,T=T>>>32-16|T<<16,N=N+T|0,ne^=N,ne=ne>>>32-12|ne<<12,D=D+U|0,O^=D,O=O>>>32-16|O<<16,f=f+O|0,U^=f,U=U>>>32-12|U<<12,k=k+ne|0,T^=k,T=T>>>32-8|T<<8,N=N+T|0,ne^=N,ne=ne>>>32-7|ne<<7,D=D+U|0,O^=D,O=O>>>32-8|O<<8,f=f+O|0,U^=f,U=U>>>32-7|U<<7,L=L+A|0,w^=L,w=w>>>32-8|w<<8,Z=Z+w|0,A^=Z,A=A>>>32-7|A<<7,z=z+y|0,g^=z,g=g>>>32-8|g<<8,Q=Q+g|0,y^=Q,y=y>>>32-7|y<<7,z=z+A|0,O^=z,O=O>>>32-16|O<<16,N=N+O|0,A^=N,A=A>>>32-12|A<<12,L=L+ne|0,g^=L,g=g>>>32-16|g<<16,f=f+g|0,ne^=f,ne=ne>>>32-12|ne<<12,k=k+U|0,w^=k,w=w>>>32-16|w<<16,Q=Q+w|0,U^=Q,U=U>>>32-12|U<<12,D=D+y|0,T^=D,T=T>>>32-16|T<<16,Z=Z+T|0,y^=Z,y=y>>>32-12|y<<12,k=k+U|0,w^=k,w=w>>>32-8|w<<8,Q=Q+w|0,U^=Q,U=U>>>32-7|U<<7,D=D+y|0,T^=D,T=T>>>32-8|T<<8,Z=Z+T|0,y^=Z,y=y>>>32-7|y<<7,L=L+ne|0,g^=L,g=g>>>32-8|g<<8,f=f+g|0,ne^=f,ne=ne>>>32-7|ne<<7,z=z+A|0,O^=z,O=O>>>32-8|O<<8,N=N+O|0,A^=N,A=A>>>32-7|A<<7;Wr.writeUint32LE(z+n|0,r,0),Wr.writeUint32LE(L+i|0,r,4),Wr.writeUint32LE(k+s|0,r,8),Wr.writeUint32LE(D+a|0,r,12),Wr.writeUint32LE(y+u|0,r,16),Wr.writeUint32LE(A+l|0,r,20),Wr.writeUint32LE(ne+d|0,r,24),Wr.writeUint32LE(U+p|0,r,28),Wr.writeUint32LE(Q+v|0,r,32),Wr.writeUint32LE(Z+x|0,r,36),Wr.writeUint32LE(N+S|0,r,40),Wr.writeUint32LE(f+C|0,r,44),Wr.writeUint32LE(g+B|0,r,48),Wr.writeUint32LE(w+$|0,r,52),Wr.writeUint32LE(T+Y|0,r,56),Wr.writeUint32LE(O+F|0,r,60)}function Nw(r,e,t,n,i){if(i===void 0&&(i=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<t.length)throw new Error("ChaCha: destination is shorter than source");var s,a;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),a=s.length-e.length,s.set(e,a)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,a=i}for(var u=new Uint8Array(64),l=0;l<t.length;l+=64){hT(u,s,r);for(var d=l;d<l+64&&d<t.length;d++)n[d]=t[d]^u[d-l];pT(s,0,a)}return I0.wipe(u),i===0&&I0.wipe(s),n}Ol.streamXOR=Nw;function dT(r,e,t,n){return n===void 0&&(n=0),I0.wipe(t),Nw(r,e,t,t,n)}Ol.stream=dT;function pT(r,e,t){for(var n=1;t--;)n=n+(r[e]&255)|0,r[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var Bw={},js={};Object.defineProperty(js,"__esModule",{value:!0});function gT(r,e,t){return~(r-1)&e|r-1&t}js.select=gT;function mT(r,e){return(r|0)-(e|0)-1>>>31&1}js.lessOrEqual=mT;function kw(r,e){if(r.length!==e.length)return 0;for(var t=0,n=0;n<r.length;n++)t|=r[n]^e[n];return 1&t-1>>>8}js.compare=kw;function yT(r,e){return r.length===0||e.length===0?!1:kw(r,e)!==0}js.equal=yT;(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=js,t=Rn;r.DIGEST_LENGTH=16;var n=function(){function a(u){this.digestLength=r.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var l=u[0]|u[1]<<8;this._r[0]=l&8191;var d=u[2]|u[3]<<8;this._r[1]=(l>>>13|d<<3)&8191;var p=u[4]|u[5]<<8;this._r[2]=(d>>>10|p<<6)&7939;var v=u[6]|u[7]<<8;this._r[3]=(p>>>7|v<<9)&8191;var x=u[8]|u[9]<<8;this._r[4]=(v>>>4|x<<12)&255,this._r[5]=x>>>1&8190;var S=u[10]|u[11]<<8;this._r[6]=(x>>>14|S<<2)&8191;var C=u[12]|u[13]<<8;this._r[7]=(S>>>11|C<<5)&8065;var B=u[14]|u[15]<<8;this._r[8]=(C>>>8|B<<8)&8191,this._r[9]=B>>>5&127,this._pad[0]=u[16]|u[17]<<8,this._pad[1]=u[18]|u[19]<<8,this._pad[2]=u[20]|u[21]<<8,this._pad[3]=u[22]|u[23]<<8,this._pad[4]=u[24]|u[25]<<8,this._pad[5]=u[26]|u[27]<<8,this._pad[6]=u[28]|u[29]<<8,this._pad[7]=u[30]|u[31]<<8}return a.prototype._blocks=function(u,l,d){for(var p=this._fin?0:2048,v=this._h[0],x=this._h[1],S=this._h[2],C=this._h[3],B=this._h[4],$=this._h[5],Y=this._h[6],F=this._h[7],z=this._h[8],L=this._h[9],k=this._r[0],D=this._r[1],y=this._r[2],A=this._r[3],ne=this._r[4],U=this._r[5],Q=this._r[6],Z=this._r[7],N=this._r[8],f=this._r[9];d>=16;){var g=u[l+0]|u[l+1]<<8;v+=g&8191;var w=u[l+2]|u[l+3]<<8;x+=(g>>>13|w<<3)&8191;var T=u[l+4]|u[l+5]<<8;S+=(w>>>10|T<<6)&8191;var O=u[l+6]|u[l+7]<<8;C+=(T>>>7|O<<9)&8191;var R=u[l+8]|u[l+9]<<8;B+=(O>>>4|R<<12)&8191,$+=R>>>1&8191;var H=u[l+10]|u[l+11]<<8;Y+=(R>>>14|H<<2)&8191;var P=u[l+12]|u[l+13]<<8;F+=(H>>>11|P<<5)&8191;var m=u[l+14]|u[l+15]<<8;z+=(P>>>8|m<<8)&8191,L+=m>>>5|p;var I=0,te=I;te+=v*k,te+=x*(5*f),te+=S*(5*N),te+=C*(5*Z),te+=B*(5*Q),I=te>>>13,te&=8191,te+=$*(5*U),te+=Y*(5*ne),te+=F*(5*A),te+=z*(5*y),te+=L*(5*D),I+=te>>>13,te&=8191;var E=I;E+=v*D,E+=x*k,E+=S*(5*f),E+=C*(5*N),E+=B*(5*Z),I=E>>>13,E&=8191,E+=$*(5*Q),E+=Y*(5*U),E+=F*(5*ne),E+=z*(5*A),E+=L*(5*y),I+=E>>>13,E&=8191;var X=I;X+=v*y,X+=x*D,X+=S*k,X+=C*(5*f),X+=B*(5*N),I=X>>>13,X&=8191,X+=$*(5*Z),X+=Y*(5*Q),X+=F*(5*U),X+=z*(5*ne),X+=L*(5*A),I+=X>>>13,X&=8191;var G=I;G+=v*A,G+=x*y,G+=S*D,G+=C*k,G+=B*(5*f),I=G>>>13,G&=8191,G+=$*(5*N),G+=Y*(5*Z),G+=F*(5*Q),G+=z*(5*U),G+=L*(5*ne),I+=G>>>13,G&=8191;var V=I;V+=v*ne,V+=x*A,V+=S*y,V+=C*D,V+=B*k,I=V>>>13,V&=8191,V+=$*(5*f),V+=Y*(5*N),V+=F*(5*Z),V+=z*(5*Q),V+=L*(5*U),I+=V>>>13,V&=8191;var W=I;W+=v*U,W+=x*ne,W+=S*A,W+=C*y,W+=B*D,I=W>>>13,W&=8191,W+=$*k,W+=Y*(5*f),W+=F*(5*N),W+=z*(5*Z),W+=L*(5*Q),I+=W>>>13,W&=8191;var b=I;b+=v*Q,b+=x*U,b+=S*ne,b+=C*A,b+=B*y,I=b>>>13,b&=8191,b+=$*D,b+=Y*k,b+=F*(5*f),b+=z*(5*N),b+=L*(5*Z),I+=b>>>13,b&=8191;var q=I;q+=v*Z,q+=x*Q,q+=S*U,q+=C*ne,q+=B*A,I=q>>>13,q&=8191,q+=$*y,q+=Y*D,q+=F*k,q+=z*(5*f),q+=L*(5*N),I+=q>>>13,q&=8191;var oe=I;oe+=v*N,oe+=x*Z,oe+=S*Q,oe+=C*U,oe+=B*ne,I=oe>>>13,oe&=8191,oe+=$*A,oe+=Y*y,oe+=F*D,oe+=z*k,oe+=L*(5*f),I+=oe>>>13,oe&=8191;var pe=I;pe+=v*f,pe+=x*N,pe+=S*Z,pe+=C*Q,pe+=B*U,I=pe>>>13,pe&=8191,pe+=$*ne,pe+=Y*A,pe+=F*y,pe+=z*D,pe+=L*k,I+=pe>>>13,pe&=8191,I=(I<<2)+I|0,I=I+te|0,te=I&8191,I=I>>>13,E+=I,v=te,x=E,S=X,C=G,B=V,$=W,Y=b,F=q,z=oe,L=pe,l+=16,d-=16}this._h[0]=v,this._h[1]=x,this._h[2]=S,this._h[3]=C,this._h[4]=B,this._h[5]=$,this._h[6]=Y,this._h[7]=F,this._h[8]=z,this._h[9]=L},a.prototype.finish=function(u,l){l===void 0&&(l=0);var d=new Uint16Array(10),p,v,x,S;if(this._leftover){for(S=this._leftover,this._buffer[S++]=1;S<16;S++)this._buffer[S]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(p=this._h[1]>>>13,this._h[1]&=8191,S=2;S<10;S++)this._h[S]+=p,p=this._h[S]>>>13,this._h[S]&=8191;for(this._h[0]+=p*5,p=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=p,p=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=p,d[0]=this._h[0]+5,p=d[0]>>>13,d[0]&=8191,S=1;S<10;S++)d[S]=this._h[S]+p,p=d[S]>>>13,d[S]&=8191;for(d[9]-=8192,v=(p^1)-1,S=0;S<10;S++)d[S]&=v;for(v=~v,S=0;S<10;S++)this._h[S]=this._h[S]&v|d[S];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,x=this._h[0]+this._pad[0],this._h[0]=x&65535,S=1;S<8;S++)x=(this._h[S]+this._pad[S]|0)+(x>>>16)|0,this._h[S]=x&65535;return u[l+0]=this._h[0]>>>0,u[l+1]=this._h[0]>>>8,u[l+2]=this._h[1]>>>0,u[l+3]=this._h[1]>>>8,u[l+4]=this._h[2]>>>0,u[l+5]=this._h[2]>>>8,u[l+6]=this._h[3]>>>0,u[l+7]=this._h[3]>>>8,u[l+8]=this._h[4]>>>0,u[l+9]=this._h[4]>>>8,u[l+10]=this._h[5]>>>0,u[l+11]=this._h[5]>>>8,u[l+12]=this._h[6]>>>0,u[l+13]=this._h[6]>>>8,u[l+14]=this._h[7]>>>0,u[l+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(u){var l=0,d=u.length,p;if(this._leftover){p=16-this._leftover,p>d&&(p=d);for(var v=0;v<p;v++)this._buffer[this._leftover+v]=u[l+v];if(d-=p,l+=p,this._leftover+=p,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(d>=16&&(p=d-d%16,this._blocks(u,l,p),l+=p,d-=p),d){for(var v=0;v<d;v++)this._buffer[this._leftover+v]=u[l+v];this._leftover+=d}return this},a.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var u=new Uint8Array(16);return this.finish(u),u},a.prototype.clean=function(){return t.wipe(this._buffer),t.wipe(this._r),t.wipe(this._h),t.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a}();r.Poly1305=n;function i(a,u){var l=new n(a);l.update(u);var d=l.digest();return l.clean(),d}r.oneTimeAuth=i;function s(a,u){return a.length!==r.DIGEST_LENGTH||u.length!==r.DIGEST_LENGTH?!1:e.equal(a,u)}r.equal=s})(Bw);(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Ol,t=Bw,n=Rn,i=dt,s=js;r.KEY_LENGTH=32,r.NONCE_LENGTH=12,r.TAG_LENGTH=16;var a=new Uint8Array(16),u=function(){function l(d){if(this.nonceLength=r.NONCE_LENGTH,this.tagLength=r.TAG_LENGTH,d.length!==r.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(d)}return l.prototype.seal=function(d,p,v,x){if(d.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var S=new Uint8Array(16);S.set(d,S.length-d.length);var C=new Uint8Array(32);e.stream(this._key,S,C,4);var B=p.length+this.tagLength,$;if(x){if(x.length!==B)throw new Error("ChaCha20Poly1305: incorrect destination length");$=x}else $=new Uint8Array(B);return e.streamXOR(this._key,S,p,$,4),this._authenticate($.subarray($.length-this.tagLength,$.length),C,$.subarray(0,$.length-this.tagLength),v),n.wipe(S),$},l.prototype.open=function(d,p,v,x){if(d.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(p.length<this.tagLength)return null;var S=new Uint8Array(16);S.set(d,S.length-d.length);var C=new Uint8Array(32);e.stream(this._key,S,C,4);var B=new Uint8Array(this.tagLength);if(this._authenticate(B,C,p.subarray(0,p.length-this.tagLength),v),!s.equal(B,p.subarray(p.length-this.tagLength,p.length)))return null;var $=p.length-this.tagLength,Y;if(x){if(x.length!==$)throw new Error("ChaCha20Poly1305: incorrect destination length");Y=x}else Y=new Uint8Array($);return e.streamXOR(this._key,S,p.subarray(0,p.length-this.tagLength),Y,4),n.wipe(S),Y},l.prototype.clean=function(){return n.wipe(this._key),this},l.prototype._authenticate=function(d,p,v,x){var S=new t.Poly1305(p);x&&(S.update(x),x.length%16>0&&S.update(a.subarray(x.length%16))),S.update(v),v.length%16>0&&S.update(a.subarray(v.length%16));var C=new Uint8Array(8);x&&i.writeUint64LE(x.length,C),S.update(C),i.writeUint64LE(v.length,C),S.update(C);for(var B=S.digest(),$=0;$<B.length;$++)d[$]=B[$];S.clean(),n.wipe(B),n.wipe(C)},l}();r.ChaCha20Poly1305=u})(Tp);var Lw={},au={},Cp={};Object.defineProperty(Cp,"__esModule",{value:!0});function vT(r){return typeof r.saveState<"u"&&typeof r.restoreState<"u"&&typeof r.cleanSavedState<"u"}Cp.isSerializableHash=vT;Object.defineProperty(au,"__esModule",{value:!0});var Ti=Cp,bT=js,wT=Rn,Fw=function(){function r(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(n).clean():n.set(t);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),Ti.isSerializableHash(this._inner)&&Ti.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),wT.wipe(n)}return r.prototype.reset=function(){if(!Ti.isSerializableHash(this._inner)||!Ti.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){Ti.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Ti.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!Ti.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!Ti.isSerializableHash(this._inner)||!Ti.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!Ti.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();au.HMAC=Fw;function _T(r,e,t){var n=new Fw(r,e);n.update(t);var i=n.digest();return n.clean(),i}au.hmac=_T;au.equal=bT.equal;Object.defineProperty(Lw,"__esModule",{value:!0});var dv=au,pv=Rn,ET=function(){function r(e,t,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=dv.hmac(this._hash,n,t);this._hmac=new dv.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var t=new Uint8Array(e),n=0;n<t.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[n]=this._buffer[this._bufpos++];return t},r.prototype.clean=function(){this._hmac.clean(),pv.wipe(this._buffer),pv.wipe(this._counter),this._bufpos=0},r}(),AT=Lw.HKDF=ET,Ga={},Dl={},Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.BrowserRandomSource=void 0;const gv=65536;class xT{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let n=0;n<t.length;n+=gv)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,gv)));return t}}Rl.BrowserRandomSource=xT;function ST(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ml={};const IT={},TT=Object.freeze(Object.defineProperty({__proto__:null,default:IT},Symbol.toStringTag,{value:"Module"})),Uw=bw(TT);Object.defineProperty(Ml,"__esModule",{value:!0});Ml.NodeRandomSource=void 0;const CT=Rn;class PT{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof ST<"u"){const e=Uw;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=t[i];return(0,CT.wipe)(t),n}}Ml.NodeRandomSource=PT;Object.defineProperty(Dl,"__esModule",{value:!0});Dl.SystemRandomSource=void 0;const OT=Rl,DT=Ml;class RT{constructor(){if(this.isAvailable=!1,this.name="",this._source=new OT.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new DT.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}Dl.SystemRandomSource=RT;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomStringForEntropy=r.randomString=r.randomUint32=r.randomBytes=r.defaultRandomSource=void 0;const e=Dl,t=dt,n=Rn;r.defaultRandomSource=new e.SystemRandomSource;function i(d,p=r.defaultRandomSource){return p.randomBytes(d)}r.randomBytes=i;function s(d=r.defaultRandomSource){const p=i(4,d),v=(0,t.readUint32LE)(p);return(0,n.wipe)(p),v}r.randomUint32=s;const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(d,p=a,v=r.defaultRandomSource){if(p.length<2)throw new Error("randomString charset is too short");if(p.length>256)throw new Error("randomString charset is too long");let x="";const S=p.length,C=256-256%S;for(;d>0;){const B=i(Math.ceil(d*256/C),v);for(let $=0;$<B.length&&d>0;$++){const Y=B[$];Y<C&&(x+=p.charAt(Y%S),d--)}(0,n.wipe)(B)}return x}r.randomString=u;function l(d,p=a,v=r.defaultRandomSource){const x=Math.ceil(d/(Math.log(p.length)/Math.LN2));return u(x,p,v)}r.randomStringForEntropy=l})(Ga);var Nl={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=dt,t=Rn;r.DIGEST_LENGTH=32,r.BLOCK_SIZE=64;var n=function(){function u(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._temp),this.reset()},u.prototype.update=function(l,d){if(d===void 0&&(d=l.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var p=0;if(this._bytesHashed+=d,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&d>0;)this._buffer[this._bufferLength++]=l[p++],d--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(d>=this.blockSize&&(p=s(this._temp,this._state,l,p,d),d%=this.blockSize);d>0;)this._buffer[this._bufferLength++]=l[p++],d--;return this},u.prototype.finish=function(l){if(!this._finished){var d=this._bytesHashed,p=this._bufferLength,v=d/536870912|0,x=d<<3,S=d%64<56?64:128;this._buffer[p]=128;for(var C=p+1;C<S-8;C++)this._buffer[C]=0;e.writeUint32BE(v,this._buffer,S-8),e.writeUint32BE(x,this._buffer,S-4),s(this._temp,this._state,this._buffer,0,S),this._finished=!0}for(var C=0;C<this.digestLength/4;C++)e.writeUint32BE(this._state[C],l,C*4);return this},u.prototype.digest=function(){var l=new Uint8Array(this.digestLength);return this.finish(l),l},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(l){return this._state.set(l.state),this._bufferLength=l.bufferLength,l.buffer&&this._buffer.set(l.buffer),this._bytesHashed=l.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(l){t.wipe(l.state),l.buffer&&t.wipe(l.buffer),l.bufferLength=0,l.bytesHashed=0},u}();r.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(u,l,d,p,v){for(;v>=64;){for(var x=l[0],S=l[1],C=l[2],B=l[3],$=l[4],Y=l[5],F=l[6],z=l[7],L=0;L<16;L++){var k=p+L*4;u[L]=e.readUint32BE(d,k)}for(var L=16;L<64;L++){var D=u[L-2],y=(D>>>17|D<<32-17)^(D>>>19|D<<32-19)^D>>>10;D=u[L-15];var A=(D>>>7|D<<32-7)^(D>>>18|D<<32-18)^D>>>3;u[L]=(y+u[L-7]|0)+(A+u[L-16]|0)}for(var L=0;L<64;L++){var y=((($>>>6|$<<26)^($>>>11|$<<21)^($>>>25|$<<7))+($&Y^~$&F)|0)+(z+(i[L]+u[L]|0)|0)|0,A=((x>>>2|x<<32-2)^(x>>>13|x<<32-13)^(x>>>22|x<<32-22))+(x&S^x&C^S&C)|0;z=F,F=Y,Y=$,$=B+y|0,B=C,C=S,S=x,x=y+A|0}l[0]+=x,l[1]+=S,l[2]+=C,l[3]+=B,l[4]+=$,l[5]+=Y,l[6]+=F,l[7]+=z,p+=64,v-=64}return p}function a(u){var l=new n;l.update(u);var d=l.digest();return l.clean(),d}r.hash=a})(Nl);var Pp={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.sharedKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.scalarMultBase=r.scalarMult=r.SHARED_KEY_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=void 0;const e=Ga,t=Rn;r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=32,r.SHARED_KEY_LENGTH=32;function n(L){const k=new Float64Array(16);if(L)for(let D=0;D<L.length;D++)k[D]=L[D];return k}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function a(L){let k=1;for(let D=0;D<16;D++){let y=L[D]+k+65535;k=Math.floor(y/65536),L[D]=y-k*65536}L[0]+=k-1+37*(k-1)}function u(L,k,D){const y=~(D-1);for(let A=0;A<16;A++){const ne=y&(L[A]^k[A]);L[A]^=ne,k[A]^=ne}}function l(L,k){const D=n(),y=n();for(let A=0;A<16;A++)y[A]=k[A];a(y),a(y),a(y);for(let A=0;A<2;A++){D[0]=y[0]-65517;for(let U=1;U<15;U++)D[U]=y[U]-65535-(D[U-1]>>16&1),D[U-1]&=65535;D[15]=y[15]-32767-(D[14]>>16&1);const ne=D[15]>>16&1;D[14]&=65535,u(y,D,1-ne)}for(let A=0;A<16;A++)L[2*A]=y[A]&255,L[2*A+1]=y[A]>>8}function d(L,k){for(let D=0;D<16;D++)L[D]=k[2*D]+(k[2*D+1]<<8);L[15]&=32767}function p(L,k,D){for(let y=0;y<16;y++)L[y]=k[y]+D[y]}function v(L,k,D){for(let y=0;y<16;y++)L[y]=k[y]-D[y]}function x(L,k,D){let y,A,ne=0,U=0,Q=0,Z=0,N=0,f=0,g=0,w=0,T=0,O=0,R=0,H=0,P=0,m=0,I=0,te=0,E=0,X=0,G=0,V=0,W=0,b=0,q=0,oe=0,pe=0,fe=0,we=0,He=0,Ee=0,$e=0,ue=0,be=D[0],ve=D[1],Pe=D[2],Te=D[3],Me=D[4],Ge=D[5],Oe=D[6],Ae=D[7],ze=D[8],Ne=D[9],Ce=D[10],ot=D[11],Be=D[12],Fe=D[13],ht=D[14],ke=D[15];y=k[0],ne+=y*be,U+=y*ve,Q+=y*Pe,Z+=y*Te,N+=y*Me,f+=y*Ge,g+=y*Oe,w+=y*Ae,T+=y*ze,O+=y*Ne,R+=y*Ce,H+=y*ot,P+=y*Be,m+=y*Fe,I+=y*ht,te+=y*ke,y=k[1],U+=y*be,Q+=y*ve,Z+=y*Pe,N+=y*Te,f+=y*Me,g+=y*Ge,w+=y*Oe,T+=y*Ae,O+=y*ze,R+=y*Ne,H+=y*Ce,P+=y*ot,m+=y*Be,I+=y*Fe,te+=y*ht,E+=y*ke,y=k[2],Q+=y*be,Z+=y*ve,N+=y*Pe,f+=y*Te,g+=y*Me,w+=y*Ge,T+=y*Oe,O+=y*Ae,R+=y*ze,H+=y*Ne,P+=y*Ce,m+=y*ot,I+=y*Be,te+=y*Fe,E+=y*ht,X+=y*ke,y=k[3],Z+=y*be,N+=y*ve,f+=y*Pe,g+=y*Te,w+=y*Me,T+=y*Ge,O+=y*Oe,R+=y*Ae,H+=y*ze,P+=y*Ne,m+=y*Ce,I+=y*ot,te+=y*Be,E+=y*Fe,X+=y*ht,G+=y*ke,y=k[4],N+=y*be,f+=y*ve,g+=y*Pe,w+=y*Te,T+=y*Me,O+=y*Ge,R+=y*Oe,H+=y*Ae,P+=y*ze,m+=y*Ne,I+=y*Ce,te+=y*ot,E+=y*Be,X+=y*Fe,G+=y*ht,V+=y*ke,y=k[5],f+=y*be,g+=y*ve,w+=y*Pe,T+=y*Te,O+=y*Me,R+=y*Ge,H+=y*Oe,P+=y*Ae,m+=y*ze,I+=y*Ne,te+=y*Ce,E+=y*ot,X+=y*Be,G+=y*Fe,V+=y*ht,W+=y*ke,y=k[6],g+=y*be,w+=y*ve,T+=y*Pe,O+=y*Te,R+=y*Me,H+=y*Ge,P+=y*Oe,m+=y*Ae,I+=y*ze,te+=y*Ne,E+=y*Ce,X+=y*ot,G+=y*Be,V+=y*Fe,W+=y*ht,b+=y*ke,y=k[7],w+=y*be,T+=y*ve,O+=y*Pe,R+=y*Te,H+=y*Me,P+=y*Ge,m+=y*Oe,I+=y*Ae,te+=y*ze,E+=y*Ne,X+=y*Ce,G+=y*ot,V+=y*Be,W+=y*Fe,b+=y*ht,q+=y*ke,y=k[8],T+=y*be,O+=y*ve,R+=y*Pe,H+=y*Te,P+=y*Me,m+=y*Ge,I+=y*Oe,te+=y*Ae,E+=y*ze,X+=y*Ne,G+=y*Ce,V+=y*ot,W+=y*Be,b+=y*Fe,q+=y*ht,oe+=y*ke,y=k[9],O+=y*be,R+=y*ve,H+=y*Pe,P+=y*Te,m+=y*Me,I+=y*Ge,te+=y*Oe,E+=y*Ae,X+=y*ze,G+=y*Ne,V+=y*Ce,W+=y*ot,b+=y*Be,q+=y*Fe,oe+=y*ht,pe+=y*ke,y=k[10],R+=y*be,H+=y*ve,P+=y*Pe,m+=y*Te,I+=y*Me,te+=y*Ge,E+=y*Oe,X+=y*Ae,G+=y*ze,V+=y*Ne,W+=y*Ce,b+=y*ot,q+=y*Be,oe+=y*Fe,pe+=y*ht,fe+=y*ke,y=k[11],H+=y*be,P+=y*ve,m+=y*Pe,I+=y*Te,te+=y*Me,E+=y*Ge,X+=y*Oe,G+=y*Ae,V+=y*ze,W+=y*Ne,b+=y*Ce,q+=y*ot,oe+=y*Be,pe+=y*Fe,fe+=y*ht,we+=y*ke,y=k[12],P+=y*be,m+=y*ve,I+=y*Pe,te+=y*Te,E+=y*Me,X+=y*Ge,G+=y*Oe,V+=y*Ae,W+=y*ze,b+=y*Ne,q+=y*Ce,oe+=y*ot,pe+=y*Be,fe+=y*Fe,we+=y*ht,He+=y*ke,y=k[13],m+=y*be,I+=y*ve,te+=y*Pe,E+=y*Te,X+=y*Me,G+=y*Ge,V+=y*Oe,W+=y*Ae,b+=y*ze,q+=y*Ne,oe+=y*Ce,pe+=y*ot,fe+=y*Be,we+=y*Fe,He+=y*ht,Ee+=y*ke,y=k[14],I+=y*be,te+=y*ve,E+=y*Pe,X+=y*Te,G+=y*Me,V+=y*Ge,W+=y*Oe,b+=y*Ae,q+=y*ze,oe+=y*Ne,pe+=y*Ce,fe+=y*ot,we+=y*Be,He+=y*Fe,Ee+=y*ht,$e+=y*ke,y=k[15],te+=y*be,E+=y*ve,X+=y*Pe,G+=y*Te,V+=y*Me,W+=y*Ge,b+=y*Oe,q+=y*Ae,oe+=y*ze,pe+=y*Ne,fe+=y*Ce,we+=y*ot,He+=y*Be,Ee+=y*Fe,$e+=y*ht,ue+=y*ke,ne+=38*E,U+=38*X,Q+=38*G,Z+=38*V,N+=38*W,f+=38*b,g+=38*q,w+=38*oe,T+=38*pe,O+=38*fe,R+=38*we,H+=38*He,P+=38*Ee,m+=38*$e,I+=38*ue,A=1,y=ne+A+65535,A=Math.floor(y/65536),ne=y-A*65536,y=U+A+65535,A=Math.floor(y/65536),U=y-A*65536,y=Q+A+65535,A=Math.floor(y/65536),Q=y-A*65536,y=Z+A+65535,A=Math.floor(y/65536),Z=y-A*65536,y=N+A+65535,A=Math.floor(y/65536),N=y-A*65536,y=f+A+65535,A=Math.floor(y/65536),f=y-A*65536,y=g+A+65535,A=Math.floor(y/65536),g=y-A*65536,y=w+A+65535,A=Math.floor(y/65536),w=y-A*65536,y=T+A+65535,A=Math.floor(y/65536),T=y-A*65536,y=O+A+65535,A=Math.floor(y/65536),O=y-A*65536,y=R+A+65535,A=Math.floor(y/65536),R=y-A*65536,y=H+A+65535,A=Math.floor(y/65536),H=y-A*65536,y=P+A+65535,A=Math.floor(y/65536),P=y-A*65536,y=m+A+65535,A=Math.floor(y/65536),m=y-A*65536,y=I+A+65535,A=Math.floor(y/65536),I=y-A*65536,y=te+A+65535,A=Math.floor(y/65536),te=y-A*65536,ne+=A-1+37*(A-1),A=1,y=ne+A+65535,A=Math.floor(y/65536),ne=y-A*65536,y=U+A+65535,A=Math.floor(y/65536),U=y-A*65536,y=Q+A+65535,A=Math.floor(y/65536),Q=y-A*65536,y=Z+A+65535,A=Math.floor(y/65536),Z=y-A*65536,y=N+A+65535,A=Math.floor(y/65536),N=y-A*65536,y=f+A+65535,A=Math.floor(y/65536),f=y-A*65536,y=g+A+65535,A=Math.floor(y/65536),g=y-A*65536,y=w+A+65535,A=Math.floor(y/65536),w=y-A*65536,y=T+A+65535,A=Math.floor(y/65536),T=y-A*65536,y=O+A+65535,A=Math.floor(y/65536),O=y-A*65536,y=R+A+65535,A=Math.floor(y/65536),R=y-A*65536,y=H+A+65535,A=Math.floor(y/65536),H=y-A*65536,y=P+A+65535,A=Math.floor(y/65536),P=y-A*65536,y=m+A+65535,A=Math.floor(y/65536),m=y-A*65536,y=I+A+65535,A=Math.floor(y/65536),I=y-A*65536,y=te+A+65535,A=Math.floor(y/65536),te=y-A*65536,ne+=A-1+37*(A-1),L[0]=ne,L[1]=U,L[2]=Q,L[3]=Z,L[4]=N,L[5]=f,L[6]=g,L[7]=w,L[8]=T,L[9]=O,L[10]=R,L[11]=H,L[12]=P,L[13]=m,L[14]=I,L[15]=te}function S(L,k){x(L,k,k)}function C(L,k){const D=n();for(let y=0;y<16;y++)D[y]=k[y];for(let y=253;y>=0;y--)S(D,D),y!==2&&y!==4&&x(D,D,k);for(let y=0;y<16;y++)L[y]=D[y]}function B(L,k){const D=new Uint8Array(32),y=new Float64Array(80),A=n(),ne=n(),U=n(),Q=n(),Z=n(),N=n();for(let T=0;T<31;T++)D[T]=L[T];D[31]=L[31]&127|64,D[0]&=248,d(y,k);for(let T=0;T<16;T++)ne[T]=y[T];A[0]=Q[0]=1;for(let T=254;T>=0;--T){const O=D[T>>>3]>>>(T&7)&1;u(A,ne,O),u(U,Q,O),p(Z,A,U),v(A,A,U),p(U,ne,Q),v(ne,ne,Q),S(Q,Z),S(N,A),x(A,U,A),x(U,ne,Z),p(Z,A,U),v(A,A,U),S(ne,A),v(U,Q,N),x(A,U,s),p(A,A,Q),x(U,U,A),x(A,Q,N),x(Q,ne,y),S(ne,Z),u(A,ne,O),u(U,Q,O)}for(let T=0;T<16;T++)y[T+16]=A[T],y[T+32]=U[T],y[T+48]=ne[T],y[T+64]=Q[T];const f=y.subarray(32),g=y.subarray(16);C(f,f),x(g,g,f);const w=new Uint8Array(32);return l(w,g),w}r.scalarMult=B;function $(L){return B(L,i)}r.scalarMultBase=$;function Y(L){if(L.length!==r.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${r.SECRET_KEY_LENGTH} bytes`);const k=new Uint8Array(L);return{publicKey:$(k),secretKey:k}}r.generateKeyPairFromSeed=Y;function F(L){const k=(0,e.randomBytes)(32,L),D=Y(k);return(0,t.wipe)(k),D}r.generateKeyPair=F;function z(L,k,D=!1){if(L.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(k.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const y=B(L,k);if(D){let A=0;for(let ne=0;ne<y.length;ne++)A|=y[ne];if(A===0)throw new Error("X25519: invalid shared key")}return y}r.sharedKey=z})(Pp);function Op(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function jw(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Op(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function T0(r,e){e||(e=r.reduce((i,s)=>i+s.length,0));const t=jw(e);let n=0;for(const i of r)t.set(i,n),n+=i.length;return Op(t)}function MT(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var s=r.charAt(i),a=s.charCodeAt(0);if(t[a]!==255)throw new TypeError(s+" is ambiguous");t[a]=i}var u=r.length,l=r.charAt(0),d=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function v(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var B=0,$=0,Y=0,F=C.length;Y!==F&&C[Y]===0;)Y++,B++;for(var z=(F-Y)*p+1>>>0,L=new Uint8Array(z);Y!==F;){for(var k=C[Y],D=0,y=z-1;(k!==0||D<$)&&y!==-1;y--,D++)k+=256*L[y]>>>0,L[y]=k%u>>>0,k=k/u>>>0;if(k!==0)throw new Error("Non-zero carry");$=D,Y++}for(var A=z-$;A!==z&&L[A]===0;)A++;for(var ne=l.repeat(B);A<z;++A)ne+=r.charAt(L[A]);return ne}function x(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var B=0;if(C[B]!==" "){for(var $=0,Y=0;C[B]===l;)$++,B++;for(var F=(C.length-B)*d+1>>>0,z=new Uint8Array(F);C[B];){var L=t[C.charCodeAt(B)];if(L===255)return;for(var k=0,D=F-1;(L!==0||k<Y)&&D!==-1;D--,k++)L+=u*z[D]>>>0,z[D]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");Y=k,B++}if(C[B]!==" "){for(var y=F-Y;y!==F&&z[y]===0;)y++;for(var A=new Uint8Array($+(F-y)),ne=$;y!==F;)A[ne++]=z[y++];return A}}}function S(C){var B=x(C);if(B)return B;throw new Error(`Non-${e} character`)}return{encode:v,decodeUnsafe:x,decode:S}}var NT=MT,BT=NT;const kT=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},LT=r=>new TextEncoder().encode(r),FT=r=>new TextDecoder().decode(r);class UT{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class jT{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Hw(this,e)}}class HT{constructor(e){this.decoders=e}or(e){return Hw(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Hw=(r,e)=>new HT({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class $T{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new UT(e,t,n),this.decoder=new jT(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Bl=({name:r,prefix:e,encode:t,decode:n})=>new $T(r,e,t,n),cu=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:i}=BT(t,e);return Bl({prefix:r,name:e,encode:n,decode:s=>kT(i(s))})},qT=(r,e,t,n)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let s=r.length;for(;r[s-1]==="=";)--s;const a=new Uint8Array(s*t/8|0);let u=0,l=0,d=0;for(let p=0;p<s;++p){const v=i[r[p]];if(v===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<t|v,u+=t,u>=8&&(u-=8,a[d++]=255&l>>u)}if(u>=t||255&l<<8-u)throw new SyntaxError("Unexpected end of data");return a},GT=(r,e,t)=>{const n=e[e.length-1]==="=",i=(1<<t)-1;let s="",a=0,u=0;for(let l=0;l<r.length;++l)for(u=u<<8|r[l],a+=8;a>t;)a-=t,s+=e[i&u>>a];if(a&&(s+=e[i&u<<t-a]),n)for(;s.length*t&7;)s+="=";return s},Gr=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Bl({prefix:e,name:r,encode(i){return GT(i,n,t)},decode(i){return qT(i,n,t,r)}}),zT=Bl({prefix:"\0",name:"identity",encode:r=>FT(r),decode:r=>LT(r)}),VT=Object.freeze(Object.defineProperty({__proto__:null,identity:zT},Symbol.toStringTag,{value:"Module"})),KT=Gr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),WT=Object.freeze(Object.defineProperty({__proto__:null,base2:KT},Symbol.toStringTag,{value:"Module"})),QT=Gr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),JT=Object.freeze(Object.defineProperty({__proto__:null,base8:QT},Symbol.toStringTag,{value:"Module"})),YT=cu({prefix:"9",name:"base10",alphabet:"0123456789"}),XT=Object.freeze(Object.defineProperty({__proto__:null,base10:YT},Symbol.toStringTag,{value:"Module"})),ZT=Gr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),eC=Gr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),tC=Object.freeze(Object.defineProperty({__proto__:null,base16:ZT,base16upper:eC},Symbol.toStringTag,{value:"Module"})),rC=Gr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),nC=Gr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),iC=Gr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),sC=Gr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oC=Gr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),aC=Gr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),cC=Gr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),uC=Gr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fC=Gr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),lC=Object.freeze(Object.defineProperty({__proto__:null,base32:rC,base32hex:oC,base32hexpad:cC,base32hexpadupper:uC,base32hexupper:aC,base32pad:iC,base32padupper:sC,base32upper:nC,base32z:fC},Symbol.toStringTag,{value:"Module"})),hC=cu({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),dC=cu({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),pC=Object.freeze(Object.defineProperty({__proto__:null,base36:hC,base36upper:dC},Symbol.toStringTag,{value:"Module"})),gC=cu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),mC=cu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),yC=Object.freeze(Object.defineProperty({__proto__:null,base58btc:gC,base58flickr:mC},Symbol.toStringTag,{value:"Module"})),vC=Gr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bC=Gr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),wC=Gr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_C=Gr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),EC=Object.freeze(Object.defineProperty({__proto__:null,base64:vC,base64pad:bC,base64url:wC,base64urlpad:_C},Symbol.toStringTag,{value:"Module"})),$w=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),AC=$w.reduce((r,e,t)=>(r[t]=e,r),[]),xC=$w.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function SC(r){return r.reduce((e,t)=>(e+=AC[t],e),"")}function IC(r){const e=[];for(const t of r){const n=xC[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const TC=Bl({prefix:"🚀",name:"base256emoji",encode:SC,decode:IC}),CC=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:TC},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const mv={...VT,...WT,...JT,...XT,...tC,...lC,...pC,...yC,...EC,...CC};function qw(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const yv=qw("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Pd=qw("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=jw(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Gw={utf8:yv,"utf-8":yv,hex:mv.base16,latin1:Pd,ascii:Pd,binary:Pd,...mv};function vn(r,e="utf8"){const t=Gw[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Op(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function cn(r,e="utf8"){const t=Gw[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var vv=globalThis&&globalThis.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},PC=function(){function r(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"}return r}(),OC=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}(),DC=function(){function r(e,t,n,i){this.name=e,this.version=t,this.os=n,this.bot=i,this.type="bot-device"}return r}(),RC=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),MC=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),NC=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,BC=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,bv=3,kC=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",NC]],wv=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function LC(r){return r?_v(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new MC:typeof navigator<"u"?_v(navigator.userAgent):jC()}function FC(r){return r!==""&&kC.reduce(function(e,t){var n=t[0],i=t[1];if(e)return e;var s=i.exec(r);return!!s&&[n,s]},!1)}function _v(r){var e=FC(r);if(!e)return null;var t=e[0],n=e[1];if(t==="searchbot")return new RC;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<bv&&(i=vv(vv([],i,!0),HC(bv-i.length),!0)):i=[];var s=i.join("."),a=UC(r),u=BC.exec(r);return u&&u[1]?new DC(t,s,a,u[1]):new PC(t,s,a)}function UC(r){for(var e=0,t=wv.length;e<t;e++){var n=wv[e],i=n[0],s=n[1],a=s.exec(r);if(a)return i}return null}function jC(){var r=typeof process<"u"&&process.version;return r?new OC(process.version.slice(1)):null}function HC(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var Le={},zw={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(r){var e,t,n,i,s,a,u,l,d,p,v,x,S,C,B,$,Y,F,z,L,k,D,y;(function(A){var ne=typeof mr=="object"?mr:typeof self=="object"?self:typeof this=="object"?this:{};A(U(ne,U(r.exports)));function U(Q,Z){return Q!==ne&&(typeof Object.create=="function"?Object.defineProperty(Q,"__esModule",{value:!0}):Q.__esModule=!0),function(N,f){return Q[N]=Z?Z(N,f):f}}})(function(A){var ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,Q){U.__proto__=Q}||function(U,Q){for(var Z in Q)Q.hasOwnProperty(Z)&&(U[Z]=Q[Z])};e=function(U,Q){ne(U,Q);function Z(){this.constructor=U}U.prototype=Q===null?Object.create(Q):(Z.prototype=Q.prototype,new Z)},t=Object.assign||function(U){for(var Q,Z=1,N=arguments.length;Z<N;Z++){Q=arguments[Z];for(var f in Q)Object.prototype.hasOwnProperty.call(Q,f)&&(U[f]=Q[f])}return U},n=function(U,Q){var Z={};for(var N in U)Object.prototype.hasOwnProperty.call(U,N)&&Q.indexOf(N)<0&&(Z[N]=U[N]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,N=Object.getOwnPropertySymbols(U);f<N.length;f++)Q.indexOf(N[f])<0&&Object.prototype.propertyIsEnumerable.call(U,N[f])&&(Z[N[f]]=U[N[f]]);return Z},i=function(U,Q,Z,N){var f=arguments.length,g=f<3?Q:N===null?N=Object.getOwnPropertyDescriptor(Q,Z):N,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(U,Q,Z,N);else for(var T=U.length-1;T>=0;T--)(w=U[T])&&(g=(f<3?w(g):f>3?w(Q,Z,g):w(Q,Z))||g);return f>3&&g&&Object.defineProperty(Q,Z,g),g},s=function(U,Q){return function(Z,N){Q(Z,N,U)}},a=function(U,Q){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(U,Q)},u=function(U,Q,Z,N){function f(g){return g instanceof Z?g:new Z(function(w){w(g)})}return new(Z||(Z=Promise))(function(g,w){function T(H){try{R(N.next(H))}catch(P){w(P)}}function O(H){try{R(N.throw(H))}catch(P){w(P)}}function R(H){H.done?g(H.value):f(H.value).then(T,O)}R((N=N.apply(U,Q||[])).next())})},l=function(U,Q){var Z={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},N,f,g,w;return w={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function T(R){return function(H){return O([R,H])}}function O(R){if(N)throw new TypeError("Generator is already executing.");for(;Z;)try{if(N=1,f&&(g=R[0]&2?f.return:R[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,R[1])).done)return g;switch(f=0,g&&(R=[R[0]&2,g.value]),R[0]){case 0:case 1:g=R;break;case 4:return Z.label++,{value:R[1],done:!1};case 5:Z.label++,f=R[1],R=[0];continue;case 7:R=Z.ops.pop(),Z.trys.pop();continue;default:if(g=Z.trys,!(g=g.length>0&&g[g.length-1])&&(R[0]===6||R[0]===2)){Z=0;continue}if(R[0]===3&&(!g||R[1]>g[0]&&R[1]<g[3])){Z.label=R[1];break}if(R[0]===6&&Z.label<g[1]){Z.label=g[1],g=R;break}if(g&&Z.label<g[2]){Z.label=g[2],Z.ops.push(R);break}g[2]&&Z.ops.pop(),Z.trys.pop();continue}R=Q.call(U,Z)}catch(H){R=[6,H],f=0}finally{N=g=0}if(R[0]&5)throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}},y=function(U,Q,Z,N){N===void 0&&(N=Z),U[N]=Q[Z]},d=function(U,Q){for(var Z in U)Z!=="default"&&!Q.hasOwnProperty(Z)&&(Q[Z]=U[Z])},p=function(U){var Q=typeof Symbol=="function"&&Symbol.iterator,Z=Q&&U[Q],N=0;if(Z)return Z.call(U);if(U&&typeof U.length=="number")return{next:function(){return U&&N>=U.length&&(U=void 0),{value:U&&U[N++],done:!U}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")},v=function(U,Q){var Z=typeof Symbol=="function"&&U[Symbol.iterator];if(!Z)return U;var N=Z.call(U),f,g=[],w;try{for(;(Q===void 0||Q-- >0)&&!(f=N.next()).done;)g.push(f.value)}catch(T){w={error:T}}finally{try{f&&!f.done&&(Z=N.return)&&Z.call(N)}finally{if(w)throw w.error}}return g},x=function(){for(var U=[],Q=0;Q<arguments.length;Q++)U=U.concat(v(arguments[Q]));return U},S=function(){for(var U=0,Q=0,Z=arguments.length;Q<Z;Q++)U+=arguments[Q].length;for(var N=Array(U),f=0,Q=0;Q<Z;Q++)for(var g=arguments[Q],w=0,T=g.length;w<T;w++,f++)N[f]=g[w];return N},C=function(U){return this instanceof C?(this.v=U,this):new C(U)},B=function(U,Q,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=Z.apply(U,Q||[]),f,g=[];return f={},w("next"),w("throw"),w("return"),f[Symbol.asyncIterator]=function(){return this},f;function w(m){N[m]&&(f[m]=function(I){return new Promise(function(te,E){g.push([m,I,te,E])>1||T(m,I)})})}function T(m,I){try{O(N[m](I))}catch(te){P(g[0][3],te)}}function O(m){m.value instanceof C?Promise.resolve(m.value.v).then(R,H):P(g[0][2],m)}function R(m){T("next",m)}function H(m){T("throw",m)}function P(m,I){m(I),g.shift(),g.length&&T(g[0][0],g[0][1])}},$=function(U){var Q,Z;return Q={},N("next"),N("throw",function(f){throw f}),N("return"),Q[Symbol.iterator]=function(){return this},Q;function N(f,g){Q[f]=U[f]?function(w){return(Z=!Z)?{value:C(U[f](w)),done:f==="return"}:g?g(w):w}:g}},Y=function(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=U[Symbol.asyncIterator],Z;return Q?Q.call(U):(U=typeof p=="function"?p(U):U[Symbol.iterator](),Z={},N("next"),N("throw"),N("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function N(g){Z[g]=U[g]&&function(w){return new Promise(function(T,O){w=U[g](w),f(T,O,w.done,w.value)})}}function f(g,w,T,O){Promise.resolve(O).then(function(R){g({value:R,done:T})},w)}},F=function(U,Q){return Object.defineProperty?Object.defineProperty(U,"raw",{value:Q}):U.raw=Q,U},z=function(U){if(U&&U.__esModule)return U;var Q={};if(U!=null)for(var Z in U)Object.hasOwnProperty.call(U,Z)&&(Q[Z]=U[Z]);return Q.default=U,Q},L=function(U){return U&&U.__esModule?U:{default:U}},k=function(U,Q){if(!Q.has(U))throw new TypeError("attempted to get private field on non-instance");return Q.get(U)},D=function(U,Q,Z){if(!Q.has(U))throw new TypeError("attempted to set private field on non-instance");return Q.set(U,Z),Z},A("__extends",e),A("__assign",t),A("__rest",n),A("__decorate",i),A("__param",s),A("__metadata",a),A("__awaiter",u),A("__generator",l),A("__exportStar",d),A("__createBinding",y),A("__values",p),A("__read",v),A("__spread",x),A("__spreadArrays",S),A("__await",C),A("__asyncGenerator",B),A("__asyncDelegator",$),A("__asyncValues",Y),A("__makeTemplateObject",F),A("__importStar",z),A("__importDefault",L),A("__classPrivateFieldGet",k),A("__classPrivateFieldSet",D)})})(zw);var ri=zw.exports,Od={},yc={},Ev;function $C(){if(Ev)return yc;Ev=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.delay=void 0;function r(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return yc.delay=r,yc}var ho={},Dd={},po={},Av;function qC(){return Av||(Av=1,Object.defineProperty(po,"__esModule",{value:!0}),po.ONE_THOUSAND=po.ONE_HUNDRED=void 0,po.ONE_HUNDRED=100,po.ONE_THOUSAND=1e3),po}var Rd={},xv;function GC(){return xv||(xv=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=r.ONE_MINUTE*5,r.TEN_MINUTES=r.ONE_MINUTE*10,r.THIRTY_MINUTES=r.ONE_MINUTE*30,r.SIXTY_MINUTES=r.ONE_MINUTE*60,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=r.ONE_HOUR*3,r.SIX_HOURS=r.ONE_HOUR*6,r.TWELVE_HOURS=r.ONE_HOUR*12,r.TWENTY_FOUR_HOURS=r.ONE_HOUR*24,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=r.ONE_DAY*3,r.FIVE_DAYS=r.ONE_DAY*5,r.SEVEN_DAYS=r.ONE_DAY*7,r.THIRTY_DAYS=r.ONE_DAY*30,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=r.ONE_WEEK*2,r.THREE_WEEKS=r.ONE_WEEK*3,r.FOUR_WEEKS=r.ONE_WEEK*4,r.ONE_YEAR=r.ONE_DAY*365}(Rd)),Rd}var Sv;function Vw(){return Sv||(Sv=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=ri;e.__exportStar(qC(),r),e.__exportStar(GC(),r)}(Dd)),Dd}var Iv;function zC(){if(Iv)return ho;Iv=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.fromMiliseconds=ho.toMiliseconds=void 0;const r=Vw();function e(n){return n*r.ONE_THOUSAND}ho.toMiliseconds=e;function t(n){return Math.floor(n/r.ONE_THOUSAND)}return ho.fromMiliseconds=t,ho}var Tv;function VC(){return Tv||(Tv=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=ri;e.__exportStar($C(),r),e.__exportStar(zC(),r)}(Od)),Od}var aa={},Cv;function KC(){if(Cv)return aa;Cv=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const n=this.get(t);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const i=Date.now()-n.started;this.timestamps.set(t,{started:n.started,elapsed:i})}get(t){const n=this.timestamps.get(t);if(typeof n>"u")throw new Error(`No timestamp found for label: ${t}`);return n}elapsed(t){const n=this.get(t);return n.elapsed||Date.now()-n.started}}return aa.Watch=r,aa.default=r,aa}var Md={},vc={},Pv;function WC(){if(Pv)return vc;Pv=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.IWatch=void 0;class r{}return vc.IWatch=r,vc}var Ov;function QC(){return Ov||(Ov=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),ri.__exportStar(WC(),r)}(Md)),Md}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=ri;e.__exportStar(VC(),r),e.__exportStar(KC(),r),e.__exportStar(QC(),r),e.__exportStar(Vw(),r)})(Le);var ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.getLocalStorage=ar.getLocalStorageOrThrow=ar.getCrypto=ar.getCryptoOrThrow=Ww=ar.getLocation=ar.getLocationOrThrow=Dp=ar.getNavigator=ar.getNavigatorOrThrow=Kw=ar.getDocument=ar.getDocumentOrThrow=ar.getFromWindowOrThrow=ar.getFromWindow=void 0;function Lo(r){let e;return typeof window<"u"&&typeof window[r]<"u"&&(e=window[r]),e}ar.getFromWindow=Lo;function za(r){const e=Lo(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}ar.getFromWindowOrThrow=za;function JC(){return za("document")}ar.getDocumentOrThrow=JC;function YC(){return Lo("document")}var Kw=ar.getDocument=YC;function XC(){return za("navigator")}ar.getNavigatorOrThrow=XC;function ZC(){return Lo("navigator")}var Dp=ar.getNavigator=ZC;function eP(){return za("location")}ar.getLocationOrThrow=eP;function tP(){return Lo("location")}var Ww=ar.getLocation=tP;function rP(){return za("crypto")}ar.getCryptoOrThrow=rP;function nP(){return Lo("crypto")}ar.getCrypto=nP;function iP(){return za("localStorage")}ar.getLocalStorageOrThrow=iP;function sP(){return Lo("localStorage")}ar.getLocalStorage=sP;var Rp={};Object.defineProperty(Rp,"__esModule",{value:!0});var Qw=Rp.getWindowMetadata=void 0;const Dv=ar;function oP(){let r,e;try{r=Dv.getDocumentOrThrow(),e=Dv.getLocationOrThrow()}catch{return null}function t(){const v=r.getElementsByTagName("link"),x=[];for(let S=0;S<v.length;S++){const C=v[S],B=C.getAttribute("rel");if(B&&B.toLowerCase().indexOf("icon")>-1){const $=C.getAttribute("href");if($)if($.toLowerCase().indexOf("https:")===-1&&$.toLowerCase().indexOf("http:")===-1&&$.indexOf("//")!==0){let Y=e.protocol+"//"+e.host;if($.indexOf("/")===0)Y+=$;else{const F=e.pathname.split("/");F.pop();const z=F.join("/");Y+=z+"/"+$}x.push(Y)}else if($.indexOf("//")===0){const Y=e.protocol+$;x.push(Y)}else x.push($)}}return x}function n(...v){const x=r.getElementsByTagName("meta");for(let S=0;S<x.length;S++){const C=x[S],B=["itemprop","property","name"].map($=>C.getAttribute($)).filter($=>$?v.includes($):!1);if(B.length&&B){const $=C.getAttribute("content");if($)return $}}return""}function i(){let v=n("name","og:site_name","og:title","twitter:title");return v||(v=r.title),v}function s(){return n("description","og:description","twitter:description","keywords")}const a=i(),u=s(),l=e.origin,d=t();return{description:u,url:l,icons:d,name:a}}Qw=Rp.getWindowMetadata=oP;var Gc={},aP=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Jw="%[a-f0-9]{2}",Rv=new RegExp("("+Jw+")|([^%]+?)","gi"),Mv=new RegExp("("+Jw+")+","gi");function C0(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;var t=r.slice(0,e),n=r.slice(e);return Array.prototype.concat.call([],C0(t),C0(n))}function cP(r){try{return decodeURIComponent(r)}catch{for(var e=r.match(Rv)||[],t=1;t<e.length;t++)r=C0(e,t).join(""),e=r.match(Rv)||[];return r}}function uP(r){for(var e={"%FE%FF":"��","%FF%FE":"��"},t=Mv.exec(r);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var n=cP(t[0]);n!==t[0]&&(e[t[0]]=n)}t=Mv.exec(r)}e["%C2"]="�";for(var i=Object.keys(e),s=0;s<i.length;s++){var a=i[s];r=r.replace(new RegExp(a,"g"),e[a])}return r}var fP=function(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch{return uP(r)}},lP=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];const t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]},hP=function(r,e){for(var t={},n=Object.keys(r),i=Array.isArray(e),s=0;s<n.length;s++){var a=n[s],u=r[a];(i?e.indexOf(a)!==-1:e(a,u,r))&&(t[a]=u)}return t};(function(r){const e=aP,t=fP,n=lP,i=hP,s=F=>F==null,a=Symbol("encodeFragmentIdentifier");function u(F){switch(F.arrayFormat){case"index":return z=>(L,k)=>{const D=L.length;return k===void 0||F.skipNull&&k===null||F.skipEmptyString&&k===""?L:k===null?[...L,[p(z,F),"[",D,"]"].join("")]:[...L,[p(z,F),"[",p(D,F),"]=",p(k,F)].join("")]};case"bracket":return z=>(L,k)=>k===void 0||F.skipNull&&k===null||F.skipEmptyString&&k===""?L:k===null?[...L,[p(z,F),"[]"].join("")]:[...L,[p(z,F),"[]=",p(k,F)].join("")];case"colon-list-separator":return z=>(L,k)=>k===void 0||F.skipNull&&k===null||F.skipEmptyString&&k===""?L:k===null?[...L,[p(z,F),":list="].join("")]:[...L,[p(z,F),":list=",p(k,F)].join("")];case"comma":case"separator":case"bracket-separator":{const z=F.arrayFormat==="bracket-separator"?"[]=":"=";return L=>(k,D)=>D===void 0||F.skipNull&&D===null||F.skipEmptyString&&D===""?k:(D=D===null?"":D,k.length===0?[[p(L,F),z,p(D,F)].join("")]:[[k,p(D,F)].join(F.arrayFormatSeparator)])}default:return z=>(L,k)=>k===void 0||F.skipNull&&k===null||F.skipEmptyString&&k===""?L:k===null?[...L,p(z,F)]:[...L,[p(z,F),"=",p(k,F)].join("")]}}function l(F){let z;switch(F.arrayFormat){case"index":return(L,k,D)=>{if(z=/\[(\d*)\]$/.exec(L),L=L.replace(/\[\d*\]$/,""),!z){D[L]=k;return}D[L]===void 0&&(D[L]={}),D[L][z[1]]=k};case"bracket":return(L,k,D)=>{if(z=/(\[\])$/.exec(L),L=L.replace(/\[\]$/,""),!z){D[L]=k;return}if(D[L]===void 0){D[L]=[k];return}D[L]=[].concat(D[L],k)};case"colon-list-separator":return(L,k,D)=>{if(z=/(:list)$/.exec(L),L=L.replace(/:list$/,""),!z){D[L]=k;return}if(D[L]===void 0){D[L]=[k];return}D[L]=[].concat(D[L],k)};case"comma":case"separator":return(L,k,D)=>{const y=typeof k=="string"&&k.includes(F.arrayFormatSeparator),A=typeof k=="string"&&!y&&v(k,F).includes(F.arrayFormatSeparator);k=A?v(k,F):k;const ne=y||A?k.split(F.arrayFormatSeparator).map(U=>v(U,F)):k===null?k:v(k,F);D[L]=ne};case"bracket-separator":return(L,k,D)=>{const y=/(\[\])$/.test(L);if(L=L.replace(/\[\]$/,""),!y){D[L]=k&&v(k,F);return}const A=k===null?[]:k.split(F.arrayFormatSeparator).map(ne=>v(ne,F));if(D[L]===void 0){D[L]=A;return}D[L]=[].concat(D[L],A)};default:return(L,k,D)=>{if(D[L]===void 0){D[L]=k;return}D[L]=[].concat(D[L],k)}}}function d(F){if(typeof F!="string"||F.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function p(F,z){return z.encode?z.strict?e(F):encodeURIComponent(F):F}function v(F,z){return z.decode?t(F):F}function x(F){return Array.isArray(F)?F.sort():typeof F=="object"?x(Object.keys(F)).sort((z,L)=>Number(z)-Number(L)).map(z=>F[z]):F}function S(F){const z=F.indexOf("#");return z!==-1&&(F=F.slice(0,z)),F}function C(F){let z="";const L=F.indexOf("#");return L!==-1&&(z=F.slice(L)),z}function B(F){F=S(F);const z=F.indexOf("?");return z===-1?"":F.slice(z+1)}function $(F,z){return z.parseNumbers&&!Number.isNaN(Number(F))&&typeof F=="string"&&F.trim()!==""?F=Number(F):z.parseBooleans&&F!==null&&(F.toLowerCase()==="true"||F.toLowerCase()==="false")&&(F=F.toLowerCase()==="true"),F}function Y(F,z){z=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},z),d(z.arrayFormatSeparator);const L=l(z),k=Object.create(null);if(typeof F!="string"||(F=F.trim().replace(/^[?#&]/,""),!F))return k;for(const D of F.split("&")){if(D==="")continue;let[y,A]=n(z.decode?D.replace(/\+/g," "):D,"=");A=A===void 0?null:["comma","separator","bracket-separator"].includes(z.arrayFormat)?A:v(A,z),L(v(y,z),A,k)}for(const D of Object.keys(k)){const y=k[D];if(typeof y=="object"&&y!==null)for(const A of Object.keys(y))y[A]=$(y[A],z);else k[D]=$(y,z)}return z.sort===!1?k:(z.sort===!0?Object.keys(k).sort():Object.keys(k).sort(z.sort)).reduce((D,y)=>{const A=k[y];return A&&typeof A=="object"&&!Array.isArray(A)?D[y]=x(A):D[y]=A,D},Object.create(null))}r.extract=B,r.parse=Y,r.stringify=(F,z)=>{if(!F)return"";z=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},z),d(z.arrayFormatSeparator);const L=A=>z.skipNull&&s(F[A])||z.skipEmptyString&&F[A]==="",k=u(z),D={};for(const A of Object.keys(F))L(A)||(D[A]=F[A]);const y=Object.keys(D);return z.sort!==!1&&y.sort(z.sort),y.map(A=>{const ne=F[A];return ne===void 0?"":ne===null?p(A,z):Array.isArray(ne)?ne.length===0&&z.arrayFormat==="bracket-separator"?p(A,z)+"[]":ne.reduce(k(A),[]).join("&"):p(A,z)+"="+p(ne,z)}).filter(A=>A.length>0).join("&")},r.parseUrl=(F,z)=>{z=Object.assign({decode:!0},z);const[L,k]=n(F,"#");return Object.assign({url:L.split("?")[0]||"",query:Y(B(F),z)},z&&z.parseFragmentIdentifier&&k?{fragmentIdentifier:v(k,z)}:{})},r.stringifyUrl=(F,z)=>{z=Object.assign({encode:!0,strict:!0,[a]:!0},z);const L=S(F.url).split("?")[0]||"",k=r.extract(F.url),D=r.parse(k,{sort:!1}),y=Object.assign(D,F.query);let A=r.stringify(y,z);A&&(A=`?${A}`);let ne=C(F.url);return F.fragmentIdentifier&&(ne=`#${z[a]?p(F.fragmentIdentifier,z):F.fragmentIdentifier}`),`${L}${A}${ne}`},r.pick=(F,z,L)=>{L=Object.assign({parseFragmentIdentifier:!0,[a]:!1},L);const{url:k,query:D,fragmentIdentifier:y}=r.parseUrl(F,L);return r.stringifyUrl({url:k,query:i(D,z),fragmentIdentifier:y},L)},r.exclude=(F,z,L)=>{const k=Array.isArray(z)?D=>!z.includes(D):(D,y)=>!z(D,y);return r.pick(F,k,L)}})(Gc);const dP={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function pP(r,e=[]){const t=[];return Object.keys(r).forEach(n=>{if(e.length&&!e.includes(n))return;const i=r[n];t.push(...i.accounts)}),t}function Yw(r,e){return r.includes(":")?[r]:e.chains||[]}const Xw="base10",an="base16",P0="base64pad",Mp="utf8",Zw=0,Fo=1,gP=0,Nv=1,O0=12,Np=32;function mP(){const r=Pp.generateKeyPair();return{privateKey:cn(r.secretKey,an),publicKey:cn(r.publicKey,an)}}function D0(){const r=Ga.randomBytes(Np);return cn(r,an)}function yP(r,e){const t=Pp.sharedKey(vn(r,an),vn(e,an)),n=new AT(Nl.SHA256,t).expand(Np);return cn(n,an)}function vP(r){const e=Nl.hash(vn(r,an));return cn(e,an)}function xa(r){const e=Nl.hash(vn(r,Mp));return cn(e,an)}function bP(r){return vn(`${r}`,Xw)}function uu(r){return Number(cn(r,Xw))}function wP(r){const e=bP(typeof r.type<"u"?r.type:Zw);if(uu(e)===Fo&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?vn(r.senderPublicKey,an):void 0,n=typeof r.iv<"u"?vn(r.iv,an):Ga.randomBytes(O0),i=new Tp.ChaCha20Poly1305(vn(r.symKey,an)).seal(n,vn(r.message,Mp));return EP({type:e,sealed:i,iv:n,senderPublicKey:t})}function _P(r){const e=new Tp.ChaCha20Poly1305(vn(r.symKey,an)),{sealed:t,iv:n}=Kf(r.encoded),i=e.open(n,t);if(i===null)throw new Error("Failed to decrypt");return cn(i,Mp)}function EP(r){if(uu(r.type)===Fo){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return cn(T0([r.type,r.senderPublicKey,r.iv,r.sealed]),P0)}return cn(T0([r.type,r.iv,r.sealed]),P0)}function Kf(r){const e=vn(r,P0),t=e.slice(gP,Nv),n=Nv;if(uu(t)===Fo){const u=n+Np,l=u+O0,d=e.slice(n,u),p=e.slice(u,l),v=e.slice(l);return{type:t,sealed:v,iv:p,senderPublicKey:d}}const i=n+O0,s=e.slice(n,i),a=e.slice(i);return{type:t,sealed:a,iv:s}}function AP(r,e){const t=Kf(r);return e_({type:uu(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?cn(t.senderPublicKey,an):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function e_(r){const e=(r==null?void 0:r.type)||Zw;if(e===Fo){if(typeof(r==null?void 0:r.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(r==null?void 0:r.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r==null?void 0:r.senderPublicKey,receiverPublicKey:r==null?void 0:r.receiverPublicKey}}function Bv(r){return r.type===Fo&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var xP=Object.defineProperty,kv=Object.getOwnPropertySymbols,SP=Object.prototype.hasOwnProperty,IP=Object.prototype.propertyIsEnumerable,Lv=(r,e,t)=>e in r?xP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Fv=(r,e)=>{for(var t in e||(e={}))SP.call(e,t)&&Lv(r,t,e[t]);if(kv)for(var t of kv(e))IP.call(e,t)&&Lv(r,t,e[t]);return r};const TP="ReactNative",Ms={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},CP="js";function Bp(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function t_(){return!Kw()&&!!Dp()&&navigator.product===TP}function kp(){return!Bp()&&!!Dp()}function Lp(){return t_()?Ms.reactNative:Bp()?Ms.node:kp()?Ms.browser:Ms.unknown}function PP(r,e){let t=Gc.parse(r);return t=Fv(Fv({},t),e),r=Gc.stringify(t),r}function OP(){return Qw()||{name:"",description:"",url:"",icons:[""]}}function DP(){if(Lp()===Ms.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:n}=global.Platform;return[t,n].join("-")}const r=LC();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function RP(){var r;const e=Lp();return e===Ms.browser?[e,((r=Ww())==null?void 0:r.host)||"unknown"].join(":"):e}function MP(r,e,t){const n=DP(),i=RP();return[[r,e].join("-"),[CP,t].join("-"),n,i].join("/")}function NP({protocol:r,version:e,relayUrl:t,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:a}){const u=t.split("?"),l=MP(r,e,n),d={auth:i,ua:l,projectId:s,useOnCloseEvent:a||void 0},p=PP(u[1]||"",d);return u[0]+"?"+p}function _o(r,e){return r.filter(t=>e.includes(t)).length===r.length}function r_(r){return Object.fromEntries(r.entries())}function n_(r){return new Map(Object.entries(r))}function pa(r=Le.FIVE_MINUTES,e){const t=Le.toMiliseconds(r||Le.FIVE_MINUTES);let n,i,s;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,u)=>{s=setTimeout(()=>{u(new Error(e))},t),n=a,i=u})}}function Wf(r,e,t){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(t)),e);try{const a=await r;n(a)}catch(a){i(a)}clearTimeout(s)})}function i_(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function BP(r){return i_("topic",r)}function kP(r){return i_("id",r)}function s_(r){const[e,t]=r.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")n.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))n.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return n}function li(r,e){return Le.fromMiliseconds((e||Date.now())+Le.toMiliseconds(r))}function Rs(r){return Date.now()>=Le.toMiliseconds(r)}function Cr(r,e){return`${r}${e?`:${e}`:""}`}function Nd(r=[],e=[]){return[...new Set([...r,...e])]}async function LP({id:r,topic:e,wcDeepLink:t}){try{if(!t)return;const n=typeof t=="string"?JSON.parse(t):t;let i=n==null?void 0:n.href;if(typeof i!="string")return;i.endsWith("/")&&(i=i.slice(0,-1));const s=`${i}/wc?requestId=${r}&sessionTopic=${e}`,a=Lp();a===Ms.browser?s.startsWith("https://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"):a===Ms.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(n){console.error(n)}}const FP="irn";function R0(r){return(r==null?void 0:r.relay)||{protocol:FP}}function Df(r){const e=dP[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var UP=Object.defineProperty,Uv=Object.getOwnPropertySymbols,jP=Object.prototype.hasOwnProperty,HP=Object.prototype.propertyIsEnumerable,jv=(r,e,t)=>e in r?UP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$P=(r,e)=>{for(var t in e||(e={}))jP.call(e,t)&&jv(r,t,e[t]);if(Uv)for(var t of Uv(e))HP.call(e,t)&&jv(r,t,e[t]);return r};function qP(r,e="-"){const t={},n="relay"+e;return Object.keys(r).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),a=r[i];t[s]=a}}),t}function GP(r){const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,n=r.substring(0,e),i=r.substring(e+1,t).split("@"),s=typeof t<"u"?r.substring(t):"",a=Gc.parse(s);return{protocol:n,topic:zP(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:qP(a)}}function zP(r){return r.startsWith("//")?r.substring(2):r}function VP(r,e="-"){const t="relay",n={};return Object.keys(r).forEach(i=>{const s=t+e+i;r[i]&&(n[s]=r[i])}),n}function KP(r){return`${r.protocol}:${r.topic}@${r.version}?`+Gc.stringify($P({symKey:r.symKey},VP(r.relay)))}function Va(r){const e=[];return r.forEach(t=>{const[n,i]=t.split(":");e.push(`${n}:${i}`)}),e}function WP(r){const e=[];return Object.values(r).forEach(t=>{e.push(...Va(t.accounts))}),e}function QP(r,e){const t=[];return Object.values(r).forEach(n=>{Va(n.accounts).includes(e)&&t.push(...n.methods)}),t}function JP(r,e){const t=[];return Object.values(r).forEach(n=>{Va(n.accounts).includes(e)&&t.push(...n.events)}),t}function YP(r,e){const t=Mf(r,e);if(t)throw new Error(t.message);const n={};for(const[i,s]of Object.entries(r))n[i]={methods:s.methods,events:s.events,chains:s.accounts.map(a=>`${a.split(":")[0]}:${a.split(":")[1]}`)};return n}function Fp(r){return r.includes(":")}function Rf(r){return Fp(r)?r.split(":")[0]:r}const XP={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},ZP={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Se(r,e){const{message:t,code:n}=ZP[r];return{message:e?`${t} ${e}`:t,code:n}}function Ar(r,e){const{message:t,code:n}=XP[r];return{message:e?`${t} ${e}`:t,code:n}}function Mi(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function Sa(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function on(r){return typeof r>"u"}function Ur(r,e){return e&&on(r)?!0:typeof r=="string"&&!!r.trim().length}function Up(r,e){return e&&on(r)?!0:typeof r=="number"&&!isNaN(r)}function eO(r,e){const{requiredNamespaces:t}=e,n=Object.keys(r.namespaces),i=Object.keys(t);let s=!0;return _o(i,n)?(n.forEach(a=>{const{accounts:u,methods:l,events:d}=r.namespaces[a],p=Va(u),v=t[a];(!_o(Yw(a,v),p)||!_o(v.methods,l)||!_o(v.events,d))&&(s=!1)}),s):!1}function Qf(r){return Ur(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function tO(r){if(Ur(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&Qf(t)}}return!1}function rO(r){if(Ur(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function nO(r){var e;return(e=r==null?void 0:r.proposer)==null?void 0:e.publicKey}function iO(r){return r==null?void 0:r.topic}function sO(r,e){let t=null;return Ur(r==null?void 0:r.publicKey,!1)||(t=Se("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function Hv(r){let e=!0;return Mi(r)?r.length&&(e=r.every(t=>Ur(t,!1))):e=!1,e}function oO(r,e,t){let n=null;return Mi(e)&&e.length?e.forEach(i=>{n||Qf(i)||(n=Ar("UNSUPPORTED_CHAINS",`${t}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Qf(r)||(n=Ar("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function aO(r,e,t){let n=null;return Object.entries(r).forEach(([i,s])=>{if(n)return;const a=oO(i,Yw(i,s),`${e} ${t}`);a&&(n=a)}),n}function cO(r,e){let t=null;return Mi(r)?r.forEach(n=>{t||tO(n)||(t=Ar("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):t=Ar("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function uO(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;const i=cO(n==null?void 0:n.accounts,`${e} namespace`);i&&(t=i)}),t}function fO(r,e){let t=null;return Hv(r==null?void 0:r.methods)?Hv(r==null?void 0:r.events)||(t=Ar("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Ar("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function o_(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;const i=fO(n,`${e}, namespace`);i&&(t=i)}),t}function lO(r,e,t){let n=null;if(r&&Sa(r)){const i=o_(r,e);i&&(n=i);const s=aO(r,e,t);s&&(n=s)}else n=Se("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return n}function Mf(r,e){let t=null;if(r&&Sa(r)){const n=o_(r,e);n&&(t=n);const i=uO(r,e);i&&(t=i)}else t=Se("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function a_(r){return Ur(r.protocol,!0)}function hO(r,e){let t=!1;return e&&!r?t=!0:r&&Mi(r)&&r.length&&r.forEach(n=>{t=a_(n)}),t}function dO(r){return typeof r=="number"}function mn(r){return typeof r<"u"&&typeof r!==null}function pO(r){return!(!r||typeof r!="object"||!r.code||!Up(r.code,!1)||!r.message||!Ur(r.message,!1))}function gO(r){return!(on(r)||!Ur(r.method,!1))}function mO(r){return!(on(r)||on(r.result)&&on(r.error)||!Up(r.id,!1)||!Ur(r.jsonrpc,!1))}function yO(r){return!(on(r)||!Ur(r.name,!1))}function $v(r,e){return!(!Qf(e)||!WP(r).includes(e))}function vO(r,e,t){return Ur(t,!1)?QP(r,e).includes(t):!1}function bO(r,e,t){return Ur(t,!1)?JP(r,e).includes(t):!1}function qv(r,e,t){let n=null;const i=wO(r),s=_O(e),a=Object.keys(i),u=Object.keys(s),l=Gv(Object.keys(r)),d=Gv(Object.keys(e)),p=l.filter(v=>!d.includes(v));return p.length&&(n=Se("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),_o(a,u)||(n=Se("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${u.toString()}`)),Object.keys(e).forEach(v=>{if(!v.includes(":")||n)return;const x=Va(e[v].accounts);x.includes(v)||(n=Se("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${v}
        Required: ${v}
        Approved: ${x.toString()}`))}),a.forEach(v=>{n||(_o(i[v].methods,s[v].methods)?_o(i[v].events,s[v].events)||(n=Se("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${v}`)):n=Se("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${v}`))}),n}function wO(r){const e={};return Object.keys(r).forEach(t=>{var n;t.includes(":")?e[t]=r[t]:(n=r[t].chains)==null||n.forEach(i=>{e[i]={methods:r[t].methods,events:r[t].events}})}),e}function Gv(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function _O(r){const e={};return Object.keys(r).forEach(t=>{if(t.includes(":"))e[t]=r[t];else{const n=Va(r[t].accounts);n==null||n.forEach(i=>{e[i]={accounts:r[t].accounts.filter(s=>s.includes(`${i}:`)),methods:r[t].methods,events:r[t].events}})}}),e}function EO(r,e){return Up(r,!1)&&r<=e.max&&r>=e.min}var kl={},fu={};Object.defineProperty(fu,"__esModule",{value:!0});function AO(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSON.parse(r)}catch{return r}}fu.safeJsonParse=AO;function xO(r){return typeof r=="string"?r:JSON.stringify(r,(e,t)=>typeof t>"u"?null:t)}fu.safeJsonStringify=xO;var bc={exports:{}},zv;function SO(){return zv||(zv=1,function(){let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,n){this[t]=String(n)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(n){t[n]=void 0,delete t[n]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof mr<"u"&&mr.localStorage?bc.exports=mr.localStorage:typeof window<"u"&&window.localStorage?bc.exports=window.localStorage:bc.exports=new e}()),bc.exports}var Bd={},wc={},Vv;function IO(){if(Vv)return wc;Vv=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.IKeyValueStorage=void 0;class r{}return wc.IKeyValueStorage=r,wc}var _c={},Kv;function TO(){if(Kv)return _c;Kv=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.parseEntry=void 0;const r=fu;function e(t){var n;return[t[0],r.safeJsonParse((n=t[1])!==null&&n!==void 0?n:"")]}return _c.parseEntry=e,_c}var Wv;function CO(){return Wv||(Wv=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=ri;e.__exportStar(IO(),r),e.__exportStar(TO(),r)}(Bd)),Bd}Object.defineProperty(kl,"__esModule",{value:!0});kl.KeyValueStorage=void 0;const ga=ri,Qv=fu,PO=ga.__importDefault(SO()),OO=CO();class c_{constructor(){this.localStorage=PO.default}getKeys(){return ga.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return ga.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(OO.parseEntry)})}getItem(e){return ga.__awaiter(this,void 0,void 0,function*(){const t=this.localStorage.getItem(e);if(t!==null)return Qv.safeJsonParse(t)})}setItem(e,t){return ga.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,Qv.safeJsonStringify(t))})}removeItem(e){return ga.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}}kl.KeyValueStorage=c_;var DO=kl.default=c_,Ka={},Ec={},kd={},Ac={};let Uo=class{};const RO=Object.freeze(Object.defineProperty({__proto__:null,IEvents:Uo},Symbol.toStringTag,{value:"Module"})),MO=bw(RO);var Jv;function NO(){if(Jv)return Ac;Jv=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.IHeartBeat=void 0;const r=MO;class e extends r.IEvents{constructor(n){super()}}return Ac.IHeartBeat=e,Ac}var Yv;function u_(){return Yv||(Yv=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),ri.__exportStar(NO(),r)}(kd)),kd}var Ld={},go={},Xv;function BO(){if(Xv)return go;Xv=1,Object.defineProperty(go,"__esModule",{value:!0}),go.HEARTBEAT_EVENTS=go.HEARTBEAT_INTERVAL=void 0;const r=Le;return go.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,go.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},go}var Zv;function f_(){return Zv||(Zv=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),ri.__exportStar(BO(),r)}(Ld)),Ld}var e1;function kO(){if(e1)return Ec;e1=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.HeartBeat=void 0;const r=ri,e=Yr,t=Le,n=u_(),i=f_();class s extends n.IHeartBeat{constructor(u){super(u),this.events=new e.EventEmitter,this.interval=i.HEARTBEAT_INTERVAL,this.interval=(u==null?void 0:u.interval)||i.HEARTBEAT_INTERVAL}static init(u){return r.__awaiter(this,void 0,void 0,function*(){const l=new s(u);return yield l.init(),l})}init(){return r.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(u,l){this.events.on(u,l)}once(u,l){this.events.once(u,l)}off(u,l){this.events.off(u,l)}removeListener(u,l){this.events.removeListener(u,l)}initialize(){return r.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),t.toMiliseconds(this.interval))})}pulse(){this.events.emit(i.HEARTBEAT_EVENTS.pulse)}}return Ec.HeartBeat=s,Ec}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=ri;e.__exportStar(kO(),r),e.__exportStar(u_(),r),e.__exportStar(f_(),r)})(Ka);var Mt={},Fd,t1;function LO(){if(t1)return Fd;t1=1;function r(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}Fd=e;function e(t,n,i){var s=i&&i.stringify||r,a=1;if(typeof t=="object"&&t!==null){var u=n.length+a;if(u===1)return t;var l=new Array(u);l[0]=s(t);for(var d=1;d<u;d++)l[d]=s(n[d]);return l.join(" ")}if(typeof t!="string")return t;var p=n.length;if(p===0)return t;for(var v="",x=1-a,S=-1,C=t&&t.length||0,B=0;B<C;){if(t.charCodeAt(B)===37&&B+1<C){switch(S=S>-1?S:0,t.charCodeAt(B+1)){case 100:case 102:if(x>=p||n[x]==null)break;S<B&&(v+=t.slice(S,B)),v+=Number(n[x]),S=B+2,B++;break;case 105:if(x>=p||n[x]==null)break;S<B&&(v+=t.slice(S,B)),v+=Math.floor(Number(n[x])),S=B+2,B++;break;case 79:case 111:case 106:if(x>=p||n[x]===void 0)break;S<B&&(v+=t.slice(S,B));var $=typeof n[x];if($==="string"){v+="'"+n[x]+"'",S=B+2,B++;break}if($==="function"){v+=n[x].name||"<anonymous>",S=B+2,B++;break}v+=s(n[x]),S=B+2,B++;break;case 115:if(x>=p)break;S<B&&(v+=t.slice(S,B)),v+=String(n[x]),S=B+2,B++;break;case 37:S<B&&(v+=t.slice(S,B)),v+="%",S=B+2,B++,x--;break}++x}++B}return S===-1?t:(S<C&&(v+=t.slice(S)),v)}return Fd}var Ud,r1;function FO(){if(r1)return Ud;r1=1;const r=LO();Ud=i;const e=k().console||{},t={mapHttpRequest:C,mapHttpResponse:C,wrapRequestSerializer:B,wrapResponseSerializer:B,wrapErrorSerializer:B,req:C,res:C,err:x};function n(D,y){return Array.isArray(D)?D.filter(function(ne){return ne!=="!stdSerializers.err"}):D===!0?Object.keys(y):!1}function i(D){D=D||{},D.browser=D.browser||{};const y=D.browser.transmit;if(y&&typeof y.send!="function")throw Error("pino: transmit option must have a send function");const A=D.browser.write||e;D.browser.write&&(D.browser.asObject=!0);const ne=D.serializers||{},U=n(D.browser.serialize,ne);let Q=D.browser.serialize;Array.isArray(D.browser.serialize)&&D.browser.serialize.indexOf("!stdSerializers.err")>-1&&(Q=!1);const Z=["error","fatal","warn","info","debug","trace"];typeof A=="function"&&(A.error=A.fatal=A.warn=A.info=A.debug=A.trace=A),D.enabled===!1&&(D.level="silent");const N=D.level||"info",f=Object.create(A);f.log||(f.log=$),Object.defineProperty(f,"levelVal",{get:w}),Object.defineProperty(f,"level",{get:T,set:O});const g={transmit:y,serialize:U,asObject:D.browser.asObject,levels:Z,timestamp:S(D)};f.levels=i.levels,f.level=N,f.setMaxListeners=f.getMaxListeners=f.emit=f.addListener=f.on=f.prependListener=f.once=f.prependOnceListener=f.removeListener=f.removeAllListeners=f.listeners=f.listenerCount=f.eventNames=f.write=f.flush=$,f.serializers=ne,f._serialize=U,f._stdErrSerialize=Q,f.child=R,y&&(f._logEvent=v());function w(){return this.level==="silent"?1/0:this.levels.values[this.level]}function T(){return this._level}function O(H){if(H!=="silent"&&!this.levels.values[H])throw Error("unknown level "+H);this._level=H,s(g,f,"error","log"),s(g,f,"fatal","error"),s(g,f,"warn","error"),s(g,f,"info","log"),s(g,f,"debug","log"),s(g,f,"trace","log")}function R(H,P){if(!H)throw new Error("missing bindings for child Pino");P=P||{},U&&H.serializers&&(P.serializers=H.serializers);const m=P.serializers;if(U&&m){var I=Object.assign({},ne,m),te=D.browser.serialize===!0?Object.keys(I):U;delete H.serializers,l([H],te,I,this._stdErrSerialize)}function E(X){this._childLevel=(X._childLevel|0)+1,this.error=d(X,H,"error"),this.fatal=d(X,H,"fatal"),this.warn=d(X,H,"warn"),this.info=d(X,H,"info"),this.debug=d(X,H,"debug"),this.trace=d(X,H,"trace"),I&&(this.serializers=I,this._serialize=te),y&&(this._logEvent=v([].concat(X._logEvent.bindings,H)))}return E.prototype=this,new E(this)}return f}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=t,i.stdTimeFunctions=Object.assign({},{nullTime:Y,epochTime:F,unixTime:z,isoTime:L});function s(D,y,A,ne){const U=Object.getPrototypeOf(y);y[A]=y.levelVal>y.levels.values[A]?$:U[A]?U[A]:e[A]||e[ne]||$,a(D,y,A)}function a(D,y,A){!D.transmit&&y[A]===$||(y[A]=function(ne){return function(){const Q=D.timestamp(),Z=new Array(arguments.length),N=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var f=0;f<Z.length;f++)Z[f]=arguments[f];if(D.serialize&&!D.asObject&&l(Z,this._serialize,this.serializers,this._stdErrSerialize),D.asObject?ne.call(N,u(this,A,Z,Q)):ne.apply(N,Z),D.transmit){const g=D.transmit.level||y.level,w=i.levels.values[g],T=i.levels.values[A];if(T<w)return;p(this,{ts:Q,methodLevel:A,methodValue:T,transmitLevel:g,transmitValue:i.levels.values[D.transmit.level||y.level],send:D.transmit.send,val:y.levelVal},Z)}}}(y[A]))}function u(D,y,A,ne){D._serialize&&l(A,D._serialize,D.serializers,D._stdErrSerialize);const U=A.slice();let Q=U[0];const Z={};ne&&(Z.time=ne),Z.level=i.levels.values[y];let N=(D._childLevel|0)+1;if(N<1&&(N=1),Q!==null&&typeof Q=="object"){for(;N--&&typeof U[0]=="object";)Object.assign(Z,U.shift());Q=U.length?r(U.shift(),U):void 0}else typeof Q=="string"&&(Q=r(U.shift(),U));return Q!==void 0&&(Z.msg=Q),Z}function l(D,y,A,ne){for(const U in D)if(ne&&D[U]instanceof Error)D[U]=i.stdSerializers.err(D[U]);else if(typeof D[U]=="object"&&!Array.isArray(D[U]))for(const Q in D[U])y&&y.indexOf(Q)>-1&&Q in A&&(D[U][Q]=A[Q](D[U][Q]))}function d(D,y,A){return function(){const ne=new Array(1+arguments.length);ne[0]=y;for(var U=1;U<ne.length;U++)ne[U]=arguments[U-1];return D[A].apply(this,ne)}}function p(D,y,A){const ne=y.send,U=y.ts,Q=y.methodLevel,Z=y.methodValue,N=y.val,f=D._logEvent.bindings;l(A,D._serialize||Object.keys(D.serializers),D.serializers,D._stdErrSerialize===void 0?!0:D._stdErrSerialize),D._logEvent.ts=U,D._logEvent.messages=A.filter(function(g){return f.indexOf(g)===-1}),D._logEvent.level.label=Q,D._logEvent.level.value=Z,ne(Q,D._logEvent,N),D._logEvent=v(f)}function v(D){return{ts:0,messages:[],bindings:D||[],level:{label:"",value:0}}}function x(D){const y={type:D.constructor.name,msg:D.message,stack:D.stack};for(const A in D)y[A]===void 0&&(y[A]=D[A]);return y}function S(D){return typeof D.timestamp=="function"?D.timestamp:D.timestamp===!1?Y:F}function C(){return{}}function B(D){return D}function $(){}function Y(){return!1}function F(){return Date.now()}function z(){return Math.round(Date.now()/1e3)}function L(){return new Date(Date.now()).toISOString()}function k(){function D(y){return typeof y<"u"&&y}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return D(self)||D(window)||D(this)||{}}}return Ud}var mo={},n1;function l_(){return n1||(n1=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.PINO_CUSTOM_CONTEXT_KEY=mo.PINO_LOGGER_DEFAULTS=void 0,mo.PINO_LOGGER_DEFAULTS={level:"info"},mo.PINO_CUSTOM_CONTEXT_KEY="custom_context"),mo}var nn={},i1;function UO(){if(i1)return nn;i1=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.generateChildLogger=nn.formatChildLoggerContext=nn.getLoggerContext=nn.setBrowserLoggerContext=nn.getBrowserLoggerContext=nn.getDefaultLoggerOptions=void 0;const r=l_();function e(u){return Object.assign(Object.assign({},u),{level:(u==null?void 0:u.level)||r.PINO_LOGGER_DEFAULTS.level})}nn.getDefaultLoggerOptions=e;function t(u,l=r.PINO_CUSTOM_CONTEXT_KEY){return u[l]||""}nn.getBrowserLoggerContext=t;function n(u,l,d=r.PINO_CUSTOM_CONTEXT_KEY){return u[d]=l,u}nn.setBrowserLoggerContext=n;function i(u,l=r.PINO_CUSTOM_CONTEXT_KEY){let d="";return typeof u.bindings>"u"?d=t(u,l):d=u.bindings().context||"",d}nn.getLoggerContext=i;function s(u,l,d=r.PINO_CUSTOM_CONTEXT_KEY){const p=i(u,d);return p.trim()?`${p}/${l}`:l}nn.formatChildLoggerContext=s;function a(u,l,d=r.PINO_CUSTOM_CONTEXT_KEY){const p=s(u,l,d),v=u.child({context:p});return n(v,p,d)}return nn.generateChildLogger=a,nn}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.pino=void 0;const e=ri,t=e.__importDefault(FO());Object.defineProperty(r,"pino",{enumerable:!0,get:function(){return t.default}}),e.__exportStar(l_(),r),e.__exportStar(UO(),r)})(Mt);class jO extends Uo{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class HO extends Uo{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class $O{constructor(e,t){this.logger=e,this.core=t}}let qO=class extends Uo{constructor(e,t){super(),this.relayer=e,this.logger=t}},GO=class extends Uo{constructor(e){super()}},zO=class{constructor(e,t,n,i){this.core=e,this.logger=t,this.name=n}};class VO extends Uo{constructor(e,t){super(),this.relayer=e,this.logger=t}}let KO=class extends Uo{constructor(e,t){super(),this.core=e,this.logger=t}},WO=class{constructor(e,t){this.projectId=e,this.logger=t}};class QO{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}let JO=class{constructor(e){this.client=e}};const YO=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),XO=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function jp(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return XO(r)}catch{return r}}function zc(r){return typeof r=="string"?r:YO(r)||""}var Hp={},h_={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=dt,t=Rn;r.DIGEST_LENGTH=64,r.BLOCK_SIZE=128;var n=function(){function u(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._tempHi),t.wipe(this._tempLo),this.reset()},u.prototype.update=function(l,d){if(d===void 0&&(d=l.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var p=0;if(this._bytesHashed+=d,this._bufferLength>0){for(;this._bufferLength<r.BLOCK_SIZE&&d>0;)this._buffer[this._bufferLength++]=l[p++],d--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(d>=this.blockSize&&(p=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,l,p,d),d%=this.blockSize);d>0;)this._buffer[this._bufferLength++]=l[p++],d--;return this},u.prototype.finish=function(l){if(!this._finished){var d=this._bytesHashed,p=this._bufferLength,v=d/536870912|0,x=d<<3,S=d%128<112?128:256;this._buffer[p]=128;for(var C=p+1;C<S-8;C++)this._buffer[C]=0;e.writeUint32BE(v,this._buffer,S-8),e.writeUint32BE(x,this._buffer,S-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,S),this._finished=!0}for(var C=0;C<this.digestLength/8;C++)e.writeUint32BE(this._stateHi[C],l,C*8),e.writeUint32BE(this._stateLo[C],l,C*8+4);return this},u.prototype.digest=function(){var l=new Uint8Array(this.digestLength);return this.finish(l),l},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(l){return this._stateHi.set(l.stateHi),this._stateLo.set(l.stateLo),this._bufferLength=l.bufferLength,l.buffer&&this._buffer.set(l.buffer),this._bytesHashed=l.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(l){t.wipe(l.stateHi),t.wipe(l.stateLo),l.buffer&&t.wipe(l.buffer),l.bufferLength=0,l.bytesHashed=0},u}();r.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(u,l,d,p,v,x,S){for(var C=d[0],B=d[1],$=d[2],Y=d[3],F=d[4],z=d[5],L=d[6],k=d[7],D=p[0],y=p[1],A=p[2],ne=p[3],U=p[4],Q=p[5],Z=p[6],N=p[7],f,g,w,T,O,R,H,P;S>=128;){for(var m=0;m<16;m++){var I=8*m+x;u[m]=e.readUint32BE(v,I),l[m]=e.readUint32BE(v,I+4)}for(var m=0;m<80;m++){var te=C,E=B,X=$,G=Y,V=F,W=z,b=L,q=k,oe=D,pe=y,fe=A,we=ne,He=U,Ee=Q,$e=Z,ue=N;if(f=k,g=N,O=g&65535,R=g>>>16,H=f&65535,P=f>>>16,f=(F>>>14|U<<32-14)^(F>>>18|U<<32-18)^(U>>>41-32|F<<32-(41-32)),g=(U>>>14|F<<32-14)^(U>>>18|F<<32-18)^(F>>>41-32|U<<32-(41-32)),O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,f=F&z^~F&L,g=U&Q^~U&Z,O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,f=i[m*2],g=i[m*2+1],O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,f=u[m%16],g=l[m%16],O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,R+=O>>>16,H+=R>>>16,P+=H>>>16,w=H&65535|P<<16,T=O&65535|R<<16,f=w,g=T,O=g&65535,R=g>>>16,H=f&65535,P=f>>>16,f=(C>>>28|D<<32-28)^(D>>>34-32|C<<32-(34-32))^(D>>>39-32|C<<32-(39-32)),g=(D>>>28|C<<32-28)^(C>>>34-32|D<<32-(34-32))^(C>>>39-32|D<<32-(39-32)),O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,f=C&B^C&$^B&$,g=D&y^D&A^y&A,O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,R+=O>>>16,H+=R>>>16,P+=H>>>16,q=H&65535|P<<16,ue=O&65535|R<<16,f=G,g=we,O=g&65535,R=g>>>16,H=f&65535,P=f>>>16,f=w,g=T,O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,R+=O>>>16,H+=R>>>16,P+=H>>>16,G=H&65535|P<<16,we=O&65535|R<<16,B=te,$=E,Y=X,F=G,z=V,L=W,k=b,C=q,y=oe,A=pe,ne=fe,U=we,Q=He,Z=Ee,N=$e,D=ue,m%16===15)for(var I=0;I<16;I++)f=u[I],g=l[I],O=g&65535,R=g>>>16,H=f&65535,P=f>>>16,f=u[(I+9)%16],g=l[(I+9)%16],O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,w=u[(I+1)%16],T=l[(I+1)%16],f=(w>>>1|T<<32-1)^(w>>>8|T<<32-8)^w>>>7,g=(T>>>1|w<<32-1)^(T>>>8|w<<32-8)^(T>>>7|w<<32-7),O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,w=u[(I+14)%16],T=l[(I+14)%16],f=(w>>>19|T<<32-19)^(T>>>61-32|w<<32-(61-32))^w>>>6,g=(T>>>19|w<<32-19)^(w>>>61-32|T<<32-(61-32))^(T>>>6|w<<32-6),O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,R+=O>>>16,H+=R>>>16,P+=H>>>16,u[I]=H&65535|P<<16,l[I]=O&65535|R<<16}f=C,g=D,O=g&65535,R=g>>>16,H=f&65535,P=f>>>16,f=d[0],g=p[0],O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,R+=O>>>16,H+=R>>>16,P+=H>>>16,d[0]=C=H&65535|P<<16,p[0]=D=O&65535|R<<16,f=B,g=y,O=g&65535,R=g>>>16,H=f&65535,P=f>>>16,f=d[1],g=p[1],O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,R+=O>>>16,H+=R>>>16,P+=H>>>16,d[1]=B=H&65535|P<<16,p[1]=y=O&65535|R<<16,f=$,g=A,O=g&65535,R=g>>>16,H=f&65535,P=f>>>16,f=d[2],g=p[2],O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,R+=O>>>16,H+=R>>>16,P+=H>>>16,d[2]=$=H&65535|P<<16,p[2]=A=O&65535|R<<16,f=Y,g=ne,O=g&65535,R=g>>>16,H=f&65535,P=f>>>16,f=d[3],g=p[3],O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,R+=O>>>16,H+=R>>>16,P+=H>>>16,d[3]=Y=H&65535|P<<16,p[3]=ne=O&65535|R<<16,f=F,g=U,O=g&65535,R=g>>>16,H=f&65535,P=f>>>16,f=d[4],g=p[4],O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,R+=O>>>16,H+=R>>>16,P+=H>>>16,d[4]=F=H&65535|P<<16,p[4]=U=O&65535|R<<16,f=z,g=Q,O=g&65535,R=g>>>16,H=f&65535,P=f>>>16,f=d[5],g=p[5],O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,R+=O>>>16,H+=R>>>16,P+=H>>>16,d[5]=z=H&65535|P<<16,p[5]=Q=O&65535|R<<16,f=L,g=Z,O=g&65535,R=g>>>16,H=f&65535,P=f>>>16,f=d[6],g=p[6],O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,R+=O>>>16,H+=R>>>16,P+=H>>>16,d[6]=L=H&65535|P<<16,p[6]=Z=O&65535|R<<16,f=k,g=N,O=g&65535,R=g>>>16,H=f&65535,P=f>>>16,f=d[7],g=p[7],O+=g&65535,R+=g>>>16,H+=f&65535,P+=f>>>16,R+=O>>>16,H+=R>>>16,P+=H>>>16,d[7]=k=H&65535|P<<16,p[7]=N=O&65535|R<<16,x+=128,S-=128}return x}function a(u){var l=new n;l.update(u);var d=l.digest();return l.clean(),d}r.hash=a})(h_);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.convertSecretKeyToX25519=r.convertPublicKeyToX25519=r.verify=r.sign=r.extractPublicKeyFromSecretKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.SEED_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=r.SIGNATURE_LENGTH=void 0;const e=Ga,t=h_,n=Rn;r.SIGNATURE_LENGTH=64,r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=64,r.SEED_LENGTH=32;function i(G){const V=new Float64Array(16);if(G)for(let W=0;W<G.length;W++)V[W]=G[W];return V}const s=new Uint8Array(32);s[0]=9;const a=i(),u=i([1]),l=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),v=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),x=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function S(G,V){for(let W=0;W<16;W++)G[W]=V[W]|0}function C(G){let V=1;for(let W=0;W<16;W++){let b=G[W]+V+65535;V=Math.floor(b/65536),G[W]=b-V*65536}G[0]+=V-1+37*(V-1)}function B(G,V,W){const b=~(W-1);for(let q=0;q<16;q++){const oe=b&(G[q]^V[q]);G[q]^=oe,V[q]^=oe}}function $(G,V){const W=i(),b=i();for(let q=0;q<16;q++)b[q]=V[q];C(b),C(b),C(b);for(let q=0;q<2;q++){W[0]=b[0]-65517;for(let pe=1;pe<15;pe++)W[pe]=b[pe]-65535-(W[pe-1]>>16&1),W[pe-1]&=65535;W[15]=b[15]-32767-(W[14]>>16&1);const oe=W[15]>>16&1;W[14]&=65535,B(b,W,1-oe)}for(let q=0;q<16;q++)G[2*q]=b[q]&255,G[2*q+1]=b[q]>>8}function Y(G,V){let W=0;for(let b=0;b<32;b++)W|=G[b]^V[b];return(1&W-1>>>8)-1}function F(G,V){const W=new Uint8Array(32),b=new Uint8Array(32);return $(W,G),$(b,V),Y(W,b)}function z(G){const V=new Uint8Array(32);return $(V,G),V[0]&1}function L(G,V){for(let W=0;W<16;W++)G[W]=V[2*W]+(V[2*W+1]<<8);G[15]&=32767}function k(G,V,W){for(let b=0;b<16;b++)G[b]=V[b]+W[b]}function D(G,V,W){for(let b=0;b<16;b++)G[b]=V[b]-W[b]}function y(G,V,W){let b,q,oe=0,pe=0,fe=0,we=0,He=0,Ee=0,$e=0,ue=0,be=0,ve=0,Pe=0,Te=0,Me=0,Ge=0,Oe=0,Ae=0,ze=0,Ne=0,Ce=0,ot=0,Be=0,Fe=0,ht=0,ke=0,pt=0,yr=0,It=0,gt=0,$r=0,Nt=0,kt=0,jt=W[0],We=W[1],Ze=W[2],Ht=W[3],Xe=W[4],Qe=W[5],Jt=W[6],it=W[7],et=W[8],Yt=W[9],tt=W[10],nt=W[11],$t=W[12],Ve=W[13],st=W[14],Xt=W[15];b=V[0],oe+=b*jt,pe+=b*We,fe+=b*Ze,we+=b*Ht,He+=b*Xe,Ee+=b*Qe,$e+=b*Jt,ue+=b*it,be+=b*et,ve+=b*Yt,Pe+=b*tt,Te+=b*nt,Me+=b*$t,Ge+=b*Ve,Oe+=b*st,Ae+=b*Xt,b=V[1],pe+=b*jt,fe+=b*We,we+=b*Ze,He+=b*Ht,Ee+=b*Xe,$e+=b*Qe,ue+=b*Jt,be+=b*it,ve+=b*et,Pe+=b*Yt,Te+=b*tt,Me+=b*nt,Ge+=b*$t,Oe+=b*Ve,Ae+=b*st,ze+=b*Xt,b=V[2],fe+=b*jt,we+=b*We,He+=b*Ze,Ee+=b*Ht,$e+=b*Xe,ue+=b*Qe,be+=b*Jt,ve+=b*it,Pe+=b*et,Te+=b*Yt,Me+=b*tt,Ge+=b*nt,Oe+=b*$t,Ae+=b*Ve,ze+=b*st,Ne+=b*Xt,b=V[3],we+=b*jt,He+=b*We,Ee+=b*Ze,$e+=b*Ht,ue+=b*Xe,be+=b*Qe,ve+=b*Jt,Pe+=b*it,Te+=b*et,Me+=b*Yt,Ge+=b*tt,Oe+=b*nt,Ae+=b*$t,ze+=b*Ve,Ne+=b*st,Ce+=b*Xt,b=V[4],He+=b*jt,Ee+=b*We,$e+=b*Ze,ue+=b*Ht,be+=b*Xe,ve+=b*Qe,Pe+=b*Jt,Te+=b*it,Me+=b*et,Ge+=b*Yt,Oe+=b*tt,Ae+=b*nt,ze+=b*$t,Ne+=b*Ve,Ce+=b*st,ot+=b*Xt,b=V[5],Ee+=b*jt,$e+=b*We,ue+=b*Ze,be+=b*Ht,ve+=b*Xe,Pe+=b*Qe,Te+=b*Jt,Me+=b*it,Ge+=b*et,Oe+=b*Yt,Ae+=b*tt,ze+=b*nt,Ne+=b*$t,Ce+=b*Ve,ot+=b*st,Be+=b*Xt,b=V[6],$e+=b*jt,ue+=b*We,be+=b*Ze,ve+=b*Ht,Pe+=b*Xe,Te+=b*Qe,Me+=b*Jt,Ge+=b*it,Oe+=b*et,Ae+=b*Yt,ze+=b*tt,Ne+=b*nt,Ce+=b*$t,ot+=b*Ve,Be+=b*st,Fe+=b*Xt,b=V[7],ue+=b*jt,be+=b*We,ve+=b*Ze,Pe+=b*Ht,Te+=b*Xe,Me+=b*Qe,Ge+=b*Jt,Oe+=b*it,Ae+=b*et,ze+=b*Yt,Ne+=b*tt,Ce+=b*nt,ot+=b*$t,Be+=b*Ve,Fe+=b*st,ht+=b*Xt,b=V[8],be+=b*jt,ve+=b*We,Pe+=b*Ze,Te+=b*Ht,Me+=b*Xe,Ge+=b*Qe,Oe+=b*Jt,Ae+=b*it,ze+=b*et,Ne+=b*Yt,Ce+=b*tt,ot+=b*nt,Be+=b*$t,Fe+=b*Ve,ht+=b*st,ke+=b*Xt,b=V[9],ve+=b*jt,Pe+=b*We,Te+=b*Ze,Me+=b*Ht,Ge+=b*Xe,Oe+=b*Qe,Ae+=b*Jt,ze+=b*it,Ne+=b*et,Ce+=b*Yt,ot+=b*tt,Be+=b*nt,Fe+=b*$t,ht+=b*Ve,ke+=b*st,pt+=b*Xt,b=V[10],Pe+=b*jt,Te+=b*We,Me+=b*Ze,Ge+=b*Ht,Oe+=b*Xe,Ae+=b*Qe,ze+=b*Jt,Ne+=b*it,Ce+=b*et,ot+=b*Yt,Be+=b*tt,Fe+=b*nt,ht+=b*$t,ke+=b*Ve,pt+=b*st,yr+=b*Xt,b=V[11],Te+=b*jt,Me+=b*We,Ge+=b*Ze,Oe+=b*Ht,Ae+=b*Xe,ze+=b*Qe,Ne+=b*Jt,Ce+=b*it,ot+=b*et,Be+=b*Yt,Fe+=b*tt,ht+=b*nt,ke+=b*$t,pt+=b*Ve,yr+=b*st,It+=b*Xt,b=V[12],Me+=b*jt,Ge+=b*We,Oe+=b*Ze,Ae+=b*Ht,ze+=b*Xe,Ne+=b*Qe,Ce+=b*Jt,ot+=b*it,Be+=b*et,Fe+=b*Yt,ht+=b*tt,ke+=b*nt,pt+=b*$t,yr+=b*Ve,It+=b*st,gt+=b*Xt,b=V[13],Ge+=b*jt,Oe+=b*We,Ae+=b*Ze,ze+=b*Ht,Ne+=b*Xe,Ce+=b*Qe,ot+=b*Jt,Be+=b*it,Fe+=b*et,ht+=b*Yt,ke+=b*tt,pt+=b*nt,yr+=b*$t,It+=b*Ve,gt+=b*st,$r+=b*Xt,b=V[14],Oe+=b*jt,Ae+=b*We,ze+=b*Ze,Ne+=b*Ht,Ce+=b*Xe,ot+=b*Qe,Be+=b*Jt,Fe+=b*it,ht+=b*et,ke+=b*Yt,pt+=b*tt,yr+=b*nt,It+=b*$t,gt+=b*Ve,$r+=b*st,Nt+=b*Xt,b=V[15],Ae+=b*jt,ze+=b*We,Ne+=b*Ze,Ce+=b*Ht,ot+=b*Xe,Be+=b*Qe,Fe+=b*Jt,ht+=b*it,ke+=b*et,pt+=b*Yt,yr+=b*tt,It+=b*nt,gt+=b*$t,$r+=b*Ve,Nt+=b*st,kt+=b*Xt,oe+=38*ze,pe+=38*Ne,fe+=38*Ce,we+=38*ot,He+=38*Be,Ee+=38*Fe,$e+=38*ht,ue+=38*ke,be+=38*pt,ve+=38*yr,Pe+=38*It,Te+=38*gt,Me+=38*$r,Ge+=38*Nt,Oe+=38*kt,q=1,b=oe+q+65535,q=Math.floor(b/65536),oe=b-q*65536,b=pe+q+65535,q=Math.floor(b/65536),pe=b-q*65536,b=fe+q+65535,q=Math.floor(b/65536),fe=b-q*65536,b=we+q+65535,q=Math.floor(b/65536),we=b-q*65536,b=He+q+65535,q=Math.floor(b/65536),He=b-q*65536,b=Ee+q+65535,q=Math.floor(b/65536),Ee=b-q*65536,b=$e+q+65535,q=Math.floor(b/65536),$e=b-q*65536,b=ue+q+65535,q=Math.floor(b/65536),ue=b-q*65536,b=be+q+65535,q=Math.floor(b/65536),be=b-q*65536,b=ve+q+65535,q=Math.floor(b/65536),ve=b-q*65536,b=Pe+q+65535,q=Math.floor(b/65536),Pe=b-q*65536,b=Te+q+65535,q=Math.floor(b/65536),Te=b-q*65536,b=Me+q+65535,q=Math.floor(b/65536),Me=b-q*65536,b=Ge+q+65535,q=Math.floor(b/65536),Ge=b-q*65536,b=Oe+q+65535,q=Math.floor(b/65536),Oe=b-q*65536,b=Ae+q+65535,q=Math.floor(b/65536),Ae=b-q*65536,oe+=q-1+37*(q-1),q=1,b=oe+q+65535,q=Math.floor(b/65536),oe=b-q*65536,b=pe+q+65535,q=Math.floor(b/65536),pe=b-q*65536,b=fe+q+65535,q=Math.floor(b/65536),fe=b-q*65536,b=we+q+65535,q=Math.floor(b/65536),we=b-q*65536,b=He+q+65535,q=Math.floor(b/65536),He=b-q*65536,b=Ee+q+65535,q=Math.floor(b/65536),Ee=b-q*65536,b=$e+q+65535,q=Math.floor(b/65536),$e=b-q*65536,b=ue+q+65535,q=Math.floor(b/65536),ue=b-q*65536,b=be+q+65535,q=Math.floor(b/65536),be=b-q*65536,b=ve+q+65535,q=Math.floor(b/65536),ve=b-q*65536,b=Pe+q+65535,q=Math.floor(b/65536),Pe=b-q*65536,b=Te+q+65535,q=Math.floor(b/65536),Te=b-q*65536,b=Me+q+65535,q=Math.floor(b/65536),Me=b-q*65536,b=Ge+q+65535,q=Math.floor(b/65536),Ge=b-q*65536,b=Oe+q+65535,q=Math.floor(b/65536),Oe=b-q*65536,b=Ae+q+65535,q=Math.floor(b/65536),Ae=b-q*65536,oe+=q-1+37*(q-1),G[0]=oe,G[1]=pe,G[2]=fe,G[3]=we,G[4]=He,G[5]=Ee,G[6]=$e,G[7]=ue,G[8]=be,G[9]=ve,G[10]=Pe,G[11]=Te,G[12]=Me,G[13]=Ge,G[14]=Oe,G[15]=Ae}function A(G,V){y(G,V,V)}function ne(G,V){const W=i();let b;for(b=0;b<16;b++)W[b]=V[b];for(b=253;b>=0;b--)A(W,W),b!==2&&b!==4&&y(W,W,V);for(b=0;b<16;b++)G[b]=W[b]}function U(G,V){const W=i();let b;for(b=0;b<16;b++)W[b]=V[b];for(b=250;b>=0;b--)A(W,W),b!==1&&y(W,W,V);for(b=0;b<16;b++)G[b]=W[b]}function Q(G,V){const W=i(),b=i(),q=i(),oe=i(),pe=i(),fe=i(),we=i(),He=i(),Ee=i();D(W,G[1],G[0]),D(Ee,V[1],V[0]),y(W,W,Ee),k(b,G[0],G[1]),k(Ee,V[0],V[1]),y(b,b,Ee),y(q,G[3],V[3]),y(q,q,d),y(oe,G[2],V[2]),k(oe,oe,oe),D(pe,b,W),D(fe,oe,q),k(we,oe,q),k(He,b,W),y(G[0],pe,fe),y(G[1],He,we),y(G[2],we,fe),y(G[3],pe,He)}function Z(G,V,W){for(let b=0;b<4;b++)B(G[b],V[b],W)}function N(G,V){const W=i(),b=i(),q=i();ne(q,V[2]),y(W,V[0],q),y(b,V[1],q),$(G,b),G[31]^=z(W)<<7}function f(G,V,W){S(G[0],a),S(G[1],u),S(G[2],u),S(G[3],a);for(let b=255;b>=0;--b){const q=W[b/8|0]>>(b&7)&1;Z(G,V,q),Q(V,G),Q(G,G),Z(G,V,q)}}function g(G,V){const W=[i(),i(),i(),i()];S(W[0],p),S(W[1],v),S(W[2],u),y(W[3],p,v),f(G,W,V)}function w(G){if(G.length!==r.SEED_LENGTH)throw new Error(`ed25519: seed must be ${r.SEED_LENGTH} bytes`);const V=(0,t.hash)(G);V[0]&=248,V[31]&=127,V[31]|=64;const W=new Uint8Array(32),b=[i(),i(),i(),i()];g(b,V),N(W,b);const q=new Uint8Array(64);return q.set(G),q.set(W,32),{publicKey:W,secretKey:q}}r.generateKeyPairFromSeed=w;function T(G){const V=(0,e.randomBytes)(32,G),W=w(V);return(0,n.wipe)(V),W}r.generateKeyPair=T;function O(G){if(G.length!==r.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${r.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(G.subarray(32))}r.extractPublicKeyFromSecretKey=O;const R=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function H(G,V){let W,b,q,oe;for(b=63;b>=32;--b){for(W=0,q=b-32,oe=b-12;q<oe;++q)V[q]+=W-16*V[b]*R[q-(b-32)],W=Math.floor((V[q]+128)/256),V[q]-=W*256;V[q]+=W,V[b]=0}for(W=0,q=0;q<32;q++)V[q]+=W-(V[31]>>4)*R[q],W=V[q]>>8,V[q]&=255;for(q=0;q<32;q++)V[q]-=W*R[q];for(b=0;b<32;b++)V[b+1]+=V[b]>>8,G[b]=V[b]&255}function P(G){const V=new Float64Array(64);for(let W=0;W<64;W++)V[W]=G[W];for(let W=0;W<64;W++)G[W]=0;H(G,V)}function m(G,V){const W=new Float64Array(64),b=[i(),i(),i(),i()],q=(0,t.hash)(G.subarray(0,32));q[0]&=248,q[31]&=127,q[31]|=64;const oe=new Uint8Array(64);oe.set(q.subarray(32),32);const pe=new t.SHA512;pe.update(oe.subarray(32)),pe.update(V);const fe=pe.digest();pe.clean(),P(fe),g(b,fe),N(oe,b),pe.reset(),pe.update(oe.subarray(0,32)),pe.update(G.subarray(32)),pe.update(V);const we=pe.digest();P(we);for(let He=0;He<32;He++)W[He]=fe[He];for(let He=0;He<32;He++)for(let Ee=0;Ee<32;Ee++)W[He+Ee]+=we[He]*q[Ee];return H(oe.subarray(32),W),oe}r.sign=m;function I(G,V){const W=i(),b=i(),q=i(),oe=i(),pe=i(),fe=i(),we=i();return S(G[2],u),L(G[1],V),A(q,G[1]),y(oe,q,l),D(q,q,G[2]),k(oe,G[2],oe),A(pe,oe),A(fe,pe),y(we,fe,pe),y(W,we,q),y(W,W,oe),U(W,W),y(W,W,q),y(W,W,oe),y(W,W,oe),y(G[0],W,oe),A(b,G[0]),y(b,b,oe),F(b,q)&&y(G[0],G[0],x),A(b,G[0]),y(b,b,oe),F(b,q)?-1:(z(G[0])===V[31]>>7&&D(G[0],a,G[0]),y(G[3],G[0],G[1]),0)}function te(G,V,W){const b=new Uint8Array(32),q=[i(),i(),i(),i()],oe=[i(),i(),i(),i()];if(W.length!==r.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${r.SIGNATURE_LENGTH} bytes`);if(I(oe,G))return!1;const pe=new t.SHA512;pe.update(W.subarray(0,32)),pe.update(G),pe.update(V);const fe=pe.digest();return P(fe),f(q,oe,fe),g(oe,W.subarray(32)),Q(q,oe),N(b,q),!Y(W,b)}r.verify=te;function E(G){let V=[i(),i(),i(),i()];if(I(V,G))throw new Error("Ed25519: invalid public key");let W=i(),b=i(),q=V[1];k(W,u,q),D(b,u,q),ne(b,b),y(W,W,b);let oe=new Uint8Array(32);return $(oe,W),oe}r.convertPublicKeyToX25519=E;function X(G){const V=(0,t.hash)(G.subarray(0,32));V[0]&=248,V[31]&=127,V[31]|=64;const W=new Uint8Array(V.subarray(0,32));return(0,n.wipe)(V),W}r.convertSecretKeyToX25519=X})(Hp);const ZO="EdDSA",eD="JWT",d_=".",p_="base64url",tD="utf8",rD="utf8",nD=":",iD="did",sD="key",s1="base58btc",oD="z",aD="K36",cD=32;function Jf(r){return cn(vn(zc(r),tD),p_)}function g_(r){const e=vn(aD,s1),t=oD+cn(T0([e,r]),s1);return[iD,sD,t].join(nD)}function uD(r){return cn(r,p_)}function fD(r){return vn([Jf(r.header),Jf(r.payload)].join(d_),rD)}function lD(r){return[Jf(r.header),Jf(r.payload),uD(r.signature)].join(d_)}function o1(r=Ga.randomBytes(cD)){return Hp.generateKeyPairFromSeed(r)}async function hD(r,e,t,n,i=Le.fromMiliseconds(Date.now())){const s={alg:ZO,typ:eD},a=g_(n.publicKey),u=i+t,l={iss:a,sub:r,aud:e,iat:i,exp:u},d=fD({header:s,payload:l}),p=Hp.sign(n.secretKey,d);return lD({header:s,payload:l,signature:p})}const dD="PARSE_ERROR",pD="INVALID_REQUEST",gD="METHOD_NOT_FOUND",mD="INVALID_PARAMS",m_="INTERNAL_ERROR",$p="SERVER_ERROR",yD=[-32700,-32600,-32601,-32602,-32603],Fc={[dD]:{code:-32700,message:"Parse error"},[pD]:{code:-32600,message:"Invalid Request"},[gD]:{code:-32601,message:"Method not found"},[mD]:{code:-32602,message:"Invalid params"},[m_]:{code:-32603,message:"Internal error"},[$p]:{code:-32e3,message:"Server error"}},y_=$p;function vD(r){return yD.includes(r)}function a1(r){return Object.keys(Fc).includes(r)?Fc[r]:Fc[y_]}function bD(r){const e=Object.values(Fc).find(t=>t.code===r);return e||Fc[y_]}function v_(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var b_={},zi={},c1;function wD(){if(c1)return zi;c1=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.isBrowserCryptoAvailable=zi.getSubtleCrypto=zi.getBrowerCrypto=void 0;function r(){return(mr==null?void 0:mr.crypto)||(mr==null?void 0:mr.msCrypto)||{}}zi.getBrowerCrypto=r;function e(){const n=r();return n.subtle||n.webkitSubtle}zi.getSubtleCrypto=e;function t(){return!!r()&&!!e()}return zi.isBrowserCryptoAvailable=t,zi}var Vi={},u1;function _D(){if(u1)return Vi;u1=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.isBrowser=Vi.isNode=Vi.isReactNative=void 0;function r(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Vi.isReactNative=r;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Vi.isNode=e;function t(){return!r()&&!e()}return Vi.isBrowser=t,Vi}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=ri;e.__exportStar(wD(),r),e.__exportStar(_D(),r)})(b_);function w_(r=3){const e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function qp(r=6){return BigInt(w_(r))}function Ll(r,e,t){return{id:t||w_(),jsonrpc:"2.0",method:r,params:e}}function Gp(r,e){return{id:r,jsonrpc:"2.0",result:e}}function Fl(r,e,t){return{id:r,jsonrpc:"2.0",error:ED(e,t)}}function ED(r,e){return typeof r>"u"?a1(m_):(typeof r=="string"&&(r=Object.assign(Object.assign({},a1($p)),{message:r})),typeof e<"u"&&(r.data=e),vD(r.code)&&(r=bD(r.code)),r)}class AD{}class xD extends AD{constructor(){super()}}class SD extends xD{constructor(e){super()}}const ID="^https?:",TD="^wss?:";function CD(r){const e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function __(r,e){const t=CD(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function f1(r){return __(r,ID)}function l1(r){return __(r,TD)}function PD(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function E_(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function zp(r){return E_(r)&&"method"in r}function Ul(r){return E_(r)&&(Ji(r)||hi(r))}function Ji(r){return"result"in r}function hi(r){return"error"in r}class Hs extends SD{constructor(e){super(e),this.events=new Yr.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Ll(e.method,e.params||[],e.id||qp().toString()),t)}async requestStrict(e,t){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{hi(s)?i(s.error):n(s.result)});try{await this.connection.send(e,t)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Ul(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const OD=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),DD=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",h1=r=>r.split("?")[0],d1=10,RD=OD();class MD{constructor(e){if(this.url=e,this.events=new Yr.EventEmitter,this.registering=!1,!l1(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e,t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(zc(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!l1(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{const i=b_.isReactNative()?void 0:{rejectUnauthorized:!PD(e)},s=new RD(e,[],i);DD()?s.onerror=a=>{const u=a;n(this.emitError(u.error))}:s.on("error",a=>{n(this.emitError(a))}),s.onopen=()=>{this.onOpen(s),t(s)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?jp(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),i=n.message||n.toString(),s=Fl(e,i);this.events.emit("payload",s)}parseError(e,t=this.url){return v_(e,h1(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>d1&&this.events.setMaxListeners(d1)}emitError(e){const t=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${h1(this.url)}`));return this.events.emit("register_error",t),t}}var Yf={exports:{}};Yf.exports;(function(r,e){var t=200,n="__lodash_hash_undefined__",i=1,s=2,a=9007199254740991,u="[object Arguments]",l="[object Array]",d="[object AsyncFunction]",p="[object Boolean]",v="[object Date]",x="[object Error]",S="[object Function]",C="[object GeneratorFunction]",B="[object Map]",$="[object Number]",Y="[object Null]",F="[object Object]",z="[object Promise]",L="[object Proxy]",k="[object RegExp]",D="[object Set]",y="[object String]",A="[object Symbol]",ne="[object Undefined]",U="[object WeakMap]",Q="[object ArrayBuffer]",Z="[object DataView]",N="[object Float32Array]",f="[object Float64Array]",g="[object Int8Array]",w="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",R="[object Uint8ClampedArray]",H="[object Uint16Array]",P="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,I=/^\[object .+?Constructor\]$/,te=/^(?:0|[1-9]\d*)$/,E={};E[N]=E[f]=E[g]=E[w]=E[T]=E[O]=E[R]=E[H]=E[P]=!0,E[u]=E[l]=E[Q]=E[p]=E[Z]=E[v]=E[x]=E[S]=E[B]=E[$]=E[F]=E[k]=E[D]=E[y]=E[U]=!1;var X=typeof mr=="object"&&mr&&mr.Object===Object&&mr,G=typeof self=="object"&&self&&self.Object===Object&&self,V=X||G||Function("return this")(),W=e&&!e.nodeType&&e,b=W&&!0&&r&&!r.nodeType&&r,q=b&&b.exports===W,oe=q&&X.process,pe=function(){try{return oe&&oe.binding&&oe.binding("util")}catch{}}(),fe=pe&&pe.isTypedArray;function we(J,ie){for(var me=-1,De=J==null?0:J.length,rr=0,ct=[];++me<De;){var ur=J[me];ie(ur,me,J)&&(ct[rr++]=ur)}return ct}function He(J,ie){for(var me=-1,De=ie.length,rr=J.length;++me<De;)J[rr+me]=ie[me];return J}function Ee(J,ie){for(var me=-1,De=J==null?0:J.length;++me<De;)if(ie(J[me],me,J))return!0;return!1}function $e(J,ie){for(var me=-1,De=Array(J);++me<J;)De[me]=ie(me);return De}function ue(J){return function(ie){return J(ie)}}function be(J,ie){return J.has(ie)}function ve(J,ie){return J==null?void 0:J[ie]}function Pe(J){var ie=-1,me=Array(J.size);return J.forEach(function(De,rr){me[++ie]=[rr,De]}),me}function Te(J,ie){return function(me){return J(ie(me))}}function Me(J){var ie=-1,me=Array(J.size);return J.forEach(function(De){me[++ie]=De}),me}var Ge=Array.prototype,Oe=Function.prototype,Ae=Object.prototype,ze=V["__core-js_shared__"],Ne=Oe.toString,Ce=Ae.hasOwnProperty,ot=function(){var J=/[^.]+$/.exec(ze&&ze.keys&&ze.keys.IE_PROTO||"");return J?"Symbol(src)_1."+J:""}(),Be=Ae.toString,Fe=RegExp("^"+Ne.call(Ce).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ht=q?V.Buffer:void 0,ke=V.Symbol,pt=V.Uint8Array,yr=Ae.propertyIsEnumerable,It=Ge.splice,gt=ke?ke.toStringTag:void 0,$r=Object.getOwnPropertySymbols,Nt=ht?ht.isBuffer:void 0,kt=Te(Object.keys,Object),jt=wn(V,"DataView"),We=wn(V,"Map"),Ze=wn(V,"Promise"),Ht=wn(V,"Set"),Xe=wn(V,"WeakMap"),Qe=wn(Object,"create"),Jt=Bi(jt),it=Bi(We),et=Bi(Ze),Yt=Bi(Ht),tt=Bi(Xe),nt=ke?ke.prototype:void 0,$t=nt?nt.valueOf:void 0;function Ve(J){var ie=-1,me=J==null?0:J.length;for(this.clear();++ie<me;){var De=J[ie];this.set(De[0],De[1])}}function st(){this.__data__=Qe?Qe(null):{},this.size=0}function Xt(J){var ie=this.has(J)&&delete this.__data__[J];return this.size-=ie?1:0,ie}function zt(J){var ie=this.__data__;if(Qe){var me=ie[J];return me===n?void 0:me}return Ce.call(ie,J)?ie[J]:void 0}function Vt(J){var ie=this.__data__;return Qe?ie[J]!==void 0:Ce.call(ie,J)}function ni(J,ie){var me=this.__data__;return this.size+=this.has(J)?0:1,me[J]=Qe&&ie===void 0?n:ie,this}Ve.prototype.clear=st,Ve.prototype.delete=Xt,Ve.prototype.get=zt,Ve.prototype.has=Vt,Ve.prototype.set=ni;function Et(J){var ie=-1,me=J==null?0:J.length;for(this.clear();++ie<me;){var De=J[ie];this.set(De[0],De[1])}}function Kt(){this.__data__=[],this.size=0}function Nn(J){var ie=this.__data__,me=Zs(ie,J);if(me<0)return!1;var De=ie.length-1;return me==De?ie.pop():It.call(ie,me,1),--this.size,!0}function Bn(J){var ie=this.__data__,me=Zs(ie,J);return me<0?void 0:ie[me][1]}function kn(J){return Zs(this.__data__,J)>-1}function Ln(J,ie){var me=this.__data__,De=Zs(me,J);return De<0?(++this.size,me.push([J,ie])):me[De][1]=ie,this}Et.prototype.clear=Kt,Et.prototype.delete=Nn,Et.prototype.get=Bn,Et.prototype.has=kn,Et.prototype.set=Ln;function Nr(J){var ie=-1,me=J==null?0:J.length;for(this.clear();++ie<me;){var De=J[ie];this.set(De[0],De[1])}}function bi(){this.size=0,this.__data__={hash:new Ve,map:new(We||Et),string:new Ve}}function Vs(J){var ie=gs(this,J).delete(J);return this.size-=ie?1:0,ie}function wi(J){return gs(this,J).get(J)}function Ks(J){return gs(this,J).has(J)}function Ws(J,ie){var me=gs(this,J),De=me.size;return me.set(J,ie),this.size+=me.size==De?0:1,this}Nr.prototype.clear=bi,Nr.prototype.delete=Vs,Nr.prototype.get=wi,Nr.prototype.has=Ks,Nr.prototype.set=Ws;function _i(J){var ie=-1,me=J==null?0:J.length;for(this.__data__=new Nr;++ie<me;)this.add(J[ie])}function hs(J){return this.__data__.set(J,n),this}function ds(J){return this.__data__.has(J)}_i.prototype.add=_i.prototype.push=hs,_i.prototype.has=ds;function Xr(J){var ie=this.__data__=new Et(J);this.size=ie.size}function Qs(){this.__data__=new Et,this.size=0}function Js(J){var ie=this.__data__,me=ie.delete(J);return this.size=ie.size,me}function Ys(J){return this.__data__.get(J)}function Xs(J){return this.__data__.has(J)}function ps(J,ie){var me=this.__data__;if(me instanceof Et){var De=me.__data__;if(!We||De.length<t-1)return De.push([J,ie]),this.size=++me.size,this;me=this.__data__=new Nr(De)}return me.set(J,ie),this.size=me.size,this}Xr.prototype.clear=Qs,Xr.prototype.delete=Js,Xr.prototype.get=Ys,Xr.prototype.has=Xs,Xr.prototype.set=ps;function bu(J,ie){var me=Vo(J),De=!me&&Du(J),rr=!me&&!De&&ec(J),ct=!me&&!De&&!rr&&Nu(J),ur=me||De||rr||ct,Ir=ur?$e(J.length,String):[],Ot=Ir.length;for(var nr in J)(ie||Ce.call(J,nr))&&!(ur&&(nr=="length"||rr&&(nr=="offset"||nr=="parent")||ct&&(nr=="buffer"||nr=="byteLength"||nr=="byteOffset")||Iu(nr,Ot)))&&Ir.push(nr);return Ir}function Zs(J,ie){for(var me=J.length;me--;)if(Ou(J[me][0],ie))return me;return-1}function Xa(J,ie,me){var De=ie(J);return Vo(J)?De:He(De,me(J))}function eo(J){return J==null?J===void 0?ne:Y:gt&&gt in Object(J)?xu(J):Eh(J)}function Za(J){return ro(J)&&eo(J)==u}function to(J,ie,me,De,rr){return J===ie?!0:J==null||ie==null||!ro(J)&&!ro(ie)?J!==J&&ie!==ie:wu(J,ie,me,De,to,rr)}function wu(J,ie,me,De,rr,ct){var ur=Vo(J),Ir=Vo(ie),Ot=ur?l:Ei(J),nr=Ir?l:Ei(ie);Ot=Ot==u?F:Ot,nr=nr==u?F:nr;var wr=Ot==F,fn=nr==F,Tr=Ot==nr;if(Tr&&ec(J)){if(!ec(ie))return!1;ur=!0,wr=!1}if(Tr&&!wr)return ct||(ct=new Xr),ur||Nu(J)?Go(J,ie,me,De,rr,ct):_h(J,ie,Ot,me,De,rr,ct);if(!(me&i)){var fr=wr&&Ce.call(J,"__wrapped__"),Zr=fn&&Ce.call(ie,"__wrapped__");if(fr||Zr){var ii=fr?J.value():J,Fn=Zr?ie.value():ie;return ct||(ct=new Xr),rr(ii,Fn,me,De,ct)}}return Tr?(ct||(ct=new Xr),Au(J,ie,me,De,rr,ct)):!1}function wh(J){if(!Mu(J)||Cu(J))return!1;var ie=Ko(J)?Fe:I;return ie.test(Bi(J))}function _u(J){return ro(J)&&Ru(J.length)&&!!E[eo(J)]}function Eu(J){if(!Pu(J))return kt(J);var ie=[];for(var me in Object(J))Ce.call(J,me)&&me!="constructor"&&ie.push(me);return ie}function Go(J,ie,me,De,rr,ct){var ur=me&i,Ir=J.length,Ot=ie.length;if(Ir!=Ot&&!(ur&&Ot>Ir))return!1;var nr=ct.get(J);if(nr&&ct.get(ie))return nr==ie;var wr=-1,fn=!0,Tr=me&s?new _i:void 0;for(ct.set(J,ie),ct.set(ie,J);++wr<Ir;){var fr=J[wr],Zr=ie[wr];if(De)var ii=ur?De(Zr,fr,wr,ie,J,ct):De(fr,Zr,wr,J,ie,ct);if(ii!==void 0){if(ii)continue;fn=!1;break}if(Tr){if(!Ee(ie,function(Fn,Ai){if(!be(Tr,Ai)&&(fr===Fn||rr(fr,Fn,me,De,ct)))return Tr.push(Ai)})){fn=!1;break}}else if(!(fr===Zr||rr(fr,Zr,me,De,ct))){fn=!1;break}}return ct.delete(J),ct.delete(ie),fn}function _h(J,ie,me,De,rr,ct,ur){switch(me){case Z:if(J.byteLength!=ie.byteLength||J.byteOffset!=ie.byteOffset)return!1;J=J.buffer,ie=ie.buffer;case Q:return!(J.byteLength!=ie.byteLength||!ct(new pt(J),new pt(ie)));case p:case v:case $:return Ou(+J,+ie);case x:return J.name==ie.name&&J.message==ie.message;case k:case y:return J==ie+"";case B:var Ir=Pe;case D:var Ot=De&i;if(Ir||(Ir=Me),J.size!=ie.size&&!Ot)return!1;var nr=ur.get(J);if(nr)return nr==ie;De|=s,ur.set(J,ie);var wr=Go(Ir(J),Ir(ie),De,rr,ct,ur);return ur.delete(J),wr;case A:if($t)return $t.call(J)==$t.call(ie)}return!1}function Au(J,ie,me,De,rr,ct){var ur=me&i,Ir=zo(J),Ot=Ir.length,nr=zo(ie),wr=nr.length;if(Ot!=wr&&!ur)return!1;for(var fn=Ot;fn--;){var Tr=Ir[fn];if(!(ur?Tr in ie:Ce.call(ie,Tr)))return!1}var fr=ct.get(J);if(fr&&ct.get(ie))return fr==ie;var Zr=!0;ct.set(J,ie),ct.set(ie,J);for(var ii=ur;++fn<Ot;){Tr=Ir[fn];var Fn=J[Tr],Ai=ie[Tr];if(De)var tc=ur?De(Ai,Fn,Tr,ie,J,ct):De(Fn,Ai,Tr,J,ie,ct);if(!(tc===void 0?Fn===Ai||rr(Fn,Ai,me,De,ct):tc)){Zr=!1;break}ii||(ii=Tr=="constructor")}if(Zr&&!ii){var no=J.constructor,Br=ie.constructor;no!=Br&&"constructor"in J&&"constructor"in ie&&!(typeof no=="function"&&no instanceof no&&typeof Br=="function"&&Br instanceof Br)&&(Zr=!1)}return ct.delete(J),ct.delete(ie),Zr}function zo(J){return Xa(J,Sh,Su)}function gs(J,ie){var me=J.__data__;return Tu(ie)?me[typeof ie=="string"?"string":"hash"]:me.map}function wn(J,ie){var me=ve(J,ie);return wh(me)?me:void 0}function xu(J){var ie=Ce.call(J,gt),me=J[gt];try{J[gt]=void 0;var De=!0}catch{}var rr=Be.call(J);return De&&(ie?J[gt]=me:delete J[gt]),rr}var Su=$r?function(J){return J==null?[]:(J=Object(J),we($r(J),function(ie){return yr.call(J,ie)}))}:tr,Ei=eo;(jt&&Ei(new jt(new ArrayBuffer(1)))!=Z||We&&Ei(new We)!=B||Ze&&Ei(Ze.resolve())!=z||Ht&&Ei(new Ht)!=D||Xe&&Ei(new Xe)!=U)&&(Ei=function(J){var ie=eo(J),me=ie==F?J.constructor:void 0,De=me?Bi(me):"";if(De)switch(De){case Jt:return Z;case it:return B;case et:return z;case Yt:return D;case tt:return U}return ie});function Iu(J,ie){return ie=ie??a,!!ie&&(typeof J=="number"||te.test(J))&&J>-1&&J%1==0&&J<ie}function Tu(J){var ie=typeof J;return ie=="string"||ie=="number"||ie=="symbol"||ie=="boolean"?J!=="__proto__":J===null}function Cu(J){return!!ot&&ot in J}function Pu(J){var ie=J&&J.constructor,me=typeof ie=="function"&&ie.prototype||Ae;return J===me}function Eh(J){return Be.call(J)}function Bi(J){if(J!=null){try{return Ne.call(J)}catch{}try{return J+""}catch{}}return""}function Ou(J,ie){return J===ie||J!==J&&ie!==ie}var Du=Za(function(){return arguments}())?Za:function(J){return ro(J)&&Ce.call(J,"callee")&&!yr.call(J,"callee")},Vo=Array.isArray;function Ah(J){return J!=null&&Ru(J.length)&&!Ko(J)}var ec=Nt||Zt;function xh(J,ie){return to(J,ie)}function Ko(J){if(!Mu(J))return!1;var ie=eo(J);return ie==S||ie==C||ie==d||ie==L}function Ru(J){return typeof J=="number"&&J>-1&&J%1==0&&J<=a}function Mu(J){var ie=typeof J;return J!=null&&(ie=="object"||ie=="function")}function ro(J){return J!=null&&typeof J=="object"}var Nu=fe?ue(fe):_u;function Sh(J){return Ah(J)?bu(J):Eu(J)}function tr(){return[]}function Zt(){return!1}r.exports=xh})(Yf,Yf.exports);var ND=Yf.exports;const BD=ko(ND);function kD(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var s=r.charAt(i),a=s.charCodeAt(0);if(t[a]!==255)throw new TypeError(s+" is ambiguous");t[a]=i}var u=r.length,l=r.charAt(0),d=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function v(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var B=0,$=0,Y=0,F=C.length;Y!==F&&C[Y]===0;)Y++,B++;for(var z=(F-Y)*p+1>>>0,L=new Uint8Array(z);Y!==F;){for(var k=C[Y],D=0,y=z-1;(k!==0||D<$)&&y!==-1;y--,D++)k+=256*L[y]>>>0,L[y]=k%u>>>0,k=k/u>>>0;if(k!==0)throw new Error("Non-zero carry");$=D,Y++}for(var A=z-$;A!==z&&L[A]===0;)A++;for(var ne=l.repeat(B);A<z;++A)ne+=r.charAt(L[A]);return ne}function x(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var B=0;if(C[B]!==" "){for(var $=0,Y=0;C[B]===l;)$++,B++;for(var F=(C.length-B)*d+1>>>0,z=new Uint8Array(F);C[B];){var L=t[C.charCodeAt(B)];if(L===255)return;for(var k=0,D=F-1;(L!==0||k<Y)&&D!==-1;D--,k++)L+=u*z[D]>>>0,z[D]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");Y=k,B++}if(C[B]!==" "){for(var y=F-Y;y!==F&&z[y]===0;)y++;for(var A=new Uint8Array($+(F-y)),ne=$;y!==F;)A[ne++]=z[y++];return A}}}function S(C){var B=x(C);if(B)return B;throw new Error(`Non-${e} character`)}return{encode:v,decodeUnsafe:x,decode:S}}var LD=kD,FD=LD;const A_=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},UD=r=>new TextEncoder().encode(r),jD=r=>new TextDecoder().decode(r);class HD{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class $D{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return x_(this,e)}}class qD{constructor(e){this.decoders=e}or(e){return x_(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const x_=(r,e)=>new qD({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class GD{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new HD(e,t,n),this.decoder=new $D(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const jl=({name:r,prefix:e,encode:t,decode:n})=>new GD(r,e,t,n),lu=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:i}=FD(t,e);return jl({prefix:r,name:e,encode:n,decode:s=>A_(i(s))})},zD=(r,e,t,n)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let s=r.length;for(;r[s-1]==="=";)--s;const a=new Uint8Array(s*t/8|0);let u=0,l=0,d=0;for(let p=0;p<s;++p){const v=i[r[p]];if(v===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<t|v,u+=t,u>=8&&(u-=8,a[d++]=255&l>>u)}if(u>=t||255&l<<8-u)throw new SyntaxError("Unexpected end of data");return a},VD=(r,e,t)=>{const n=e[e.length-1]==="=",i=(1<<t)-1;let s="",a=0,u=0;for(let l=0;l<r.length;++l)for(u=u<<8|r[l],a+=8;a>t;)a-=t,s+=e[i&u>>a];if(a&&(s+=e[i&u<<t-a]),n)for(;s.length*t&7;)s+="=";return s},zr=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>jl({prefix:e,name:r,encode(i){return VD(i,n,t)},decode(i){return zD(i,n,t,r)}}),KD=jl({prefix:"\0",name:"identity",encode:r=>jD(r),decode:r=>UD(r)});var WD=Object.freeze({__proto__:null,identity:KD});const QD=zr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var JD=Object.freeze({__proto__:null,base2:QD});const YD=zr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var XD=Object.freeze({__proto__:null,base8:YD});const ZD=lu({prefix:"9",name:"base10",alphabet:"0123456789"});var eR=Object.freeze({__proto__:null,base10:ZD});const tR=zr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),rR=zr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var nR=Object.freeze({__proto__:null,base16:tR,base16upper:rR});const iR=zr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),sR=zr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),oR=zr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),aR=zr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),cR=zr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uR=zr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),fR=zr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),lR=zr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),hR=zr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var dR=Object.freeze({__proto__:null,base32:iR,base32upper:sR,base32pad:oR,base32padupper:aR,base32hex:cR,base32hexupper:uR,base32hexpad:fR,base32hexpadupper:lR,base32z:hR});const pR=lu({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gR=lu({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var mR=Object.freeze({__proto__:null,base36:pR,base36upper:gR});const yR=lu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vR=lu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var bR=Object.freeze({__proto__:null,base58btc:yR,base58flickr:vR});const wR=zr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),_R=zr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ER=zr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),AR=zr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var xR=Object.freeze({__proto__:null,base64:wR,base64pad:_R,base64url:ER,base64urlpad:AR});const S_=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),SR=S_.reduce((r,e,t)=>(r[t]=e,r),[]),IR=S_.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function TR(r){return r.reduce((e,t)=>(e+=SR[t],e),"")}function CR(r){const e=[];for(const t of r){const n=IR[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const PR=jl({prefix:"🚀",name:"base256emoji",encode:TR,decode:CR});var OR=Object.freeze({__proto__:null,base256emoji:PR}),DR=I_,p1=128,RR=127,MR=~RR,NR=Math.pow(2,31);function I_(r,e,t){e=e||[],t=t||0;for(var n=t;r>=NR;)e[t++]=r&255|p1,r/=128;for(;r&MR;)e[t++]=r&255|p1,r>>>=7;return e[t]=r|0,I_.bytes=t-n+1,e}var BR=M0,kR=128,g1=127;function M0(r,n){var t=0,n=n||0,i=0,s=n,a,u=r.length;do{if(s>=u)throw M0.bytes=0,new RangeError("Could not decode varint");a=r[s++],t+=i<28?(a&g1)<<i:(a&g1)*Math.pow(2,i),i+=7}while(a>=kR);return M0.bytes=s-n,t}var LR=Math.pow(2,7),FR=Math.pow(2,14),UR=Math.pow(2,21),jR=Math.pow(2,28),HR=Math.pow(2,35),$R=Math.pow(2,42),qR=Math.pow(2,49),GR=Math.pow(2,56),zR=Math.pow(2,63),VR=function(r){return r<LR?1:r<FR?2:r<UR?3:r<jR?4:r<HR?5:r<$R?6:r<qR?7:r<GR?8:r<zR?9:10},KR={encode:DR,decode:BR,encodingLength:VR},T_=KR;const m1=(r,e,t=0)=>(T_.encode(r,e,t),e),y1=r=>T_.encodingLength(r),N0=(r,e)=>{const t=e.byteLength,n=y1(r),i=n+y1(t),s=new Uint8Array(i+t);return m1(r,s,0),m1(t,s,n),s.set(e,i),new WR(r,t,e,s)};class WR{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}}const C_=({name:r,code:e,encode:t})=>new QR(r,e,t);class QR{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?N0(this.code,t):t.then(n=>N0(this.code,n))}else throw Error("Unknown type, must be binary type")}}const P_=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),JR=C_({name:"sha2-256",code:18,encode:P_("SHA-256")}),YR=C_({name:"sha2-512",code:19,encode:P_("SHA-512")});var XR=Object.freeze({__proto__:null,sha256:JR,sha512:YR});const O_=0,ZR="identity",D_=A_,e4=r=>N0(O_,D_(r)),t4={code:O_,name:ZR,encode:D_,digest:e4};var r4=Object.freeze({__proto__:null,identity:t4});new TextEncoder,new TextDecoder;const v1={...WD,...JD,...XD,...eR,...nR,...dR,...mR,...bR,...xR,...OR};({...XR,...r4});function R_(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function n4(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?R_(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function M_(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const b1=M_("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),jd=M_("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=n4(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),i4={utf8:b1,"utf-8":b1,hex:v1.base16,latin1:jd,ascii:jd,binary:jd,...v1};function s4(r,e="utf8"){const t=i4[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?R_(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}const N_="wc",o4=2,Vp="core",Ls=`${N_}@2:${Vp}:`,a4={name:Vp,logger:"error"},c4={database:":memory:"},u4="crypto",w1="client_ed25519_seed",f4=Le.ONE_DAY,l4="keychain",h4="0.3",d4="messages",p4="0.3",g4=Le.SIX_HOURS,m4="publisher",B_="irn",y4="error",k_="wss://relay.walletconnect.com",_1="wss://relay.walletconnect.org",v4="relayer",br={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},b4="_subscription",xc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},w4=Le.ONE_SECOND/2,_4="2.9.1",E4=1e4,A4="0.3",x4="WALLETCONNECT_CLIENT_ID",Oi={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},S4="subscription",I4="0.3",T4=Le.FIVE_SECONDS*1e3,C4="pairing",P4="0.3",Sc={wc_pairingDelete:{req:{ttl:Le.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Le.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Le.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Le.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Le.ONE_DAY,prompt:!1,tag:0},res:{ttl:Le.ONE_DAY,prompt:!1,tag:0}}},Ci={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},O4="history",D4="0.3",R4="expirer",Qn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},M4="0.3",Hd="verify-api",E1="https://verify.walletconnect.com";class N4{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=l4,this.version=h4,this.initialized=!1,this.storagePrefix=Ls,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=Se("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=Mt.generateChildLogger(t,this.name)}get context(){return Mt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,r_(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?n_(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class B4{constructor(e,t,n){this.core=e,this.logger=t,this.name=u4,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),s=o1(i);return g_(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=mP();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const s=await this.getClientSeed(),a=o1(s),u=D0();return await hD(u,i,f4,a)},this.generateSharedKey=(i,s,a)=>{this.isInitialized();const u=this.getPrivateKey(i),l=yP(u,s);return this.setSymKey(l,a)},this.setSymKey=async(i,s)=>{this.isInitialized();const a=s||vP(i);return await this.keychain.set(a,i),a},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,a)=>{this.isInitialized();const u=e_(a),l=zc(s);if(Bv(u)){const x=u.senderPublicKey,S=u.receiverPublicKey;i=await this.generateSharedKey(x,S)}const d=this.getSymKey(i),{type:p,senderPublicKey:v}=u;return wP({type:p,symKey:d,message:l,senderPublicKey:v})},this.decode=async(i,s,a)=>{this.isInitialized();const u=AP(s,a);if(Bv(u)){const l=u.receiverPublicKey,d=u.senderPublicKey;i=await this.generateSharedKey(l,d)}try{const l=this.getSymKey(i),d=_P({symKey:l,encoded:s});return jp(d)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}},this.getPayloadType=i=>{const s=Kf(i);return uu(s.type)},this.getPayloadSenderPublicKey=i=>{const s=Kf(i);return s.senderPublicKey?cn(s.senderPublicKey,an):void 0},this.core=e,this.logger=Mt.generateChildLogger(t,this.name),this.keychain=n||new N4(this.core,this.logger)}get context(){return Mt.getLoggerContext(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(w1)}catch{e=D0(),await this.keychain.set(w1,e)}return s4(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class k4 extends $O{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=d4,this.version=p4,this.initialized=!1,this.storagePrefix=Ls,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const s=xa(i);let a=this.messages.get(n);return typeof a>"u"&&(a={}),typeof a[s]<"u"||(a[s]=i,this.messages.set(n,a),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const s=this.get(n),a=xa(i);return typeof s[a]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Mt.generateChildLogger(e,this.name),this.core=t}get context(){return Mt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,r_(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?n_(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class L4 extends qO{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new Yr.EventEmitter,this.name=m4,this.queue=new Map,this.publishTimeout=Le.toMiliseconds(Le.TEN_SECONDS),this.queueTimeout=Le.toMiliseconds(Le.FIVE_SECONDS),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});try{const a=(s==null?void 0:s.ttl)||g4,u=R0(s),l=(s==null?void 0:s.prompt)||!1,d=(s==null?void 0:s.tag)||0,p=(s==null?void 0:s.id)||qp().toString(),v={topic:n,message:i,opts:{ttl:a,relay:u,prompt:l,tag:d,id:p}},x=setTimeout(()=>this.queue.set(p,v),this.queueTimeout);try{await await Wf(this.rpcPublish(n,i,a,u,l,d,p),this.publishTimeout),clearTimeout(x),this.relayer.events.emit(br.publish,v)}catch{this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0;return}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}})}catch(a){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(a),a}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=Mt.generateChildLogger(t,this.name),this.registerEventListeners()}get context(){return Mt.getLoggerContext(this.logger)}rpcPublish(e,t,n,i,s,a,u){var l,d,p,v;const x={method:Df(i.protocol).publish,params:{topic:e,message:t,ttl:n,prompt:s,tag:a},id:u};return on((l=x.params)==null?void 0:l.prompt)&&((d=x.params)==null||delete d.prompt),on((p=x.params)==null?void 0:p.tag)&&((v=x.params)==null||delete v.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:x}),this.relayer.request(x)}onPublish(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:t,message:n,opts:i}=e;await this.publish(t,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ka.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(br.connection_stalled);return}this.checkQueue()}),this.relayer.on(br.message_ack,e=>{this.onPublish(e.id.toString())})}}class F4{constructor(){this.map=new Map,this.set=(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const i=n.filter(s=>s!==t);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var U4=Object.defineProperty,j4=Object.defineProperties,H4=Object.getOwnPropertyDescriptors,A1=Object.getOwnPropertySymbols,$4=Object.prototype.hasOwnProperty,q4=Object.prototype.propertyIsEnumerable,x1=(r,e,t)=>e in r?U4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ic=(r,e)=>{for(var t in e||(e={}))$4.call(e,t)&&x1(r,t,e[t]);if(A1)for(var t of A1(e))q4.call(e,t)&&x1(r,t,e[t]);return r},$d=(r,e)=>j4(r,H4(e));class G4 extends VO{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new F4,this.events=new Yr.EventEmitter,this.name=S4,this.version=I4,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Ls,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=R0(i),a={topic:n,relay:s};this.pending.set(n,a);const u=await this.rpcSubscribe(n,s);return this.onSubscribe(u,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),u}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((i,s)=>{const a=new Le.Watch;a.start(this.pendingSubscriptionWatchLabel);const u=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(u),a.stop(this.pendingSubscriptionWatchLabel),i(!0)),a.elapsed(this.pendingSubscriptionWatchLabel)>=T4&&(clearInterval(u),a.stop(this.pendingSubscriptionWatchLabel),s(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=Mt.generateChildLogger(t,this.name),this.clientId=""}get context(){return Mt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const i=R0(n);await this.rpcUnsubscribe(e,t,i);const s=Ar("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,t){const n={method:Df(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Wf(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(br.connection_stalled)}return xa(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,n={method:Df(t.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Wf(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(br.connection_stalled)}}rpcUnsubscribe(e,t,n){const i={method:Df(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,$d(Ic({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,Ic({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,Ic({},t)),this.topicMap.set(t.topic,e),this.events.emit(Oi.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:n}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Oi.deleted,$d(Ic({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Oi.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(Oi.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);Mi(t)&&this.onBatchSubscribe(t.map((n,i)=>$d(Ic({},e[i]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(Ka.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(br.connect,async()=>{await this.onConnect()}),this.relayer.on(br.disconnect,()=>{this.onDisconnect()}),this.events.on(Oi.created,async e=>{const t=Oi.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(Oi.deleted,async e=>{const t=Oi.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var z4=Object.defineProperty,S1=Object.getOwnPropertySymbols,V4=Object.prototype.hasOwnProperty,K4=Object.prototype.propertyIsEnumerable,I1=(r,e,t)=>e in r?z4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,W4=(r,e)=>{for(var t in e||(e={}))V4.call(e,t)&&I1(r,t,e[t]);if(S1)for(var t of S1(e))K4.call(e,t)&&I1(r,t,e[t]);return r};class Q4 extends GO{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Yr.EventEmitter,this.name=v4,this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async t=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(t)}catch(n){throw this.logger.debug("Failed to Publish Request"),this.logger.error(n),n}},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Mt.generateChildLogger(e.logger,this.name):Mt.pino(Mt.getDefaultLoggerOptions({level:e.logger||y4})),this.messages=new k4(this.logger,e.core),this.subscriber=new G4(this,this.logger),this.publisher=new L4(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||k_,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${_1}...`),await this.restartTransport(_1)}this.registerEventListeners(),this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},E4)}get context(){return Mt.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var n;this.isInitialized();let i=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"";return i||(await Promise.all([new Promise(s=>{this.subscriber.once(Oi.created,a=>{a.topic===e&&s()})}),new Promise(async s=>{i=await this.subscriber.subscribe(e,t),s()})]),i)}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(br.transport_closed))}async transportOpen(e){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=e||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise(t=>{this.initialized||t(),this.subscriber.once(Oi.resubscribed,()=>{t()})}),await Promise.race([new Promise(async(t,n)=>{await Wf(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(i=>n(i)).then(()=>t()).finally(()=>this.removeListener(br.transport_closed,this.rejectTransportOpen))}),new Promise(t=>this.once(br.transport_closed,this.rejectTransportOpen))])])}catch(t){this.logger.error(t);const n=t;if(!this.isConnectionStalled(n.message))throw t;this.events.emit(br.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(e){this.transportExplicitlyClosed||this.reconnecting||(this.relayUrl=e||this.relayUrl,this.connected&&await Promise.all([new Promise(t=>{this.provider.once(xc.disconnect,()=>{t()})}),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}rejectTransportOpen(){throw new Error("Attempt to connect to relay via `transportOpen` has stalled. Retrying...")}async createProvider(){const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Hs(new MD(NP({sdkVersion:_4,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:n}=e;await this.messages.set(t,n)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;const i=this.messages.has(t,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),zp(e)){if(!e.method.endsWith(b4))return;const t=e.params,{topic:n,message:i,publishedAt:s}=t.data,a={topic:n,message:i,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(W4({type:"event",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Ul(e)&&this.events.emit(br.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(br.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=Gp(e.id,!0);await this.provider.connection.send(t)}registerProviderListeners(){this.provider.on(xc.payload,e=>this.onProviderPayload(e)),this.provider.on(xc.connect,()=>{this.events.emit(br.connect)}),this.provider.on(xc.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(xc.error,e=>{this.logger.error(e),this.events.emit(br.error,e)})}registerEventListeners(){this.events.on(br.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(br.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},Le.toMiliseconds(w4))}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(e=>{const t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var J4=Object.defineProperty,T1=Object.getOwnPropertySymbols,Y4=Object.prototype.hasOwnProperty,X4=Object.prototype.propertyIsEnumerable,C1=(r,e,t)=>e in r?J4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P1=(r,e)=>{for(var t in e||(e={}))Y4.call(e,t)&&C1(r,t,e[t]);if(T1)for(var t of T1(e))X4.call(e,t)&&C1(r,t,e[t]);return r};class Hl extends zO{constructor(e,t,n,i=Ls,s=void 0){super(e,t,n,i),this.core=e,this.logger=t,this.name=n,this.map=new Map,this.version=A4,this.cached=[],this.initialized=!1,this.storagePrefix=Ls,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!on(a)?this.map.set(this.getKey(a),a):nO(a)?this.map.set(a.id,a):iO(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)},this.set=async(a,u)=>{this.isInitialized(),this.map.has(a)?await this.update(a,u):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:u}),this.map.set(a,u),await this.persist())},this.get=a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a)),this.getAll=a=>(this.isInitialized(),a?this.values.filter(u=>Object.keys(a).every(l=>BD(u[l],a[l]))):this.values),this.update=async(a,u)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:u});const l=P1(P1({},this.getData(a)),u);this.map.set(a,l),await this.persist()},this.delete=async(a,u)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:u}),this.map.delete(a),await this.persist())},this.logger=Mt.generateChildLogger(t,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Mt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){const{message:n}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Z4{constructor(e,t){this.core=e,this.logger=t,this.name=C4,this.version=P4,this.events=new Ip,this.initialized=!1,this.storagePrefix=Ls,this.ignoredPayloadTypes=[Fo],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=D0(),i=await this.core.crypto.setSymKey(n),s=li(Le.FIVE_MINUTES),a={protocol:B_},u={topic:i,expiry:s,relay:a,active:!1},l=KP({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:a});return await this.pairings.set(i,u),await this.core.relayer.subscribe(i),this.core.expirer.set(i,s),{topic:i,uri:l}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:i,symKey:s,relay:a}=GP(n.uri);if(this.pairings.keys.includes(i))throw new Error(`Pairing already exists: ${i}`);if(this.core.crypto.hasKeys(i))throw new Error(`Keychain already exists: ${i}`);const u=li(Le.FIVE_MINUTES),l={topic:i,relay:a,expiry:u,active:!1};return await this.pairings.set(i,l),await this.core.crypto.setSymKey(s,i),await this.core.relayer.subscribe(i,{relay:a}),this.core.expirer.set(i,u),n.activatePairing&&await this.activate({topic:i}),l},this.activate=async({topic:n})=>{this.isInitialized();const i=li(Le.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:a,resolve:u,reject:l}=pa();this.events.once(Cr("pairing_ping",s),({error:d})=>{d?l(d):u()}),await a()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Ar("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,s)=>{const a=Ll(i,s),u=await this.core.crypto.encode(n,a),l=Sc[i].req;return this.core.history.set(n,a),this.core.relayer.publish(n,u,l),a.id},this.sendResult=async(n,i,s)=>{const a=Gp(n,s),u=await this.core.crypto.encode(i,a),l=await this.core.history.get(i,n),d=Sc[l.request.method].res;await this.core.relayer.publish(i,u,d),await this.core.history.resolve(a)},this.sendError=async(n,i,s)=>{const a=Fl(n,s),u=await this.core.crypto.encode(i,a),l=await this.core.history.get(i,n),d=Sc[l.request.method]?Sc[l.request.method].res:Sc.unregistered_method.res;await this.core.relayer.publish(i,u,d),await this.core.history.resolve(a)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Ar("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>Rs(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:s}=n,a=(await this.core.history.get(i,s.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(a)}},this.onPairingPingRequest=async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit("pairing_ping",{id:s,topic:n})}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onPairingPingResponse=(n,i)=>{const{id:s}=i;setTimeout(()=>{Ji(i)?this.events.emit(Cr("pairing_ping",s),{}):hi(i)&&this.events.emit(Cr("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit("pairing_delete",{id:s,topic:n})}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:s,method:a}=i;try{if(this.registeredMethods.includes(a))return;const u=Ar("WC_METHOD_UNSUPPORTED",a);await this.sendError(s,n,u),this.logger.error(u)}catch(u){await this.sendError(s,n,u),this.logger.error(u)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Ar("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{if(!mn(n)){const{message:i}=Se("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(i)}if(!rO(n.uri)){const{message:i}=Se("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(i)}},this.isValidPing=async n=>{if(!mn(n)){const{message:s}=Se("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!mn(n)){const{message:s}=Se("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!Ur(n,!1)){const{message:i}=Se("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=Se("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Rs(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=Se("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=Mt.generateChildLogger(t,this.name),this.pairings=new Hl(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Mt.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(br.message,async e=>{const{topic:t,message:n}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(t,n);zp(i)?(this.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):Ul(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.core.history.delete(t,i.id))})}registerExpirerEvents(){this.core.expirer.on(Qn.expired,async e=>{const{topic:t}=s_(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}}class eM extends HO{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new Yr.EventEmitter,this.name=O4,this.version=D4,this.cached=[],this.initialized=!1,this.storagePrefix=Ls,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const a={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:li(Le.THIRTY_DAYS)};this.records.set(a.id,a),this.events.emit(Ci.created,a)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=hi(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(Ci.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Ci.deleted,s)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Mt.generateChildLogger(t,this.name)}get context(){return Mt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:Ll(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:n}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ci.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ci.created,e=>{const t=Ci.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Ci.updated,e=>{const t=Ci.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Ci.deleted,e=>{const t=Ci.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(Ka.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{Le.toMiliseconds(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class tM extends KO{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new Yr.EventEmitter,this.name=R4,this.version=M4,this.cached=[],this.initialized=!1,this.storagePrefix=Ls,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const s=this.formatTarget(n),a={target:s,expiry:i};this.expirations.set(s,a),this.checkExpiry(s,a),this.events.emit(Qn.created,{target:s,expiration:a})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Qn.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Mt.generateChildLogger(t,this.name)}get context(){return Mt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return BP(e);if(typeof e=="number")return kP(e);const{message:t}=Se("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Qn.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:n}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}checkExpiry(e,t){const{expiry:n}=t;Le.toMiliseconds(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Qn.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Ka.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Qn.created,e=>{const t=Qn.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Qn.expired,e=>{const t=Qn.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Qn.deleted,e=>{const t=Qn.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class rM extends WO{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=Hd,this.initialized=!1,this.init=async n=>{t_()||!kp()||(this.verifyUrl=(n==null?void 0:n.verifyUrl)||E1,await this.createIframe())},this.register=async n=>{var i;if(this.initialized||await this.init(),!!this.iframe)try{(i=this.iframe.contentWindow)==null||i.postMessage(n.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${n.attestationId} ${this.verifyUrl}`)}catch{}},this.resolve=async n=>{var i;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${n.attestationId}`);const s=this.startAbortTimer(Le.FIVE_SECONDS),a=await fetch(`${this.verifyUrl}/attestation/${n.attestationId}`,{signal:this.abortController.signal});return clearTimeout(s),a.status===200?(i=await a.json())==null?void 0:i.origin:""},this.createIframe=async()=>{try{await Promise.race([new Promise((n,i)=>{if(document.getElementById(Hd))return n();const s=document.createElement("iframe");s.setAttribute("id",Hd),s.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),s.style.display="none",s.addEventListener("load",()=>{this.initialized=!0,n()}),s.addEventListener("error",a=>{i(a)}),document.body.append(s),this.iframe=s}),new Promise(n=>{setTimeout(()=>n("iframe load timeout"),Le.toMiliseconds(Le.ONE_SECOND/2))})])}catch(n){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(n)}},this.logger=Mt.generateChildLogger(t,this.name),this.verifyUrl=E1,this.abortController=new AbortController,this.isDevEnv=Bp()&&{}.IS_VITEST}get context(){return Mt.getLoggerContext(this.logger)}startAbortTimer(e){return setTimeout(()=>this.abortController.abort(),Le.toMiliseconds(e))}}var nM=Object.defineProperty,O1=Object.getOwnPropertySymbols,iM=Object.prototype.hasOwnProperty,sM=Object.prototype.propertyIsEnumerable,D1=(r,e,t)=>e in r?nM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R1=(r,e)=>{for(var t in e||(e={}))iM.call(e,t)&&D1(r,t,e[t]);if(O1)for(var t of O1(e))sM.call(e,t)&&D1(r,t,e[t]);return r};class Kp extends jO{constructor(e){super(e),this.protocol=N_,this.version=o4,this.name=Vp,this.events=new Yr.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||k_;const t=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Mt.pino(Mt.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||a4.logger}));this.logger=Mt.generateChildLogger(t,this.name),this.heartbeat=new Ka.HeartBeat,this.crypto=new B4(this,this.logger,e==null?void 0:e.keychain),this.history=new eM(this,this.logger),this.expirer=new tM(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new DO(R1(R1({},c4),e==null?void 0:e.storageOptions)),this.relayer=new Q4({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Z4(this,this.logger),this.verify=new rM(this.projectId||"",this.logger)}static async init(e){const t=new Kp(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem(x4,n),t}get context(){return Mt.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const oM=Kp,L_="wc",F_=2,U_="client",Wp=`${L_}@${F_}:${U_}:`,qd={name:U_,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},aM="WALLETCONNECT_DEEPLINK_CHOICE",cM="proposal",j_="Proposal expired",uM="session",_f=Le.SEVEN_DAYS,fM="engine",Tc={wc_sessionPropose:{req:{ttl:Le.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Le.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Le.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Le.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Le.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Le.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Le.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Le.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Le.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Le.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Le.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Le.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Le.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Le.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Le.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Le.THIRTY_SECONDS,prompt:!1,tag:1115}}},Gd={min:Le.FIVE_MINUTES,max:Le.SEVEN_DAYS},Cc={idle:"idle",active:"active"},lM="request",hM=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var dM=Object.defineProperty,pM=Object.defineProperties,gM=Object.getOwnPropertyDescriptors,M1=Object.getOwnPropertySymbols,mM=Object.prototype.hasOwnProperty,yM=Object.prototype.propertyIsEnumerable,N1=(r,e,t)=>e in r?dM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Vn=(r,e)=>{for(var t in e||(e={}))mM.call(e,t)&&N1(r,t,e[t]);if(M1)for(var t of M1(e))yM.call(e,t)&&N1(r,t,e[t]);return r},zd=(r,e)=>pM(r,gM(e));class vM extends JO{constructor(e){super(e),this.name=fM,this.events=new Ip,this.initialized=!1,this.ignoredPayloadTypes=[Fo],this.requestQueue={state:Cc.idle,requests:[]},this.requestQueueDelay=Le.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(Tc)}),this.initialized=!0,setTimeout(()=>{this.requestQueue.requests=this.getPendingSessionRequests(),this.processRequestQueue()},Le.toMiliseconds(this.requestQueueDelay)))},this.connect=async t=>{this.isInitialized();const n=zd(Vn({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:u,relays:l}=n;let d=i,p,v=!1;if(d&&(v=this.client.core.pairing.pairings.get(d).active),!d||!v){const{topic:z,uri:L}=await this.client.core.pairing.create();d=z,p=L}const x=await this.client.core.crypto.generateKeyPair(),S=Vn({requiredNamespaces:s,optionalNamespaces:a,relays:l??[{protocol:B_}],proposer:{publicKey:x,metadata:this.client.metadata}},u&&{sessionProperties:u}),{reject:C,resolve:B,done:$}=pa(Le.FIVE_MINUTES,j_);if(this.events.once(Cr("session_connect"),async({error:z,session:L})=>{if(z)C(z);else if(L){L.self.publicKey=x;const k=zd(Vn({},L),{requiredNamespaces:L.requiredNamespaces,optionalNamespaces:L.optionalNamespaces});await this.client.session.set(L.topic,k),await this.setExpiry(L.topic,L.expiry),d&&await this.client.core.pairing.updateMetadata({topic:d,metadata:L.peer.metadata}),B(k)}}),!d){const{message:z}=Se("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error(z)}const Y=await this.sendRequest(d,"wc_sessionPropose",S),F=li(Le.FIVE_MINUTES);return await this.setProposal(Y,Vn({id:Y,expiry:F},S)),{uri:p,approval:$}},this.pair=async t=>(this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{this.isInitialized(),await this.isValidApprove(t);const{id:n,relayProtocol:i,namespaces:s,sessionProperties:a}=t,u=this.client.proposal.get(n);let{pairingTopic:l,proposer:d,requiredNamespaces:p,optionalNamespaces:v}=u;l=l||"",Sa(p)||(p=YP(s,"approve()"));const x=await this.client.core.crypto.generateKeyPair(),S=d.publicKey,C=await this.client.core.crypto.generateSharedKey(x,S);l&&n&&(await this.client.core.pairing.updateMetadata({topic:l,metadata:d.metadata}),await this.sendResult(n,l,{relay:{protocol:i??"irn"},responderPublicKey:x}),await this.client.proposal.delete(n,Ar("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:l}));const B=Vn({relay:{protocol:i??"irn"},namespaces:s,requiredNamespaces:p,optionalNamespaces:v,pairingTopic:l,controller:{publicKey:x,metadata:this.client.metadata},expiry:li(_f)},a&&{sessionProperties:a});await this.client.core.relayer.subscribe(C),await this.sendRequest(C,"wc_sessionSettle",B);const $=zd(Vn({},B),{topic:C,pairingTopic:l,acknowledged:!1,self:B.controller,peer:{publicKey:d.publicKey,metadata:d.metadata},controller:x});return await this.client.session.set(C,$),await this.setExpiry(C,li(_f)),{topic:C,acknowledged:()=>new Promise(Y=>setTimeout(()=>Y(this.client.session.get(C)),500))}},this.reject=async t=>{this.isInitialized(),await this.isValidReject(t);const{id:n,reason:i}=t,{pairingTopic:s}=this.client.proposal.get(n);s&&(await this.sendError(n,s,i),await this.client.proposal.delete(n,Ar("USER_DISCONNECTED")))},this.update=async t=>{this.isInitialized(),await this.isValidUpdate(t);const{topic:n,namespaces:i}=t,s=await this.sendRequest(n,"wc_sessionUpdate",{namespaces:i}),{done:a,resolve:u,reject:l}=pa();return this.events.once(Cr("session_update",s),({error:d})=>{d?l(d):u()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:a}},this.extend=async t=>{this.isInitialized(),await this.isValidExtend(t);const{topic:n}=t,i=await this.sendRequest(n,"wc_sessionExtend",{}),{done:s,resolve:a,reject:u}=pa();return this.events.once(Cr("session_extend",i),({error:l})=>{l?u(l):a()}),await this.setExpiry(n,li(_f)),{acknowledged:s}},this.request=async t=>{this.isInitialized(),await this.isValidRequest(t);const{chainId:n,request:i,topic:s,expiry:a}=t,u=await this.sendRequest(s,"wc_sessionRequest",{request:i,chainId:n},a),{done:l,resolve:d,reject:p}=pa(a);this.events.once(Cr("session_request",u),({error:x,result:S})=>{x?p(x):d(S)}),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:u});const v=await this.client.core.storage.getItem(aM);return LP({id:u,topic:s,wcDeepLink:v}),await l()},this.respond=async t=>{this.isInitialized(),await this.isValidRespond(t);const{topic:n,response:i}=t,{id:s}=i;Ji(i)?await this.sendResult(s,n,i.result):hi(i)&&await this.sendError(s,n,i.error),this.cleanupAfterResponse(t)},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);const{topic:n}=t;if(this.client.session.keys.includes(n)){const i=await this.sendRequest(n,"wc_sessionPing",{}),{done:s,resolve:a,reject:u}=pa();this.events.once(Cr("session_ping",i),({error:l})=>{l?u(l):a()}),await s()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async t=>{this.isInitialized(),await this.isValidEmit(t);const{topic:n,event:i,chainId:s}=t;await this.sendRequest(n,"wc_sessionEvent",{event:i,chainId:s})},this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);const{topic:n}=t;if(this.client.session.keys.includes(n)){const i=qp().toString();let s;const a=u=>{(u==null?void 0:u.id.toString())===i&&(this.client.core.relayer.events.removeListener(br.message_ack,a),s())};await Promise.all([new Promise(u=>{s=u,this.client.core.relayer.on(br.message_ack,a)}),this.sendRequest(n,"wc_sessionDelete",Ar("USER_DISCONNECTED"),void 0,i)]),await this.deleteSession(n)}else await this.client.core.pairing.disconnect({topic:n})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(n=>eO(n,t))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{const n=this.client.core.pairing.pairings.get(t.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var a,u;return((a=s.peerMetadata)==null?void 0:a.url)&&((u=s.peerMetadata)==null?void 0:u.url)===t.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async(t,n)=>{const{self:i}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),this.client.session.delete(t,Ar("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(i.publicKey)&&await this.client.core.crypto.deleteKeyPair(i.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),n||this.client.core.expirer.del(t)},this.deleteProposal=async(t,n)=>{await Promise.all([this.client.proposal.delete(t,Ar("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,n),i?Promise.resolve():this.client.core.expirer.del(t)]),this.requestQueue.requests=this.requestQueue.requests.filter(s=>s.id!==t),i&&(this.requestQueue.state=Cc.idle)},this.setExpiry=async(t,n)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:n}),this.client.core.expirer.set(t,n)},this.setProposal=async(t,n)=>{await this.client.proposal.set(t,n),this.client.core.expirer.set(t,n.expiry)},this.setPendingSessionRequest=async t=>{const n=Tc.wc_sessionRequest.req.ttl,{id:i,topic:s,params:a}=t;await this.client.pendingRequest.set(i,{id:i,topic:s,params:a}),n&&this.client.core.expirer.set(i,li(n))},this.sendRequest=async(t,n,i,s,a)=>{const u=Ll(n,i);if(kp()&&hM.includes(n)){const p=xa(JSON.stringify(u));await this.client.core.verify.register({attestationId:p})}const l=await this.client.core.crypto.encode(t,u),d=Tc[n].req;return s&&(d.ttl=s),a&&(d.id=a),this.client.core.history.set(t,u),this.client.core.relayer.publish(t,l,d),u.id},this.sendResult=async(t,n,i)=>{const s=Gp(t,i),a=await this.client.core.crypto.encode(n,s),u=await this.client.core.history.get(n,t),l=Tc[u.request.method].res;this.client.core.relayer.publish(n,a,l),await this.client.core.history.resolve(s)},this.sendError=async(t,n,i)=>{const s=Fl(t,i),a=await this.client.core.crypto.encode(n,s),u=await this.client.core.history.get(n,t),l=Tc[u.request.method].res;this.client.core.relayer.publish(n,a,l),await this.client.core.history.resolve(s)},this.cleanup=async()=>{const t=[],n=[];this.client.session.getAll().forEach(i=>{Rs(i.expiry)&&t.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Rs(i.expiry)&&n.push(i.id)}),await Promise.all([...t.map(i=>this.deleteSession(i)),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=t=>{const{topic:n,payload:i}=t,s=i.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async t=>{const{topic:n,payload:i}=t,s=(await this.client.core.history.get(n,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:n}=t,{message:i}=Se("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.onSessionProposeRequest=async(t,n)=>{const{params:i,id:s}=n;try{this.isValidConnect(Vn({},n.params));const a=li(Le.FIVE_MINUTES),u=Vn({id:s,pairingTopic:t,expiry:a},i);await this.setProposal(s,u);const l=xa(JSON.stringify(n)),d=await this.getVerifyContext(l,u.proposer.metadata);this.client.events.emit("session_proposal",{id:s,params:u,verifyContext:d})}catch(a){await this.sendError(s,t,a),this.client.logger.error(a)}},this.onSessionProposeResponse=async(t,n)=>{const{id:i}=n;if(Ji(n)){const{result:s}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const u=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const l=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const d=await this.client.core.crypto.generateSharedKey(u,l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:d});const p=await this.client.core.relayer.subscribe(d);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:t})}else hi(n)&&(await this.client.proposal.delete(i,Ar("USER_DISCONNECTED")),this.events.emit(Cr("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(t,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:a,controller:u,expiry:l,namespaces:d,requiredNamespaces:p,optionalNamespaces:v,sessionProperties:x,pairingTopic:S}=n.params,C=Vn({topic:t,relay:a,expiry:l,namespaces:d,acknowledged:!0,pairingTopic:S,requiredNamespaces:p,optionalNamespaces:v,controller:u.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},x&&{sessionProperties:x});await this.sendResult(n.id,t,!0),this.events.emit(Cr("session_connect"),{session:C}),this.cleanupDuplicatePairings(C)}catch(a){await this.sendError(i,t,a),this.client.logger.error(a)}},this.onSessionSettleResponse=async(t,n)=>{const{id:i}=n;Ji(n)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(Cr("session_approve",i),{})):hi(n)&&(await this.client.session.delete(t,Ar("USER_DISCONNECTED")),this.events.emit(Cr("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(t,n)=>{const{params:i,id:s}=n;try{this.isValidUpdate(Vn({topic:t},i)),await this.client.session.update(t,{namespaces:i.namespaces}),await this.sendResult(s,t,!0),this.client.events.emit("session_update",{id:s,topic:t,params:i})}catch(a){await this.sendError(s,t,a),this.client.logger.error(a)}},this.onSessionUpdateResponse=(t,n)=>{const{id:i}=n;Ji(n)?this.events.emit(Cr("session_update",i),{}):hi(n)&&this.events.emit(Cr("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(t,n)=>{const{id:i}=n;try{this.isValidExtend({topic:t}),await this.setExpiry(t,li(_f)),await this.sendResult(i,t,!0),this.client.events.emit("session_extend",{id:i,topic:t})}catch(s){await this.sendError(i,t,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(t,n)=>{const{id:i}=n;Ji(n)?this.events.emit(Cr("session_extend",i),{}):hi(n)&&this.events.emit(Cr("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(t,n)=>{const{id:i}=n;try{this.isValidPing({topic:t}),await this.sendResult(i,t,!0),this.client.events.emit("session_ping",{id:i,topic:t})}catch(s){await this.sendError(i,t,s),this.client.logger.error(s)}},this.onSessionPingResponse=(t,n)=>{const{id:i}=n;setTimeout(()=>{Ji(n)?this.events.emit(Cr("session_ping",i),{}):hi(n)&&this.events.emit(Cr("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(t,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:t,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(br.publish,async()=>{s(await this.deleteSession(t))})}),this.sendResult(i,t,!0)]),this.client.events.emit("session_delete",{id:i,topic:t})}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async(t,n)=>{const{id:i,params:s}=n;try{this.isValidRequest(Vn({topic:t},s)),await this.setPendingSessionRequest({id:i,topic:t,params:s}),this.addRequestToQueue({id:i,topic:t,params:s}),await this.processRequestQueue()}catch(a){await this.sendError(i,t,a),this.client.logger.error(a)}},this.onSessionRequestResponse=(t,n)=>{const{id:i}=n;Ji(n)?this.events.emit(Cr("session_request",i),{result:n.result}):hi(n)&&this.events.emit(Cr("session_request",i),{error:n.error})},this.onSessionEventRequest=async(t,n)=>{const{id:i,params:s}=n;try{this.isValidEmit(Vn({topic:t},s)),this.client.events.emit("session_event",{id:i,topic:t,params:s})}catch(a){await this.sendError(i,t,a),this.client.logger.error(a)}},this.addRequestToQueue=t=>{this.requestQueue.requests.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.requestQueue.state=Cc.idle,this.processRequestQueue()},Le.toMiliseconds(this.requestQueueDelay))},this.processRequestQueue=async()=>{if(this.requestQueue.state===Cc.active){this.client.logger.info("session request queue is already active.");return}const t=this.requestQueue.requests[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{const{id:n,topic:i,params:s}=t,a=xa(JSON.stringify({id:n,params:s})),u=this.client.session.get(i),l=await this.getVerifyContext(a,u.peer.metadata);this.requestQueue.state=Cc.active,this.client.events.emit("session_request",{id:n,topic:i,params:s,verifyContext:l})}catch(n){this.client.logger.error(n)}},this.isValidConnect=async t=>{if(!mn(t)){const{message:l}=Se("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(l)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:a,relays:u}=t;if(on(n)||await this.isValidPairingTopic(n),!hO(u,!0)){const{message:l}=Se("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(l)}!on(i)&&Sa(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!on(s)&&Sa(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),on(a)||this.validateSessionProps(a,"sessionProperties")},this.validateNamespaces=(t,n)=>{const i=lO(t,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async t=>{if(!mn(t))throw new Error(Se("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:a}=t;await this.isValidProposalId(n);const u=this.client.proposal.get(n),l=Mf(i,"approve()");if(l)throw new Error(l.message);const d=qv(u.requiredNamespaces,i,"approve()");if(d)throw new Error(d.message);if(!Ur(s,!0)){const{message:p}=Se("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(p)}on(a)||this.validateSessionProps(a,"sessionProperties")},this.isValidReject=async t=>{if(!mn(t)){const{message:s}=Se("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(s)}const{id:n,reason:i}=t;if(await this.isValidProposalId(n),!pO(i)){const{message:s}=Se("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=t=>{if(!mn(t)){const{message:d}=Se("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(d)}const{relay:n,controller:i,namespaces:s,expiry:a}=t;if(!a_(n)){const{message:d}=Se("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(d)}const u=sO(i,"onSessionSettleRequest()");if(u)throw new Error(u.message);const l=Mf(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(Rs(a)){const{message:d}=Se("EXPIRED","onSessionSettleRequest()");throw new Error(d)}},this.isValidUpdate=async t=>{if(!mn(t)){const{message:l}=Se("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(l)}const{topic:n,namespaces:i}=t;await this.isValidSessionTopic(n);const s=this.client.session.get(n),a=Mf(i,"update()");if(a)throw new Error(a.message);const u=qv(s.requiredNamespaces,i,"update()");if(u)throw new Error(u.message)},this.isValidExtend=async t=>{if(!mn(t)){const{message:i}=Se("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(i)}const{topic:n}=t;await this.isValidSessionTopic(n)},this.isValidRequest=async t=>{if(!mn(t)){const{message:l}=Se("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(l)}const{topic:n,request:i,chainId:s,expiry:a}=t;await this.isValidSessionTopic(n);const{namespaces:u}=this.client.session.get(n);if(!$v(u,s)){const{message:l}=Se("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(l)}if(!gO(i)){const{message:l}=Se("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!vO(u,s,i.method)){const{message:l}=Se("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}if(a&&!EO(a,Gd)){const{message:l}=Se("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${Gd.min} and ${Gd.max}`);throw new Error(l)}},this.isValidRespond=async t=>{if(!mn(t)){const{message:s}=Se("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(s)}const{topic:n,response:i}=t;if(await this.isValidSessionTopic(n),!mO(i)){const{message:s}=Se("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidPing=async t=>{if(!mn(t)){const{message:i}=Se("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(i)}const{topic:n}=t;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async t=>{if(!mn(t)){const{message:u}=Se("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(u)}const{topic:n,event:i,chainId:s}=t;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!$v(a,s)){const{message:u}=Se("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(u)}if(!yO(i)){const{message:u}=Se("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(u)}if(!bO(a,s,i.name)){const{message:u}=Se("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(u)}},this.isValidDisconnect=async t=>{if(!mn(t)){const{message:i}=Se("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(i)}const{topic:n}=t;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(t,n)=>{const i={verified:{verifyUrl:n.verifyUrl||"",validation:"UNKNOWN",origin:n.url||""}};try{const s=await this.client.core.verify.resolve({attestationId:t,verifyUrl:n.verifyUrl});s&&(i.verified.origin=s,i.verified.validation=s===n.url?"VALID":"INVALID")}catch(s){this.client.logger.error(s)}return this.client.logger.info(`Verify context: ${JSON.stringify(i)}`),i},this.validateSessionProps=(t,n)=>{Object.values(t).forEach(i=>{if(!Ur(i,!1)){const{message:s}=Se("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})}}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(br.message,async e=>{const{topic:t,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const i=await this.client.core.crypto.decode(t,n);zp(i)?(this.client.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):Ul(i)?(await this.client.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.client.core.history.delete(t,i.id)):this.onRelayEventUnknownPayload({topic:t,payload:i})})}registerExpirerEvents(){this.client.core.expirer.on(Qn.expired,async e=>{const{topic:t,id:n}=s_(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Se("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}isValidPairingTopic(e){if(!Ur(e,!1)){const{message:t}=Se("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=Se("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(Rs(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=Se("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!Ur(e,!1)){const{message:t}=Se("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){const{message:t}=Se("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(Rs(this.client.session.get(e).expiry)){await this.deleteSession(e);const{message:t}=Se("EXPIRED",`session topic: ${e}`);throw new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Ur(e,!1)){const{message:t}=Se("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=Se("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!dO(e)){const{message:t}=Se("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=Se("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(Rs(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);const{message:t}=Se("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class bM extends Hl{constructor(e,t){super(e,t,cM,Wp),this.core=e,this.logger=t}}class wM extends Hl{constructor(e,t){super(e,t,uM,Wp),this.core=e,this.logger=t}}class _M extends Hl{constructor(e,t){super(e,t,lM,Wp,n=>n.id),this.core=e,this.logger=t}}let EM=class H_ extends QO{constructor(e){super(e),this.protocol=L_,this.version=F_,this.name=qd.name,this.events=new Yr.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=(e==null?void 0:e.name)||qd.name,this.metadata=(e==null?void 0:e.metadata)||OP();const t=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Mt.pino(Mt.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||qd.logger}));this.core=(e==null?void 0:e.core)||new oM(e),this.logger=Mt.generateChildLogger(t,this.name),this.session=new wM(this.core,this.logger),this.proposal=new bM(this.core,this.logger),this.pendingRequest=new _M(this.core,this.logger),this.engine=new vM(this)}static async init(e){const t=new H_(e);return await t.initialize(),t}get context(){return Mt.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var B0={exports:{}};(function(r,e){var t=typeof self<"u"?self:mr,n=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(a){var u={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(f){return f&&DataView.prototype.isPrototypeOf(f)}if(u.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(f){return f&&d.indexOf(Object.prototype.toString.call(f))>-1};function v(f){if(typeof f!="string"&&(f=String(f)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(f))throw new TypeError("Invalid character in header field name");return f.toLowerCase()}function x(f){return typeof f!="string"&&(f=String(f)),f}function S(f){var g={next:function(){var w=f.shift();return{done:w===void 0,value:w}}};return u.iterable&&(g[Symbol.iterator]=function(){return g}),g}function C(f){this.map={},f instanceof C?f.forEach(function(g,w){this.append(w,g)},this):Array.isArray(f)?f.forEach(function(g){this.append(g[0],g[1])},this):f&&Object.getOwnPropertyNames(f).forEach(function(g){this.append(g,f[g])},this)}C.prototype.append=function(f,g){f=v(f),g=x(g);var w=this.map[f];this.map[f]=w?w+", "+g:g},C.prototype.delete=function(f){delete this.map[v(f)]},C.prototype.get=function(f){return f=v(f),this.has(f)?this.map[f]:null},C.prototype.has=function(f){return this.map.hasOwnProperty(v(f))},C.prototype.set=function(f,g){this.map[v(f)]=x(g)},C.prototype.forEach=function(f,g){for(var w in this.map)this.map.hasOwnProperty(w)&&f.call(g,this.map[w],w,this)},C.prototype.keys=function(){var f=[];return this.forEach(function(g,w){f.push(w)}),S(f)},C.prototype.values=function(){var f=[];return this.forEach(function(g){f.push(g)}),S(f)},C.prototype.entries=function(){var f=[];return this.forEach(function(g,w){f.push([w,g])}),S(f)},u.iterable&&(C.prototype[Symbol.iterator]=C.prototype.entries);function B(f){if(f.bodyUsed)return Promise.reject(new TypeError("Already read"));f.bodyUsed=!0}function $(f){return new Promise(function(g,w){f.onload=function(){g(f.result)},f.onerror=function(){w(f.error)}})}function Y(f){var g=new FileReader,w=$(g);return g.readAsArrayBuffer(f),w}function F(f){var g=new FileReader,w=$(g);return g.readAsText(f),w}function z(f){for(var g=new Uint8Array(f),w=new Array(g.length),T=0;T<g.length;T++)w[T]=String.fromCharCode(g[T]);return w.join("")}function L(f){if(f.slice)return f.slice(0);var g=new Uint8Array(f.byteLength);return g.set(new Uint8Array(f)),g.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(f){this._bodyInit=f,f?typeof f=="string"?this._bodyText=f:u.blob&&Blob.prototype.isPrototypeOf(f)?this._bodyBlob=f:u.formData&&FormData.prototype.isPrototypeOf(f)?this._bodyFormData=f:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)?this._bodyText=f.toString():u.arrayBuffer&&u.blob&&l(f)?(this._bodyArrayBuffer=L(f.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(f)||p(f))?this._bodyArrayBuffer=L(f):this._bodyText=f=Object.prototype.toString.call(f):this._bodyText="",this.headers.get("content-type")||(typeof f=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var f=B(this);if(f)return f;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?B(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Y)}),this.text=function(){var f=B(this);if(f)return f;if(this._bodyBlob)return F(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(z(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(ne)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(f){var g=f.toUpperCase();return D.indexOf(g)>-1?g:f}function A(f,g){g=g||{};var w=g.body;if(f instanceof A){if(f.bodyUsed)throw new TypeError("Already read");this.url=f.url,this.credentials=f.credentials,g.headers||(this.headers=new C(f.headers)),this.method=f.method,this.mode=f.mode,this.signal=f.signal,!w&&f._bodyInit!=null&&(w=f._bodyInit,f.bodyUsed=!0)}else this.url=String(f);if(this.credentials=g.credentials||this.credentials||"same-origin",(g.headers||!this.headers)&&(this.headers=new C(g.headers)),this.method=y(g.method||this.method||"GET"),this.mode=g.mode||this.mode||null,this.signal=g.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&w)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(w)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function ne(f){var g=new FormData;return f.trim().split("&").forEach(function(w){if(w){var T=w.split("="),O=T.shift().replace(/\+/g," "),R=T.join("=").replace(/\+/g," ");g.append(decodeURIComponent(O),decodeURIComponent(R))}}),g}function U(f){var g=new C,w=f.replace(/\r?\n[\t ]+/g," ");return w.split(/\r?\n/).forEach(function(T){var O=T.split(":"),R=O.shift().trim();if(R){var H=O.join(":").trim();g.append(R,H)}}),g}k.call(A.prototype);function Q(f,g){g||(g={}),this.type="default",this.status=g.status===void 0?200:g.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in g?g.statusText:"OK",this.headers=new C(g.headers),this.url=g.url||"",this._initBody(f)}k.call(Q.prototype),Q.prototype.clone=function(){return new Q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new C(this.headers),url:this.url})},Q.error=function(){var f=new Q(null,{status:0,statusText:""});return f.type="error",f};var Z=[301,302,303,307,308];Q.redirect=function(f,g){if(Z.indexOf(g)===-1)throw new RangeError("Invalid status code");return new Q(null,{status:g,headers:{location:f}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(g,w){this.message=g,this.name=w;var T=Error(g);this.stack=T.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function N(f,g){return new Promise(function(w,T){var O=new A(f,g);if(O.signal&&O.signal.aborted)return T(new a.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function H(){R.abort()}R.onload=function(){var P={status:R.status,statusText:R.statusText,headers:U(R.getAllResponseHeaders()||"")};P.url="responseURL"in R?R.responseURL:P.headers.get("X-Request-URL");var m="response"in R?R.response:R.responseText;w(new Q(m,P))},R.onerror=function(){T(new TypeError("Network request failed"))},R.ontimeout=function(){T(new TypeError("Network request failed"))},R.onabort=function(){T(new a.DOMException("Aborted","AbortError"))},R.open(O.method,O.url,!0),O.credentials==="include"?R.withCredentials=!0:O.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&u.blob&&(R.responseType="blob"),O.headers.forEach(function(P,m){R.setRequestHeader(m,P)}),O.signal&&(O.signal.addEventListener("abort",H),R.onreadystatechange=function(){R.readyState===4&&O.signal.removeEventListener("abort",H)}),R.send(typeof O._bodyInit>"u"?null:O._bodyInit)})}return N.polyfill=!0,s.fetch||(s.fetch=N,s.Headers=C,s.Request=A,s.Response=Q),a.Headers=C,a.Request=A,a.Response=Q,a.fetch=N,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,r.exports=e})(B0,B0.exports);var AM=B0.exports;const k0=ko(AM),xM={Accept:"application/json","Content-Type":"application/json"},SM="POST",B1={headers:xM,method:SM},k1=10;class jo{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new Yr.EventEmitter,this.isAvailable=!1,this.registering=!1,!f1(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,t){this.isAvailable||await this.register();try{const n=zc(e),s=await(await k0(this.url,Object.assign(Object.assign({},B1),{body:n}))).json();this.onPayload({data:s})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!f1(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=zc({id:1,jsonrpc:"2.0",method:"test",params:[]});await k0(e,Object.assign(Object.assign({},B1),{body:t}))}this.onOpen()}catch(t){const n=this.parseError(t);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?jp(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),i=n.message||n.toString(),s=Fl(e,i);this.events.emit("payload",s)}parseError(e,t=this.url){return v_(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>k1&&this.events.setMaxListeners(k1)}}const L1="error",IM="wss://relay.walletconnect.com",TM="wc",CM="universal_provider",F1=`${TM}@2:${CM}:`,PM="https://rpc.walletconnect.com/v1",$s={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L0={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(r,e){(function(){var t,n="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",d=500,p="__lodash_placeholder__",v=1,x=2,S=4,C=1,B=2,$=1,Y=2,F=4,z=8,L=16,k=32,D=64,y=128,A=256,ne=512,U=30,Q="...",Z=800,N=16,f=1,g=2,w=3,T=1/0,O=9007199254740991,R=17976931348623157e292,H=0/0,P=4294967295,m=P-1,I=P>>>1,te=[["ary",y],["bind",$],["bindKey",Y],["curry",z],["curryRight",L],["flip",ne],["partial",k],["partialRight",D],["rearg",A]],E="[object Arguments]",X="[object Array]",G="[object AsyncFunction]",V="[object Boolean]",W="[object Date]",b="[object DOMException]",q="[object Error]",oe="[object Function]",pe="[object GeneratorFunction]",fe="[object Map]",we="[object Number]",He="[object Null]",Ee="[object Object]",$e="[object Promise]",ue="[object Proxy]",be="[object RegExp]",ve="[object Set]",Pe="[object String]",Te="[object Symbol]",Me="[object Undefined]",Ge="[object WeakMap]",Oe="[object WeakSet]",Ae="[object ArrayBuffer]",ze="[object DataView]",Ne="[object Float32Array]",Ce="[object Float64Array]",ot="[object Int8Array]",Be="[object Int16Array]",Fe="[object Int32Array]",ht="[object Uint8Array]",ke="[object Uint8ClampedArray]",pt="[object Uint16Array]",yr="[object Uint32Array]",It=/\b__p \+= '';/g,gt=/\b(__p \+=) '' \+/g,$r=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Nt=/&(?:amp|lt|gt|quot|#39);/g,kt=/[&<>"']/g,jt=RegExp(Nt.source),We=RegExp(kt.source),Ze=/<%-([\s\S]+?)%>/g,Ht=/<%([\s\S]+?)%>/g,Xe=/<%=([\s\S]+?)%>/g,Qe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jt=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,Yt=RegExp(et.source),tt=/^\s+/,nt=/\s/,$t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ve=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,Xt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zt=/[()=,{}\[\]\/\s]/,Vt=/\\(\\)?/g,ni=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Et=/\w*$/,Kt=/^[-+]0x[0-9a-f]+$/i,Nn=/^0b[01]+$/i,Bn=/^\[object .+?Constructor\]$/,kn=/^0o[0-7]+$/i,Ln=/^(?:0|[1-9]\d*)$/,Nr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bi=/($^)/,Vs=/['\n\r\u2028\u2029\\]/g,wi="\\ud800-\\udfff",Ks="\\u0300-\\u036f",Ws="\\ufe20-\\ufe2f",_i="\\u20d0-\\u20ff",hs=Ks+Ws+_i,ds="\\u2700-\\u27bf",Xr="a-z\\xdf-\\xf6\\xf8-\\xff",Qs="\\xac\\xb1\\xd7\\xf7",Js="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ys="\\u2000-\\u206f",Xs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ps="A-Z\\xc0-\\xd6\\xd8-\\xde",bu="\\ufe0e\\ufe0f",Zs=Qs+Js+Ys+Xs,Xa="['’]",eo="["+wi+"]",Za="["+Zs+"]",to="["+hs+"]",wu="\\d+",wh="["+ds+"]",_u="["+Xr+"]",Eu="[^"+wi+Zs+wu+ds+Xr+ps+"]",Go="\\ud83c[\\udffb-\\udfff]",_h="(?:"+to+"|"+Go+")",Au="[^"+wi+"]",zo="(?:\\ud83c[\\udde6-\\uddff]){2}",gs="[\\ud800-\\udbff][\\udc00-\\udfff]",wn="["+ps+"]",xu="\\u200d",Su="(?:"+_u+"|"+Eu+")",Ei="(?:"+wn+"|"+Eu+")",Iu="(?:"+Xa+"(?:d|ll|m|re|s|t|ve))?",Tu="(?:"+Xa+"(?:D|LL|M|RE|S|T|VE))?",Cu=_h+"?",Pu="["+bu+"]?",Eh="(?:"+xu+"(?:"+[Au,zo,gs].join("|")+")"+Pu+Cu+")*",Bi="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ou="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Du=Pu+Cu+Eh,Vo="(?:"+[wh,zo,gs].join("|")+")"+Du,Ah="(?:"+[Au+to+"?",to,zo,gs,eo].join("|")+")",ec=RegExp(Xa,"g"),xh=RegExp(to,"g"),Ko=RegExp(Go+"(?="+Go+")|"+Ah+Du,"g"),Ru=RegExp([wn+"?"+_u+"+"+Iu+"(?="+[Za,wn,"$"].join("|")+")",Ei+"+"+Tu+"(?="+[Za,wn+Su,"$"].join("|")+")",wn+"?"+Su+"+"+Iu,wn+"+"+Tu,Ou,Bi,wu,Vo].join("|"),"g"),Mu=RegExp("["+xu+wi+hs+bu+"]"),ro=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sh=-1,tr={};tr[Ne]=tr[Ce]=tr[ot]=tr[Be]=tr[Fe]=tr[ht]=tr[ke]=tr[pt]=tr[yr]=!0,tr[E]=tr[X]=tr[Ae]=tr[V]=tr[ze]=tr[W]=tr[q]=tr[oe]=tr[fe]=tr[we]=tr[Ee]=tr[be]=tr[ve]=tr[Pe]=tr[Ge]=!1;var Zt={};Zt[E]=Zt[X]=Zt[Ae]=Zt[ze]=Zt[V]=Zt[W]=Zt[Ne]=Zt[Ce]=Zt[ot]=Zt[Be]=Zt[Fe]=Zt[fe]=Zt[we]=Zt[Ee]=Zt[be]=Zt[ve]=Zt[Pe]=Zt[Te]=Zt[ht]=Zt[ke]=Zt[pt]=Zt[yr]=!0,Zt[q]=Zt[oe]=Zt[Ge]=!1;var J={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},me={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},De={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rr=parseFloat,ct=parseInt,ur=typeof Pc=="object"&&Pc&&Pc.Object===Object&&Pc,Ir=typeof self=="object"&&self&&self.Object===Object&&self,Ot=ur||Ir||Function("return this")(),nr=e&&!e.nodeType&&e,wr=nr&&!0&&r&&!r.nodeType&&r,fn=wr&&wr.exports===nr,Tr=fn&&ur.process,fr=function(){try{var se=wr&&wr.require&&wr.require("util").types;return se||Tr&&Tr.binding&&Tr.binding("util")}catch{}}(),Zr=fr&&fr.isArrayBuffer,ii=fr&&fr.isDate,Fn=fr&&fr.isMap,Ai=fr&&fr.isRegExp,tc=fr&&fr.isSet,no=fr&&fr.isTypedArray;function Br(se,he,ce){switch(ce.length){case 0:return se.call(he);case 1:return se.call(he,ce[0]);case 2:return se.call(he,ce[0],ce[1]);case 3:return se.call(he,ce[0],ce[1],ce[2])}return se.apply(he,ce)}function i3(se,he,ce,Re){for(var at=-1,Ft=se==null?0:se.length;++at<Ft;){var Dr=se[at];he(Re,Dr,ce(Dr),se)}return Re}function Un(se,he){for(var ce=-1,Re=se==null?0:se.length;++ce<Re&&he(se[ce],ce,se)!==!1;);return se}function s3(se,he){for(var ce=se==null?0:se.length;ce--&&he(se[ce],ce,se)!==!1;);return se}function lm(se,he){for(var ce=-1,Re=se==null?0:se.length;++ce<Re;)if(!he(se[ce],ce,se))return!1;return!0}function ms(se,he){for(var ce=-1,Re=se==null?0:se.length,at=0,Ft=[];++ce<Re;){var Dr=se[ce];he(Dr,ce,se)&&(Ft[at++]=Dr)}return Ft}function Bu(se,he){var ce=se==null?0:se.length;return!!ce&&Wo(se,he,0)>-1}function Ih(se,he,ce){for(var Re=-1,at=se==null?0:se.length;++Re<at;)if(ce(he,se[Re]))return!0;return!1}function hr(se,he){for(var ce=-1,Re=se==null?0:se.length,at=Array(Re);++ce<Re;)at[ce]=he(se[ce],ce,se);return at}function ys(se,he){for(var ce=-1,Re=he.length,at=se.length;++ce<Re;)se[at+ce]=he[ce];return se}function Th(se,he,ce,Re){var at=-1,Ft=se==null?0:se.length;for(Re&&Ft&&(ce=se[++at]);++at<Ft;)ce=he(ce,se[at],at,se);return ce}function o3(se,he,ce,Re){var at=se==null?0:se.length;for(Re&&at&&(ce=se[--at]);at--;)ce=he(ce,se[at],at,se);return ce}function Ch(se,he){for(var ce=-1,Re=se==null?0:se.length;++ce<Re;)if(he(se[ce],ce,se))return!0;return!1}var a3=Ph("length");function c3(se){return se.split("")}function u3(se){return se.match(Xt)||[]}function hm(se,he,ce){var Re;return ce(se,function(at,Ft,Dr){if(he(at,Ft,Dr))return Re=Ft,!1}),Re}function ku(se,he,ce,Re){for(var at=se.length,Ft=ce+(Re?1:-1);Re?Ft--:++Ft<at;)if(he(se[Ft],Ft,se))return Ft;return-1}function Wo(se,he,ce){return he===he?_3(se,he,ce):ku(se,dm,ce)}function f3(se,he,ce,Re){for(var at=ce-1,Ft=se.length;++at<Ft;)if(Re(se[at],he))return at;return-1}function dm(se){return se!==se}function pm(se,he){var ce=se==null?0:se.length;return ce?Dh(se,he)/ce:H}function Ph(se){return function(he){return he==null?t:he[se]}}function Oh(se){return function(he){return se==null?t:se[he]}}function gm(se,he,ce,Re,at){return at(se,function(Ft,Dr,ir){ce=Re?(Re=!1,Ft):he(ce,Ft,Dr,ir)}),ce}function l3(se,he){var ce=se.length;for(se.sort(he);ce--;)se[ce]=se[ce].value;return se}function Dh(se,he){for(var ce,Re=-1,at=se.length;++Re<at;){var Ft=he(se[Re]);Ft!==t&&(ce=ce===t?Ft:ce+Ft)}return ce}function Rh(se,he){for(var ce=-1,Re=Array(se);++ce<se;)Re[ce]=he(ce);return Re}function h3(se,he){return hr(he,function(ce){return[ce,se[ce]]})}function mm(se){return se&&se.slice(0,wm(se)+1).replace(tt,"")}function _n(se){return function(he){return se(he)}}function Mh(se,he){return hr(he,function(ce){return se[ce]})}function rc(se,he){return se.has(he)}function ym(se,he){for(var ce=-1,Re=se.length;++ce<Re&&Wo(he,se[ce],0)>-1;);return ce}function vm(se,he){for(var ce=se.length;ce--&&Wo(he,se[ce],0)>-1;);return ce}function d3(se,he){for(var ce=se.length,Re=0;ce--;)se[ce]===he&&++Re;return Re}var p3=Oh(J),g3=Oh(ie);function m3(se){return"\\"+De[se]}function y3(se,he){return se==null?t:se[he]}function Qo(se){return Mu.test(se)}function v3(se){return ro.test(se)}function b3(se){for(var he,ce=[];!(he=se.next()).done;)ce.push(he.value);return ce}function Nh(se){var he=-1,ce=Array(se.size);return se.forEach(function(Re,at){ce[++he]=[at,Re]}),ce}function bm(se,he){return function(ce){return se(he(ce))}}function vs(se,he){for(var ce=-1,Re=se.length,at=0,Ft=[];++ce<Re;){var Dr=se[ce];(Dr===he||Dr===p)&&(se[ce]=p,Ft[at++]=ce)}return Ft}function Lu(se){var he=-1,ce=Array(se.size);return se.forEach(function(Re){ce[++he]=Re}),ce}function w3(se){var he=-1,ce=Array(se.size);return se.forEach(function(Re){ce[++he]=[Re,Re]}),ce}function _3(se,he,ce){for(var Re=ce-1,at=se.length;++Re<at;)if(se[Re]===he)return Re;return-1}function E3(se,he,ce){for(var Re=ce+1;Re--;)if(se[Re]===he)return Re;return Re}function Jo(se){return Qo(se)?x3(se):a3(se)}function si(se){return Qo(se)?S3(se):c3(se)}function wm(se){for(var he=se.length;he--&&nt.test(se.charAt(he)););return he}var A3=Oh(me);function x3(se){for(var he=Ko.lastIndex=0;Ko.test(se);)++he;return he}function S3(se){return se.match(Ko)||[]}function I3(se){return se.match(Ru)||[]}var T3=function se(he){he=he==null?Ot:Yo.defaults(Ot.Object(),he,Yo.pick(Ot,Nu));var ce=he.Array,Re=he.Date,at=he.Error,Ft=he.Function,Dr=he.Math,ir=he.Object,Bh=he.RegExp,C3=he.String,jn=he.TypeError,Fu=ce.prototype,P3=Ft.prototype,Xo=ir.prototype,Uu=he["__core-js_shared__"],ju=P3.toString,Wt=Xo.hasOwnProperty,O3=0,_m=function(){var o=/[^.]+$/.exec(Uu&&Uu.keys&&Uu.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Hu=Xo.toString,D3=ju.call(ir),R3=Ot._,M3=Bh("^"+ju.call(Wt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$u=fn?he.Buffer:t,bs=he.Symbol,qu=he.Uint8Array,Em=$u?$u.allocUnsafe:t,Gu=bm(ir.getPrototypeOf,ir),Am=ir.create,xm=Xo.propertyIsEnumerable,zu=Fu.splice,Sm=bs?bs.isConcatSpreadable:t,nc=bs?bs.iterator:t,io=bs?bs.toStringTag:t,Vu=function(){try{var o=uo(ir,"defineProperty");return o({},"",{}),o}catch{}}(),N3=he.clearTimeout!==Ot.clearTimeout&&he.clearTimeout,B3=Re&&Re.now!==Ot.Date.now&&Re.now,k3=he.setTimeout!==Ot.setTimeout&&he.setTimeout,Ku=Dr.ceil,Wu=Dr.floor,kh=ir.getOwnPropertySymbols,L3=$u?$u.isBuffer:t,Im=he.isFinite,F3=Fu.join,U3=bm(ir.keys,ir),Rr=Dr.max,Vr=Dr.min,j3=Re.now,H3=he.parseInt,Tm=Dr.random,$3=Fu.reverse,Lh=uo(he,"DataView"),ic=uo(he,"Map"),Fh=uo(he,"Promise"),Zo=uo(he,"Set"),sc=uo(he,"WeakMap"),oc=uo(ir,"create"),Qu=sc&&new sc,ea={},q3=fo(Lh),G3=fo(ic),z3=fo(Fh),V3=fo(Zo),K3=fo(sc),Ju=bs?bs.prototype:t,ac=Ju?Ju.valueOf:t,Cm=Ju?Ju.toString:t;function j(o){if(vr(o)&&!ut(o)&&!(o instanceof Tt)){if(o instanceof Hn)return o;if(Wt.call(o,"__wrapped__"))return Py(o)}return new Hn(o)}var ta=function(){function o(){}return function(c){if(!gr(c))return{};if(Am)return Am(c);o.prototype=c;var h=new o;return o.prototype=t,h}}();function Yu(){}function Hn(o,c){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}j.templateSettings={escape:Ze,evaluate:Ht,interpolate:Xe,variable:"",imports:{_:j}},j.prototype=Yu.prototype,j.prototype.constructor=j,Hn.prototype=ta(Yu.prototype),Hn.prototype.constructor=Hn;function Tt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=P,this.__views__=[]}function W3(){var o=new Tt(this.__wrapped__);return o.__actions__=ln(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=ln(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=ln(this.__views__),o}function Q3(){if(this.__filtered__){var o=new Tt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function J3(){var o=this.__wrapped__.value(),c=this.__dir__,h=ut(o),_=c<0,M=h?o.length:0,K=cS(0,M,this.__views__),ee=K.start,re=K.end,ae=re-ee,de=_?re:ee-1,ge=this.__iteratees__,ye=ge.length,xe=0,Ue=Vr(ae,this.__takeCount__);if(!h||!_&&M==ae&&Ue==ae)return Xm(o,this.__actions__);var Je=[];e:for(;ae--&&xe<Ue;){de+=c;for(var vt=-1,Ye=o[de];++vt<ye;){var xt=ge[vt],Dt=xt.iteratee,xn=xt.type,rn=Dt(Ye);if(xn==g)Ye=rn;else if(!rn){if(xn==f)continue e;break e}}Je[xe++]=Ye}return Je}Tt.prototype=ta(Yu.prototype),Tt.prototype.constructor=Tt;function so(o){var c=-1,h=o==null?0:o.length;for(this.clear();++c<h;){var _=o[c];this.set(_[0],_[1])}}function Y3(){this.__data__=oc?oc(null):{},this.size=0}function X3(o){var c=this.has(o)&&delete this.__data__[o];return this.size-=c?1:0,c}function Z3(o){var c=this.__data__;if(oc){var h=c[o];return h===l?t:h}return Wt.call(c,o)?c[o]:t}function ex(o){var c=this.__data__;return oc?c[o]!==t:Wt.call(c,o)}function tx(o,c){var h=this.__data__;return this.size+=this.has(o)?0:1,h[o]=oc&&c===t?l:c,this}so.prototype.clear=Y3,so.prototype.delete=X3,so.prototype.get=Z3,so.prototype.has=ex,so.prototype.set=tx;function ki(o){var c=-1,h=o==null?0:o.length;for(this.clear();++c<h;){var _=o[c];this.set(_[0],_[1])}}function rx(){this.__data__=[],this.size=0}function nx(o){var c=this.__data__,h=Xu(c,o);if(h<0)return!1;var _=c.length-1;return h==_?c.pop():zu.call(c,h,1),--this.size,!0}function ix(o){var c=this.__data__,h=Xu(c,o);return h<0?t:c[h][1]}function sx(o){return Xu(this.__data__,o)>-1}function ox(o,c){var h=this.__data__,_=Xu(h,o);return _<0?(++this.size,h.push([o,c])):h[_][1]=c,this}ki.prototype.clear=rx,ki.prototype.delete=nx,ki.prototype.get=ix,ki.prototype.has=sx,ki.prototype.set=ox;function Li(o){var c=-1,h=o==null?0:o.length;for(this.clear();++c<h;){var _=o[c];this.set(_[0],_[1])}}function ax(){this.size=0,this.__data__={hash:new so,map:new(ic||ki),string:new so}}function cx(o){var c=lf(this,o).delete(o);return this.size-=c?1:0,c}function ux(o){return lf(this,o).get(o)}function fx(o){return lf(this,o).has(o)}function lx(o,c){var h=lf(this,o),_=h.size;return h.set(o,c),this.size+=h.size==_?0:1,this}Li.prototype.clear=ax,Li.prototype.delete=cx,Li.prototype.get=ux,Li.prototype.has=fx,Li.prototype.set=lx;function oo(o){var c=-1,h=o==null?0:o.length;for(this.__data__=new Li;++c<h;)this.add(o[c])}function hx(o){return this.__data__.set(o,l),this}function dx(o){return this.__data__.has(o)}oo.prototype.add=oo.prototype.push=hx,oo.prototype.has=dx;function oi(o){var c=this.__data__=new ki(o);this.size=c.size}function px(){this.__data__=new ki,this.size=0}function gx(o){var c=this.__data__,h=c.delete(o);return this.size=c.size,h}function mx(o){return this.__data__.get(o)}function yx(o){return this.__data__.has(o)}function vx(o,c){var h=this.__data__;if(h instanceof ki){var _=h.__data__;if(!ic||_.length<i-1)return _.push([o,c]),this.size=++h.size,this;h=this.__data__=new Li(_)}return h.set(o,c),this.size=h.size,this}oi.prototype.clear=px,oi.prototype.delete=gx,oi.prototype.get=mx,oi.prototype.has=yx,oi.prototype.set=vx;function Pm(o,c){var h=ut(o),_=!h&&lo(o),M=!h&&!_&&xs(o),K=!h&&!_&&!M&&sa(o),ee=h||_||M||K,re=ee?Rh(o.length,C3):[],ae=re.length;for(var de in o)(c||Wt.call(o,de))&&!(ee&&(de=="length"||M&&(de=="offset"||de=="parent")||K&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||Hi(de,ae)))&&re.push(de);return re}function Om(o){var c=o.length;return c?o[Qh(0,c-1)]:t}function bx(o,c){return hf(ln(o),ao(c,0,o.length))}function wx(o){return hf(ln(o))}function Uh(o,c,h){(h!==t&&!ai(o[c],h)||h===t&&!(c in o))&&Fi(o,c,h)}function cc(o,c,h){var _=o[c];(!(Wt.call(o,c)&&ai(_,h))||h===t&&!(c in o))&&Fi(o,c,h)}function Xu(o,c){for(var h=o.length;h--;)if(ai(o[h][0],c))return h;return-1}function _x(o,c,h,_){return ws(o,function(M,K,ee){c(_,M,h(M),ee)}),_}function Dm(o,c){return o&&Si(c,kr(c),o)}function Ex(o,c){return o&&Si(c,dn(c),o)}function Fi(o,c,h){c=="__proto__"&&Vu?Vu(o,c,{configurable:!0,enumerable:!0,value:h,writable:!0}):o[c]=h}function jh(o,c){for(var h=-1,_=c.length,M=ce(_),K=o==null;++h<_;)M[h]=K?t:wd(o,c[h]);return M}function ao(o,c,h){return o===o&&(h!==t&&(o=o<=h?o:h),c!==t&&(o=o>=c?o:c)),o}function $n(o,c,h,_,M,K){var ee,re=c&v,ae=c&x,de=c&S;if(h&&(ee=M?h(o,_,M,K):h(o)),ee!==t)return ee;if(!gr(o))return o;var ge=ut(o);if(ge){if(ee=fS(o),!re)return ln(o,ee)}else{var ye=Kr(o),xe=ye==oe||ye==pe;if(xs(o))return ty(o,re);if(ye==Ee||ye==E||xe&&!M){if(ee=ae||xe?{}:wy(o),!re)return ae?Zx(o,Ex(ee,o)):Xx(o,Dm(ee,o))}else{if(!Zt[ye])return M?o:{};ee=lS(o,ye,re)}}K||(K=new oi);var Ue=K.get(o);if(Ue)return Ue;K.set(o,ee),Qy(o)?o.forEach(function(Ye){ee.add($n(Ye,c,h,Ye,o,K))}):Ky(o)&&o.forEach(function(Ye,xt){ee.set(xt,$n(Ye,c,h,xt,o,K))});var Je=de?ae?od:sd:ae?dn:kr,vt=ge?t:Je(o);return Un(vt||o,function(Ye,xt){vt&&(xt=Ye,Ye=o[xt]),cc(ee,xt,$n(Ye,c,h,xt,o,K))}),ee}function Ax(o){var c=kr(o);return function(h){return Rm(h,o,c)}}function Rm(o,c,h){var _=h.length;if(o==null)return!_;for(o=ir(o);_--;){var M=h[_],K=c[M],ee=o[M];if(ee===t&&!(M in o)||!K(ee))return!1}return!0}function Mm(o,c,h){if(typeof o!="function")throw new jn(a);return gc(function(){o.apply(t,h)},c)}function uc(o,c,h,_){var M=-1,K=Bu,ee=!0,re=o.length,ae=[],de=c.length;if(!re)return ae;h&&(c=hr(c,_n(h))),_?(K=Ih,ee=!1):c.length>=i&&(K=rc,ee=!1,c=new oo(c));e:for(;++M<re;){var ge=o[M],ye=h==null?ge:h(ge);if(ge=_||ge!==0?ge:0,ee&&ye===ye){for(var xe=de;xe--;)if(c[xe]===ye)continue e;ae.push(ge)}else K(c,ye,_)||ae.push(ge)}return ae}var ws=oy(xi),Nm=oy($h,!0);function xx(o,c){var h=!0;return ws(o,function(_,M,K){return h=!!c(_,M,K),h}),h}function Zu(o,c,h){for(var _=-1,M=o.length;++_<M;){var K=o[_],ee=c(K);if(ee!=null&&(re===t?ee===ee&&!An(ee):h(ee,re)))var re=ee,ae=K}return ae}function Sx(o,c,h,_){var M=o.length;for(h=mt(h),h<0&&(h=-h>M?0:M+h),_=_===t||_>M?M:mt(_),_<0&&(_+=M),_=h>_?0:Yy(_);h<_;)o[h++]=c;return o}function Bm(o,c){var h=[];return ws(o,function(_,M,K){c(_,M,K)&&h.push(_)}),h}function qr(o,c,h,_,M){var K=-1,ee=o.length;for(h||(h=dS),M||(M=[]);++K<ee;){var re=o[K];c>0&&h(re)?c>1?qr(re,c-1,h,_,M):ys(M,re):_||(M[M.length]=re)}return M}var Hh=ay(),km=ay(!0);function xi(o,c){return o&&Hh(o,c,kr)}function $h(o,c){return o&&km(o,c,kr)}function ef(o,c){return ms(c,function(h){return $i(o[h])})}function co(o,c){c=Es(c,o);for(var h=0,_=c.length;o!=null&&h<_;)o=o[Ii(c[h++])];return h&&h==_?o:t}function Lm(o,c,h){var _=c(o);return ut(o)?_:ys(_,h(o))}function en(o){return o==null?o===t?Me:He:io&&io in ir(o)?aS(o):wS(o)}function qh(o,c){return o>c}function Ix(o,c){return o!=null&&Wt.call(o,c)}function Tx(o,c){return o!=null&&c in ir(o)}function Cx(o,c,h){return o>=Vr(c,h)&&o<Rr(c,h)}function Gh(o,c,h){for(var _=h?Ih:Bu,M=o[0].length,K=o.length,ee=K,re=ce(K),ae=1/0,de=[];ee--;){var ge=o[ee];ee&&c&&(ge=hr(ge,_n(c))),ae=Vr(ge.length,ae),re[ee]=!h&&(c||M>=120&&ge.length>=120)?new oo(ee&&ge):t}ge=o[0];var ye=-1,xe=re[0];e:for(;++ye<M&&de.length<ae;){var Ue=ge[ye],Je=c?c(Ue):Ue;if(Ue=h||Ue!==0?Ue:0,!(xe?rc(xe,Je):_(de,Je,h))){for(ee=K;--ee;){var vt=re[ee];if(!(vt?rc(vt,Je):_(o[ee],Je,h)))continue e}xe&&xe.push(Je),de.push(Ue)}}return de}function Px(o,c,h,_){return xi(o,function(M,K,ee){c(_,h(M),K,ee)}),_}function fc(o,c,h){c=Es(c,o),o=xy(o,c);var _=o==null?o:o[Ii(Gn(c))];return _==null?t:Br(_,o,h)}function Fm(o){return vr(o)&&en(o)==E}function Ox(o){return vr(o)&&en(o)==Ae}function Dx(o){return vr(o)&&en(o)==W}function lc(o,c,h,_,M){return o===c?!0:o==null||c==null||!vr(o)&&!vr(c)?o!==o&&c!==c:Rx(o,c,h,_,lc,M)}function Rx(o,c,h,_,M,K){var ee=ut(o),re=ut(c),ae=ee?X:Kr(o),de=re?X:Kr(c);ae=ae==E?Ee:ae,de=de==E?Ee:de;var ge=ae==Ee,ye=de==Ee,xe=ae==de;if(xe&&xs(o)){if(!xs(c))return!1;ee=!0,ge=!1}if(xe&&!ge)return K||(K=new oi),ee||sa(o)?yy(o,c,h,_,M,K):sS(o,c,ae,h,_,M,K);if(!(h&C)){var Ue=ge&&Wt.call(o,"__wrapped__"),Je=ye&&Wt.call(c,"__wrapped__");if(Ue||Je){var vt=Ue?o.value():o,Ye=Je?c.value():c;return K||(K=new oi),M(vt,Ye,h,_,K)}}return xe?(K||(K=new oi),oS(o,c,h,_,M,K)):!1}function Mx(o){return vr(o)&&Kr(o)==fe}function zh(o,c,h,_){var M=h.length,K=M,ee=!_;if(o==null)return!K;for(o=ir(o);M--;){var re=h[M];if(ee&&re[2]?re[1]!==o[re[0]]:!(re[0]in o))return!1}for(;++M<K;){re=h[M];var ae=re[0],de=o[ae],ge=re[1];if(ee&&re[2]){if(de===t&&!(ae in o))return!1}else{var ye=new oi;if(_)var xe=_(de,ge,ae,o,c,ye);if(!(xe===t?lc(ge,de,C|B,_,ye):xe))return!1}}return!0}function Um(o){if(!gr(o)||gS(o))return!1;var c=$i(o)?M3:Bn;return c.test(fo(o))}function Nx(o){return vr(o)&&en(o)==be}function Bx(o){return vr(o)&&Kr(o)==ve}function kx(o){return vr(o)&&vf(o.length)&&!!tr[en(o)]}function jm(o){return typeof o=="function"?o:o==null?pn:typeof o=="object"?ut(o)?qm(o[0],o[1]):$m(o):cv(o)}function Vh(o){if(!pc(o))return U3(o);var c=[];for(var h in ir(o))Wt.call(o,h)&&h!="constructor"&&c.push(h);return c}function Lx(o){if(!gr(o))return bS(o);var c=pc(o),h=[];for(var _ in o)_=="constructor"&&(c||!Wt.call(o,_))||h.push(_);return h}function Kh(o,c){return o<c}function Hm(o,c){var h=-1,_=hn(o)?ce(o.length):[];return ws(o,function(M,K,ee){_[++h]=c(M,K,ee)}),_}function $m(o){var c=cd(o);return c.length==1&&c[0][2]?Ey(c[0][0],c[0][1]):function(h){return h===o||zh(h,o,c)}}function qm(o,c){return fd(o)&&_y(c)?Ey(Ii(o),c):function(h){var _=wd(h,o);return _===t&&_===c?_d(h,o):lc(c,_,C|B)}}function tf(o,c,h,_,M){o!==c&&Hh(c,function(K,ee){if(M||(M=new oi),gr(K))Fx(o,c,ee,h,tf,_,M);else{var re=_?_(hd(o,ee),K,ee+"",o,c,M):t;re===t&&(re=K),Uh(o,ee,re)}},dn)}function Fx(o,c,h,_,M,K,ee){var re=hd(o,h),ae=hd(c,h),de=ee.get(ae);if(de){Uh(o,h,de);return}var ge=K?K(re,ae,h+"",o,c,ee):t,ye=ge===t;if(ye){var xe=ut(ae),Ue=!xe&&xs(ae),Je=!xe&&!Ue&&sa(ae);ge=ae,xe||Ue||Je?ut(re)?ge=re:_r(re)?ge=ln(re):Ue?(ye=!1,ge=ty(ae,!0)):Je?(ye=!1,ge=ry(ae,!0)):ge=[]:mc(ae)||lo(ae)?(ge=re,lo(re)?ge=Xy(re):(!gr(re)||$i(re))&&(ge=wy(ae))):ye=!1}ye&&(ee.set(ae,ge),M(ge,ae,_,K,ee),ee.delete(ae)),Uh(o,h,ge)}function Gm(o,c){var h=o.length;if(h)return c+=c<0?h:0,Hi(c,h)?o[c]:t}function zm(o,c,h){c.length?c=hr(c,function(K){return ut(K)?function(ee){return co(ee,K.length===1?K[0]:K)}:K}):c=[pn];var _=-1;c=hr(c,_n(Ke()));var M=Hm(o,function(K,ee,re){var ae=hr(c,function(de){return de(K)});return{criteria:ae,index:++_,value:K}});return l3(M,function(K,ee){return Yx(K,ee,h)})}function Ux(o,c){return Vm(o,c,function(h,_){return _d(o,_)})}function Vm(o,c,h){for(var _=-1,M=c.length,K={};++_<M;){var ee=c[_],re=co(o,ee);h(re,ee)&&hc(K,Es(ee,o),re)}return K}function jx(o){return function(c){return co(c,o)}}function Wh(o,c,h,_){var M=_?f3:Wo,K=-1,ee=c.length,re=o;for(o===c&&(c=ln(c)),h&&(re=hr(o,_n(h)));++K<ee;)for(var ae=0,de=c[K],ge=h?h(de):de;(ae=M(re,ge,ae,_))>-1;)re!==o&&zu.call(re,ae,1),zu.call(o,ae,1);return o}function Km(o,c){for(var h=o?c.length:0,_=h-1;h--;){var M=c[h];if(h==_||M!==K){var K=M;Hi(M)?zu.call(o,M,1):Xh(o,M)}}return o}function Qh(o,c){return o+Wu(Tm()*(c-o+1))}function Hx(o,c,h,_){for(var M=-1,K=Rr(Ku((c-o)/(h||1)),0),ee=ce(K);K--;)ee[_?K:++M]=o,o+=h;return ee}function Jh(o,c){var h="";if(!o||c<1||c>O)return h;do c%2&&(h+=o),c=Wu(c/2),c&&(o+=o);while(c);return h}function _t(o,c){return dd(Ay(o,c,pn),o+"")}function $x(o){return Om(oa(o))}function qx(o,c){var h=oa(o);return hf(h,ao(c,0,h.length))}function hc(o,c,h,_){if(!gr(o))return o;c=Es(c,o);for(var M=-1,K=c.length,ee=K-1,re=o;re!=null&&++M<K;){var ae=Ii(c[M]),de=h;if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return o;if(M!=ee){var ge=re[ae];de=_?_(ge,ae,re):t,de===t&&(de=gr(ge)?ge:Hi(c[M+1])?[]:{})}cc(re,ae,de),re=re[ae]}return o}var Wm=Qu?function(o,c){return Qu.set(o,c),o}:pn,Gx=Vu?function(o,c){return Vu(o,"toString",{configurable:!0,enumerable:!1,value:Ad(c),writable:!0})}:pn;function zx(o){return hf(oa(o))}function qn(o,c,h){var _=-1,M=o.length;c<0&&(c=-c>M?0:M+c),h=h>M?M:h,h<0&&(h+=M),M=c>h?0:h-c>>>0,c>>>=0;for(var K=ce(M);++_<M;)K[_]=o[_+c];return K}function Vx(o,c){var h;return ws(o,function(_,M,K){return h=c(_,M,K),!h}),!!h}function rf(o,c,h){var _=0,M=o==null?_:o.length;if(typeof c=="number"&&c===c&&M<=I){for(;_<M;){var K=_+M>>>1,ee=o[K];ee!==null&&!An(ee)&&(h?ee<=c:ee<c)?_=K+1:M=K}return M}return Yh(o,c,pn,h)}function Yh(o,c,h,_){var M=0,K=o==null?0:o.length;if(K===0)return 0;c=h(c);for(var ee=c!==c,re=c===null,ae=An(c),de=c===t;M<K;){var ge=Wu((M+K)/2),ye=h(o[ge]),xe=ye!==t,Ue=ye===null,Je=ye===ye,vt=An(ye);if(ee)var Ye=_||Je;else de?Ye=Je&&(_||xe):re?Ye=Je&&xe&&(_||!Ue):ae?Ye=Je&&xe&&!Ue&&(_||!vt):Ue||vt?Ye=!1:Ye=_?ye<=c:ye<c;Ye?M=ge+1:K=ge}return Vr(K,m)}function Qm(o,c){for(var h=-1,_=o.length,M=0,K=[];++h<_;){var ee=o[h],re=c?c(ee):ee;if(!h||!ai(re,ae)){var ae=re;K[M++]=ee===0?0:ee}}return K}function Jm(o){return typeof o=="number"?o:An(o)?H:+o}function En(o){if(typeof o=="string")return o;if(ut(o))return hr(o,En)+"";if(An(o))return Cm?Cm.call(o):"";var c=o+"";return c=="0"&&1/o==-T?"-0":c}function _s(o,c,h){var _=-1,M=Bu,K=o.length,ee=!0,re=[],ae=re;if(h)ee=!1,M=Ih;else if(K>=i){var de=c?null:nS(o);if(de)return Lu(de);ee=!1,M=rc,ae=new oo}else ae=c?[]:re;e:for(;++_<K;){var ge=o[_],ye=c?c(ge):ge;if(ge=h||ge!==0?ge:0,ee&&ye===ye){for(var xe=ae.length;xe--;)if(ae[xe]===ye)continue e;c&&ae.push(ye),re.push(ge)}else M(ae,ye,h)||(ae!==re&&ae.push(ye),re.push(ge))}return re}function Xh(o,c){return c=Es(c,o),o=xy(o,c),o==null||delete o[Ii(Gn(c))]}function Ym(o,c,h,_){return hc(o,c,h(co(o,c)),_)}function nf(o,c,h,_){for(var M=o.length,K=_?M:-1;(_?K--:++K<M)&&c(o[K],K,o););return h?qn(o,_?0:K,_?K+1:M):qn(o,_?K+1:0,_?M:K)}function Xm(o,c){var h=o;return h instanceof Tt&&(h=h.value()),Th(c,function(_,M){return M.func.apply(M.thisArg,ys([_],M.args))},h)}function Zh(o,c,h){var _=o.length;if(_<2)return _?_s(o[0]):[];for(var M=-1,K=ce(_);++M<_;)for(var ee=o[M],re=-1;++re<_;)re!=M&&(K[M]=uc(K[M]||ee,o[re],c,h));return _s(qr(K,1),c,h)}function Zm(o,c,h){for(var _=-1,M=o.length,K=c.length,ee={};++_<M;){var re=_<K?c[_]:t;h(ee,o[_],re)}return ee}function ed(o){return _r(o)?o:[]}function td(o){return typeof o=="function"?o:pn}function Es(o,c){return ut(o)?o:fd(o,c)?[o]:Cy(qt(o))}var Kx=_t;function As(o,c,h){var _=o.length;return h=h===t?_:h,!c&&h>=_?o:qn(o,c,h)}var ey=N3||function(o){return Ot.clearTimeout(o)};function ty(o,c){if(c)return o.slice();var h=o.length,_=Em?Em(h):new o.constructor(h);return o.copy(_),_}function rd(o){var c=new o.constructor(o.byteLength);return new qu(c).set(new qu(o)),c}function Wx(o,c){var h=c?rd(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.byteLength)}function Qx(o){var c=new o.constructor(o.source,Et.exec(o));return c.lastIndex=o.lastIndex,c}function Jx(o){return ac?ir(ac.call(o)):{}}function ry(o,c){var h=c?rd(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.length)}function ny(o,c){if(o!==c){var h=o!==t,_=o===null,M=o===o,K=An(o),ee=c!==t,re=c===null,ae=c===c,de=An(c);if(!re&&!de&&!K&&o>c||K&&ee&&ae&&!re&&!de||_&&ee&&ae||!h&&ae||!M)return 1;if(!_&&!K&&!de&&o<c||de&&h&&M&&!_&&!K||re&&h&&M||!ee&&M||!ae)return-1}return 0}function Yx(o,c,h){for(var _=-1,M=o.criteria,K=c.criteria,ee=M.length,re=h.length;++_<ee;){var ae=ny(M[_],K[_]);if(ae){if(_>=re)return ae;var de=h[_];return ae*(de=="desc"?-1:1)}}return o.index-c.index}function iy(o,c,h,_){for(var M=-1,K=o.length,ee=h.length,re=-1,ae=c.length,de=Rr(K-ee,0),ge=ce(ae+de),ye=!_;++re<ae;)ge[re]=c[re];for(;++M<ee;)(ye||M<K)&&(ge[h[M]]=o[M]);for(;de--;)ge[re++]=o[M++];return ge}function sy(o,c,h,_){for(var M=-1,K=o.length,ee=-1,re=h.length,ae=-1,de=c.length,ge=Rr(K-re,0),ye=ce(ge+de),xe=!_;++M<ge;)ye[M]=o[M];for(var Ue=M;++ae<de;)ye[Ue+ae]=c[ae];for(;++ee<re;)(xe||M<K)&&(ye[Ue+h[ee]]=o[M++]);return ye}function ln(o,c){var h=-1,_=o.length;for(c||(c=ce(_));++h<_;)c[h]=o[h];return c}function Si(o,c,h,_){var M=!h;h||(h={});for(var K=-1,ee=c.length;++K<ee;){var re=c[K],ae=_?_(h[re],o[re],re,h,o):t;ae===t&&(ae=o[re]),M?Fi(h,re,ae):cc(h,re,ae)}return h}function Xx(o,c){return Si(o,ud(o),c)}function Zx(o,c){return Si(o,vy(o),c)}function sf(o,c){return function(h,_){var M=ut(h)?i3:_x,K=c?c():{};return M(h,o,Ke(_,2),K)}}function ra(o){return _t(function(c,h){var _=-1,M=h.length,K=M>1?h[M-1]:t,ee=M>2?h[2]:t;for(K=o.length>3&&typeof K=="function"?(M--,K):t,ee&&tn(h[0],h[1],ee)&&(K=M<3?t:K,M=1),c=ir(c);++_<M;){var re=h[_];re&&o(c,re,_,K)}return c})}function oy(o,c){return function(h,_){if(h==null)return h;if(!hn(h))return o(h,_);for(var M=h.length,K=c?M:-1,ee=ir(h);(c?K--:++K<M)&&_(ee[K],K,ee)!==!1;);return h}}function ay(o){return function(c,h,_){for(var M=-1,K=ir(c),ee=_(c),re=ee.length;re--;){var ae=ee[o?re:++M];if(h(K[ae],ae,K)===!1)break}return c}}function eS(o,c,h){var _=c&$,M=dc(o);function K(){var ee=this&&this!==Ot&&this instanceof K?M:o;return ee.apply(_?h:this,arguments)}return K}function cy(o){return function(c){c=qt(c);var h=Qo(c)?si(c):t,_=h?h[0]:c.charAt(0),M=h?As(h,1).join(""):c.slice(1);return _[o]()+M}}function na(o){return function(c){return Th(ov(sv(c).replace(ec,"")),o,"")}}function dc(o){return function(){var c=arguments;switch(c.length){case 0:return new o;case 1:return new o(c[0]);case 2:return new o(c[0],c[1]);case 3:return new o(c[0],c[1],c[2]);case 4:return new o(c[0],c[1],c[2],c[3]);case 5:return new o(c[0],c[1],c[2],c[3],c[4]);case 6:return new o(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new o(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var h=ta(o.prototype),_=o.apply(h,c);return gr(_)?_:h}}function tS(o,c,h){var _=dc(o);function M(){for(var K=arguments.length,ee=ce(K),re=K,ae=ia(M);re--;)ee[re]=arguments[re];var de=K<3&&ee[0]!==ae&&ee[K-1]!==ae?[]:vs(ee,ae);if(K-=de.length,K<h)return dy(o,c,of,M.placeholder,t,ee,de,t,t,h-K);var ge=this&&this!==Ot&&this instanceof M?_:o;return Br(ge,this,ee)}return M}function uy(o){return function(c,h,_){var M=ir(c);if(!hn(c)){var K=Ke(h,3);c=kr(c),h=function(re){return K(M[re],re,M)}}var ee=o(c,h,_);return ee>-1?M[K?c[ee]:ee]:t}}function fy(o){return ji(function(c){var h=c.length,_=h,M=Hn.prototype.thru;for(o&&c.reverse();_--;){var K=c[_];if(typeof K!="function")throw new jn(a);if(M&&!ee&&ff(K)=="wrapper")var ee=new Hn([],!0)}for(_=ee?_:h;++_<h;){K=c[_];var re=ff(K),ae=re=="wrapper"?ad(K):t;ae&&ld(ae[0])&&ae[1]==(y|z|k|A)&&!ae[4].length&&ae[9]==1?ee=ee[ff(ae[0])].apply(ee,ae[3]):ee=K.length==1&&ld(K)?ee[re]():ee.thru(K)}return function(){var de=arguments,ge=de[0];if(ee&&de.length==1&&ut(ge))return ee.plant(ge).value();for(var ye=0,xe=h?c[ye].apply(this,de):ge;++ye<h;)xe=c[ye].call(this,xe);return xe}})}function of(o,c,h,_,M,K,ee,re,ae,de){var ge=c&y,ye=c&$,xe=c&Y,Ue=c&(z|L),Je=c&ne,vt=xe?t:dc(o);function Ye(){for(var xt=arguments.length,Dt=ce(xt),xn=xt;xn--;)Dt[xn]=arguments[xn];if(Ue)var rn=ia(Ye),Sn=d3(Dt,rn);if(_&&(Dt=iy(Dt,_,M,Ue)),K&&(Dt=sy(Dt,K,ee,Ue)),xt-=Sn,Ue&&xt<de){var Er=vs(Dt,rn);return dy(o,c,of,Ye.placeholder,h,Dt,Er,re,ae,de-xt)}var ci=ye?h:this,Gi=xe?ci[o]:o;return xt=Dt.length,re?Dt=_S(Dt,re):Je&&xt>1&&Dt.reverse(),ge&&ae<xt&&(Dt.length=ae),this&&this!==Ot&&this instanceof Ye&&(Gi=vt||dc(Gi)),Gi.apply(ci,Dt)}return Ye}function ly(o,c){return function(h,_){return Px(h,o,c(_),{})}}function af(o,c){return function(h,_){var M;if(h===t&&_===t)return c;if(h!==t&&(M=h),_!==t){if(M===t)return _;typeof h=="string"||typeof _=="string"?(h=En(h),_=En(_)):(h=Jm(h),_=Jm(_)),M=o(h,_)}return M}}function nd(o){return ji(function(c){return c=hr(c,_n(Ke())),_t(function(h){var _=this;return o(c,function(M){return Br(M,_,h)})})})}function cf(o,c){c=c===t?" ":En(c);var h=c.length;if(h<2)return h?Jh(c,o):c;var _=Jh(c,Ku(o/Jo(c)));return Qo(c)?As(si(_),0,o).join(""):_.slice(0,o)}function rS(o,c,h,_){var M=c&$,K=dc(o);function ee(){for(var re=-1,ae=arguments.length,de=-1,ge=_.length,ye=ce(ge+ae),xe=this&&this!==Ot&&this instanceof ee?K:o;++de<ge;)ye[de]=_[de];for(;ae--;)ye[de++]=arguments[++re];return Br(xe,M?h:this,ye)}return ee}function hy(o){return function(c,h,_){return _&&typeof _!="number"&&tn(c,h,_)&&(h=_=t),c=qi(c),h===t?(h=c,c=0):h=qi(h),_=_===t?c<h?1:-1:qi(_),Hx(c,h,_,o)}}function uf(o){return function(c,h){return typeof c=="string"&&typeof h=="string"||(c=zn(c),h=zn(h)),o(c,h)}}function dy(o,c,h,_,M,K,ee,re,ae,de){var ge=c&z,ye=ge?ee:t,xe=ge?t:ee,Ue=ge?K:t,Je=ge?t:K;c|=ge?k:D,c&=~(ge?D:k),c&F||(c&=~($|Y));var vt=[o,c,M,Ue,ye,Je,xe,re,ae,de],Ye=h.apply(t,vt);return ld(o)&&Sy(Ye,vt),Ye.placeholder=_,Iy(Ye,o,c)}function id(o){var c=Dr[o];return function(h,_){if(h=zn(h),_=_==null?0:Vr(mt(_),292),_&&Im(h)){var M=(qt(h)+"e").split("e"),K=c(M[0]+"e"+(+M[1]+_));return M=(qt(K)+"e").split("e"),+(M[0]+"e"+(+M[1]-_))}return c(h)}}var nS=Zo&&1/Lu(new Zo([,-0]))[1]==T?function(o){return new Zo(o)}:Id;function py(o){return function(c){var h=Kr(c);return h==fe?Nh(c):h==ve?w3(c):h3(c,o(c))}}function Ui(o,c,h,_,M,K,ee,re){var ae=c&Y;if(!ae&&typeof o!="function")throw new jn(a);var de=_?_.length:0;if(de||(c&=~(k|D),_=M=t),ee=ee===t?ee:Rr(mt(ee),0),re=re===t?re:mt(re),de-=M?M.length:0,c&D){var ge=_,ye=M;_=M=t}var xe=ae?t:ad(o),Ue=[o,c,h,_,M,ge,ye,K,ee,re];if(xe&&vS(Ue,xe),o=Ue[0],c=Ue[1],h=Ue[2],_=Ue[3],M=Ue[4],re=Ue[9]=Ue[9]===t?ae?0:o.length:Rr(Ue[9]-de,0),!re&&c&(z|L)&&(c&=~(z|L)),!c||c==$)var Je=eS(o,c,h);else c==z||c==L?Je=tS(o,c,re):(c==k||c==($|k))&&!M.length?Je=rS(o,c,h,_):Je=of.apply(t,Ue);var vt=xe?Wm:Sy;return Iy(vt(Je,Ue),o,c)}function gy(o,c,h,_){return o===t||ai(o,Xo[h])&&!Wt.call(_,h)?c:o}function my(o,c,h,_,M,K){return gr(o)&&gr(c)&&(K.set(c,o),tf(o,c,t,my,K),K.delete(c)),o}function iS(o){return mc(o)?t:o}function yy(o,c,h,_,M,K){var ee=h&C,re=o.length,ae=c.length;if(re!=ae&&!(ee&&ae>re))return!1;var de=K.get(o),ge=K.get(c);if(de&&ge)return de==c&&ge==o;var ye=-1,xe=!0,Ue=h&B?new oo:t;for(K.set(o,c),K.set(c,o);++ye<re;){var Je=o[ye],vt=c[ye];if(_)var Ye=ee?_(vt,Je,ye,c,o,K):_(Je,vt,ye,o,c,K);if(Ye!==t){if(Ye)continue;xe=!1;break}if(Ue){if(!Ch(c,function(xt,Dt){if(!rc(Ue,Dt)&&(Je===xt||M(Je,xt,h,_,K)))return Ue.push(Dt)})){xe=!1;break}}else if(!(Je===vt||M(Je,vt,h,_,K))){xe=!1;break}}return K.delete(o),K.delete(c),xe}function sS(o,c,h,_,M,K,ee){switch(h){case ze:if(o.byteLength!=c.byteLength||o.byteOffset!=c.byteOffset)return!1;o=o.buffer,c=c.buffer;case Ae:return!(o.byteLength!=c.byteLength||!K(new qu(o),new qu(c)));case V:case W:case we:return ai(+o,+c);case q:return o.name==c.name&&o.message==c.message;case be:case Pe:return o==c+"";case fe:var re=Nh;case ve:var ae=_&C;if(re||(re=Lu),o.size!=c.size&&!ae)return!1;var de=ee.get(o);if(de)return de==c;_|=B,ee.set(o,c);var ge=yy(re(o),re(c),_,M,K,ee);return ee.delete(o),ge;case Te:if(ac)return ac.call(o)==ac.call(c)}return!1}function oS(o,c,h,_,M,K){var ee=h&C,re=sd(o),ae=re.length,de=sd(c),ge=de.length;if(ae!=ge&&!ee)return!1;for(var ye=ae;ye--;){var xe=re[ye];if(!(ee?xe in c:Wt.call(c,xe)))return!1}var Ue=K.get(o),Je=K.get(c);if(Ue&&Je)return Ue==c&&Je==o;var vt=!0;K.set(o,c),K.set(c,o);for(var Ye=ee;++ye<ae;){xe=re[ye];var xt=o[xe],Dt=c[xe];if(_)var xn=ee?_(Dt,xt,xe,c,o,K):_(xt,Dt,xe,o,c,K);if(!(xn===t?xt===Dt||M(xt,Dt,h,_,K):xn)){vt=!1;break}Ye||(Ye=xe=="constructor")}if(vt&&!Ye){var rn=o.constructor,Sn=c.constructor;rn!=Sn&&"constructor"in o&&"constructor"in c&&!(typeof rn=="function"&&rn instanceof rn&&typeof Sn=="function"&&Sn instanceof Sn)&&(vt=!1)}return K.delete(o),K.delete(c),vt}function ji(o){return dd(Ay(o,t,Ry),o+"")}function sd(o){return Lm(o,kr,ud)}function od(o){return Lm(o,dn,vy)}var ad=Qu?function(o){return Qu.get(o)}:Id;function ff(o){for(var c=o.name+"",h=ea[c],_=Wt.call(ea,c)?h.length:0;_--;){var M=h[_],K=M.func;if(K==null||K==o)return M.name}return c}function ia(o){var c=Wt.call(j,"placeholder")?j:o;return c.placeholder}function Ke(){var o=j.iteratee||xd;return o=o===xd?jm:o,arguments.length?o(arguments[0],arguments[1]):o}function lf(o,c){var h=o.__data__;return pS(c)?h[typeof c=="string"?"string":"hash"]:h.map}function cd(o){for(var c=kr(o),h=c.length;h--;){var _=c[h],M=o[_];c[h]=[_,M,_y(M)]}return c}function uo(o,c){var h=y3(o,c);return Um(h)?h:t}function aS(o){var c=Wt.call(o,io),h=o[io];try{o[io]=t;var _=!0}catch{}var M=Hu.call(o);return _&&(c?o[io]=h:delete o[io]),M}var ud=kh?function(o){return o==null?[]:(o=ir(o),ms(kh(o),function(c){return xm.call(o,c)}))}:Td,vy=kh?function(o){for(var c=[];o;)ys(c,ud(o)),o=Gu(o);return c}:Td,Kr=en;(Lh&&Kr(new Lh(new ArrayBuffer(1)))!=ze||ic&&Kr(new ic)!=fe||Fh&&Kr(Fh.resolve())!=$e||Zo&&Kr(new Zo)!=ve||sc&&Kr(new sc)!=Ge)&&(Kr=function(o){var c=en(o),h=c==Ee?o.constructor:t,_=h?fo(h):"";if(_)switch(_){case q3:return ze;case G3:return fe;case z3:return $e;case V3:return ve;case K3:return Ge}return c});function cS(o,c,h){for(var _=-1,M=h.length;++_<M;){var K=h[_],ee=K.size;switch(K.type){case"drop":o+=ee;break;case"dropRight":c-=ee;break;case"take":c=Vr(c,o+ee);break;case"takeRight":o=Rr(o,c-ee);break}}return{start:o,end:c}}function uS(o){var c=o.match(Ve);return c?c[1].split(st):[]}function by(o,c,h){c=Es(c,o);for(var _=-1,M=c.length,K=!1;++_<M;){var ee=Ii(c[_]);if(!(K=o!=null&&h(o,ee)))break;o=o[ee]}return K||++_!=M?K:(M=o==null?0:o.length,!!M&&vf(M)&&Hi(ee,M)&&(ut(o)||lo(o)))}function fS(o){var c=o.length,h=new o.constructor(c);return c&&typeof o[0]=="string"&&Wt.call(o,"index")&&(h.index=o.index,h.input=o.input),h}function wy(o){return typeof o.constructor=="function"&&!pc(o)?ta(Gu(o)):{}}function lS(o,c,h){var _=o.constructor;switch(c){case Ae:return rd(o);case V:case W:return new _(+o);case ze:return Wx(o,h);case Ne:case Ce:case ot:case Be:case Fe:case ht:case ke:case pt:case yr:return ry(o,h);case fe:return new _;case we:case Pe:return new _(o);case be:return Qx(o);case ve:return new _;case Te:return Jx(o)}}function hS(o,c){var h=c.length;if(!h)return o;var _=h-1;return c[_]=(h>1?"& ":"")+c[_],c=c.join(h>2?", ":" "),o.replace($t,`{
/* [wrapped with `+c+`] */
`)}function dS(o){return ut(o)||lo(o)||!!(Sm&&o&&o[Sm])}function Hi(o,c){var h=typeof o;return c=c??O,!!c&&(h=="number"||h!="symbol"&&Ln.test(o))&&o>-1&&o%1==0&&o<c}function tn(o,c,h){if(!gr(h))return!1;var _=typeof c;return(_=="number"?hn(h)&&Hi(c,h.length):_=="string"&&c in h)?ai(h[c],o):!1}function fd(o,c){if(ut(o))return!1;var h=typeof o;return h=="number"||h=="symbol"||h=="boolean"||o==null||An(o)?!0:Jt.test(o)||!Qe.test(o)||c!=null&&o in ir(c)}function pS(o){var c=typeof o;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?o!=="__proto__":o===null}function ld(o){var c=ff(o),h=j[c];if(typeof h!="function"||!(c in Tt.prototype))return!1;if(o===h)return!0;var _=ad(h);return!!_&&o===_[0]}function gS(o){return!!_m&&_m in o}var mS=Uu?$i:Cd;function pc(o){var c=o&&o.constructor,h=typeof c=="function"&&c.prototype||Xo;return o===h}function _y(o){return o===o&&!gr(o)}function Ey(o,c){return function(h){return h==null?!1:h[o]===c&&(c!==t||o in ir(h))}}function yS(o){var c=mf(o,function(_){return h.size===d&&h.clear(),_}),h=c.cache;return c}function vS(o,c){var h=o[1],_=c[1],M=h|_,K=M<($|Y|y),ee=_==y&&h==z||_==y&&h==A&&o[7].length<=c[8]||_==(y|A)&&c[7].length<=c[8]&&h==z;if(!(K||ee))return o;_&$&&(o[2]=c[2],M|=h&$?0:F);var re=c[3];if(re){var ae=o[3];o[3]=ae?iy(ae,re,c[4]):re,o[4]=ae?vs(o[3],p):c[4]}return re=c[5],re&&(ae=o[5],o[5]=ae?sy(ae,re,c[6]):re,o[6]=ae?vs(o[5],p):c[6]),re=c[7],re&&(o[7]=re),_&y&&(o[8]=o[8]==null?c[8]:Vr(o[8],c[8])),o[9]==null&&(o[9]=c[9]),o[0]=c[0],o[1]=M,o}function bS(o){var c=[];if(o!=null)for(var h in ir(o))c.push(h);return c}function wS(o){return Hu.call(o)}function Ay(o,c,h){return c=Rr(c===t?o.length-1:c,0),function(){for(var _=arguments,M=-1,K=Rr(_.length-c,0),ee=ce(K);++M<K;)ee[M]=_[c+M];M=-1;for(var re=ce(c+1);++M<c;)re[M]=_[M];return re[c]=h(ee),Br(o,this,re)}}function xy(o,c){return c.length<2?o:co(o,qn(c,0,-1))}function _S(o,c){for(var h=o.length,_=Vr(c.length,h),M=ln(o);_--;){var K=c[_];o[_]=Hi(K,h)?M[K]:t}return o}function hd(o,c){if(!(c==="constructor"&&typeof o[c]=="function")&&c!="__proto__")return o[c]}var Sy=Ty(Wm),gc=k3||function(o,c){return Ot.setTimeout(o,c)},dd=Ty(Gx);function Iy(o,c,h){var _=c+"";return dd(o,hS(_,ES(uS(_),h)))}function Ty(o){var c=0,h=0;return function(){var _=j3(),M=N-(_-h);if(h=_,M>0){if(++c>=Z)return arguments[0]}else c=0;return o.apply(t,arguments)}}function hf(o,c){var h=-1,_=o.length,M=_-1;for(c=c===t?_:c;++h<c;){var K=Qh(h,M),ee=o[K];o[K]=o[h],o[h]=ee}return o.length=c,o}var Cy=yS(function(o){var c=[];return o.charCodeAt(0)===46&&c.push(""),o.replace(it,function(h,_,M,K){c.push(M?K.replace(Vt,"$1"):_||h)}),c});function Ii(o){if(typeof o=="string"||An(o))return o;var c=o+"";return c=="0"&&1/o==-T?"-0":c}function fo(o){if(o!=null){try{return ju.call(o)}catch{}try{return o+""}catch{}}return""}function ES(o,c){return Un(te,function(h){var _="_."+h[0];c&h[1]&&!Bu(o,_)&&o.push(_)}),o.sort()}function Py(o){if(o instanceof Tt)return o.clone();var c=new Hn(o.__wrapped__,o.__chain__);return c.__actions__=ln(o.__actions__),c.__index__=o.__index__,c.__values__=o.__values__,c}function AS(o,c,h){(h?tn(o,c,h):c===t)?c=1:c=Rr(mt(c),0);var _=o==null?0:o.length;if(!_||c<1)return[];for(var M=0,K=0,ee=ce(Ku(_/c));M<_;)ee[K++]=qn(o,M,M+=c);return ee}function xS(o){for(var c=-1,h=o==null?0:o.length,_=0,M=[];++c<h;){var K=o[c];K&&(M[_++]=K)}return M}function SS(){var o=arguments.length;if(!o)return[];for(var c=ce(o-1),h=arguments[0],_=o;_--;)c[_-1]=arguments[_];return ys(ut(h)?ln(h):[h],qr(c,1))}var IS=_t(function(o,c){return _r(o)?uc(o,qr(c,1,_r,!0)):[]}),TS=_t(function(o,c){var h=Gn(c);return _r(h)&&(h=t),_r(o)?uc(o,qr(c,1,_r,!0),Ke(h,2)):[]}),CS=_t(function(o,c){var h=Gn(c);return _r(h)&&(h=t),_r(o)?uc(o,qr(c,1,_r,!0),t,h):[]});function PS(o,c,h){var _=o==null?0:o.length;return _?(c=h||c===t?1:mt(c),qn(o,c<0?0:c,_)):[]}function OS(o,c,h){var _=o==null?0:o.length;return _?(c=h||c===t?1:mt(c),c=_-c,qn(o,0,c<0?0:c)):[]}function DS(o,c){return o&&o.length?nf(o,Ke(c,3),!0,!0):[]}function RS(o,c){return o&&o.length?nf(o,Ke(c,3),!0):[]}function MS(o,c,h,_){var M=o==null?0:o.length;return M?(h&&typeof h!="number"&&tn(o,c,h)&&(h=0,_=M),Sx(o,c,h,_)):[]}function Oy(o,c,h){var _=o==null?0:o.length;if(!_)return-1;var M=h==null?0:mt(h);return M<0&&(M=Rr(_+M,0)),ku(o,Ke(c,3),M)}function Dy(o,c,h){var _=o==null?0:o.length;if(!_)return-1;var M=_-1;return h!==t&&(M=mt(h),M=h<0?Rr(_+M,0):Vr(M,_-1)),ku(o,Ke(c,3),M,!0)}function Ry(o){var c=o==null?0:o.length;return c?qr(o,1):[]}function NS(o){var c=o==null?0:o.length;return c?qr(o,T):[]}function BS(o,c){var h=o==null?0:o.length;return h?(c=c===t?1:mt(c),qr(o,c)):[]}function kS(o){for(var c=-1,h=o==null?0:o.length,_={};++c<h;){var M=o[c];_[M[0]]=M[1]}return _}function My(o){return o&&o.length?o[0]:t}function LS(o,c,h){var _=o==null?0:o.length;if(!_)return-1;var M=h==null?0:mt(h);return M<0&&(M=Rr(_+M,0)),Wo(o,c,M)}function FS(o){var c=o==null?0:o.length;return c?qn(o,0,-1):[]}var US=_t(function(o){var c=hr(o,ed);return c.length&&c[0]===o[0]?Gh(c):[]}),jS=_t(function(o){var c=Gn(o),h=hr(o,ed);return c===Gn(h)?c=t:h.pop(),h.length&&h[0]===o[0]?Gh(h,Ke(c,2)):[]}),HS=_t(function(o){var c=Gn(o),h=hr(o,ed);return c=typeof c=="function"?c:t,c&&h.pop(),h.length&&h[0]===o[0]?Gh(h,t,c):[]});function $S(o,c){return o==null?"":F3.call(o,c)}function Gn(o){var c=o==null?0:o.length;return c?o[c-1]:t}function qS(o,c,h){var _=o==null?0:o.length;if(!_)return-1;var M=_;return h!==t&&(M=mt(h),M=M<0?Rr(_+M,0):Vr(M,_-1)),c===c?E3(o,c,M):ku(o,dm,M,!0)}function GS(o,c){return o&&o.length?Gm(o,mt(c)):t}var zS=_t(Ny);function Ny(o,c){return o&&o.length&&c&&c.length?Wh(o,c):o}function VS(o,c,h){return o&&o.length&&c&&c.length?Wh(o,c,Ke(h,2)):o}function KS(o,c,h){return o&&o.length&&c&&c.length?Wh(o,c,t,h):o}var WS=ji(function(o,c){var h=o==null?0:o.length,_=jh(o,c);return Km(o,hr(c,function(M){return Hi(M,h)?+M:M}).sort(ny)),_});function QS(o,c){var h=[];if(!(o&&o.length))return h;var _=-1,M=[],K=o.length;for(c=Ke(c,3);++_<K;){var ee=o[_];c(ee,_,o)&&(h.push(ee),M.push(_))}return Km(o,M),h}function pd(o){return o==null?o:$3.call(o)}function JS(o,c,h){var _=o==null?0:o.length;return _?(h&&typeof h!="number"&&tn(o,c,h)?(c=0,h=_):(c=c==null?0:mt(c),h=h===t?_:mt(h)),qn(o,c,h)):[]}function YS(o,c){return rf(o,c)}function XS(o,c,h){return Yh(o,c,Ke(h,2))}function ZS(o,c){var h=o==null?0:o.length;if(h){var _=rf(o,c);if(_<h&&ai(o[_],c))return _}return-1}function eI(o,c){return rf(o,c,!0)}function tI(o,c,h){return Yh(o,c,Ke(h,2),!0)}function rI(o,c){var h=o==null?0:o.length;if(h){var _=rf(o,c,!0)-1;if(ai(o[_],c))return _}return-1}function nI(o){return o&&o.length?Qm(o):[]}function iI(o,c){return o&&o.length?Qm(o,Ke(c,2)):[]}function sI(o){var c=o==null?0:o.length;return c?qn(o,1,c):[]}function oI(o,c,h){return o&&o.length?(c=h||c===t?1:mt(c),qn(o,0,c<0?0:c)):[]}function aI(o,c,h){var _=o==null?0:o.length;return _?(c=h||c===t?1:mt(c),c=_-c,qn(o,c<0?0:c,_)):[]}function cI(o,c){return o&&o.length?nf(o,Ke(c,3),!1,!0):[]}function uI(o,c){return o&&o.length?nf(o,Ke(c,3)):[]}var fI=_t(function(o){return _s(qr(o,1,_r,!0))}),lI=_t(function(o){var c=Gn(o);return _r(c)&&(c=t),_s(qr(o,1,_r,!0),Ke(c,2))}),hI=_t(function(o){var c=Gn(o);return c=typeof c=="function"?c:t,_s(qr(o,1,_r,!0),t,c)});function dI(o){return o&&o.length?_s(o):[]}function pI(o,c){return o&&o.length?_s(o,Ke(c,2)):[]}function gI(o,c){return c=typeof c=="function"?c:t,o&&o.length?_s(o,t,c):[]}function gd(o){if(!(o&&o.length))return[];var c=0;return o=ms(o,function(h){if(_r(h))return c=Rr(h.length,c),!0}),Rh(c,function(h){return hr(o,Ph(h))})}function By(o,c){if(!(o&&o.length))return[];var h=gd(o);return c==null?h:hr(h,function(_){return Br(c,t,_)})}var mI=_t(function(o,c){return _r(o)?uc(o,c):[]}),yI=_t(function(o){return Zh(ms(o,_r))}),vI=_t(function(o){var c=Gn(o);return _r(c)&&(c=t),Zh(ms(o,_r),Ke(c,2))}),bI=_t(function(o){var c=Gn(o);return c=typeof c=="function"?c:t,Zh(ms(o,_r),t,c)}),wI=_t(gd);function _I(o,c){return Zm(o||[],c||[],cc)}function EI(o,c){return Zm(o||[],c||[],hc)}var AI=_t(function(o){var c=o.length,h=c>1?o[c-1]:t;return h=typeof h=="function"?(o.pop(),h):t,By(o,h)});function ky(o){var c=j(o);return c.__chain__=!0,c}function xI(o,c){return c(o),o}function df(o,c){return c(o)}var SI=ji(function(o){var c=o.length,h=c?o[0]:0,_=this.__wrapped__,M=function(K){return jh(K,o)};return c>1||this.__actions__.length||!(_ instanceof Tt)||!Hi(h)?this.thru(M):(_=_.slice(h,+h+(c?1:0)),_.__actions__.push({func:df,args:[M],thisArg:t}),new Hn(_,this.__chain__).thru(function(K){return c&&!K.length&&K.push(t),K}))});function II(){return ky(this)}function TI(){return new Hn(this.value(),this.__chain__)}function CI(){this.__values__===t&&(this.__values__=Jy(this.value()));var o=this.__index__>=this.__values__.length,c=o?t:this.__values__[this.__index__++];return{done:o,value:c}}function PI(){return this}function OI(o){for(var c,h=this;h instanceof Yu;){var _=Py(h);_.__index__=0,_.__values__=t,c?M.__wrapped__=_:c=_;var M=_;h=h.__wrapped__}return M.__wrapped__=o,c}function DI(){var o=this.__wrapped__;if(o instanceof Tt){var c=o;return this.__actions__.length&&(c=new Tt(this)),c=c.reverse(),c.__actions__.push({func:df,args:[pd],thisArg:t}),new Hn(c,this.__chain__)}return this.thru(pd)}function RI(){return Xm(this.__wrapped__,this.__actions__)}var MI=sf(function(o,c,h){Wt.call(o,h)?++o[h]:Fi(o,h,1)});function NI(o,c,h){var _=ut(o)?lm:xx;return h&&tn(o,c,h)&&(c=t),_(o,Ke(c,3))}function BI(o,c){var h=ut(o)?ms:Bm;return h(o,Ke(c,3))}var kI=uy(Oy),LI=uy(Dy);function FI(o,c){return qr(pf(o,c),1)}function UI(o,c){return qr(pf(o,c),T)}function jI(o,c,h){return h=h===t?1:mt(h),qr(pf(o,c),h)}function Ly(o,c){var h=ut(o)?Un:ws;return h(o,Ke(c,3))}function Fy(o,c){var h=ut(o)?s3:Nm;return h(o,Ke(c,3))}var HI=sf(function(o,c,h){Wt.call(o,h)?o[h].push(c):Fi(o,h,[c])});function $I(o,c,h,_){o=hn(o)?o:oa(o),h=h&&!_?mt(h):0;var M=o.length;return h<0&&(h=Rr(M+h,0)),bf(o)?h<=M&&o.indexOf(c,h)>-1:!!M&&Wo(o,c,h)>-1}var qI=_t(function(o,c,h){var _=-1,M=typeof c=="function",K=hn(o)?ce(o.length):[];return ws(o,function(ee){K[++_]=M?Br(c,ee,h):fc(ee,c,h)}),K}),GI=sf(function(o,c,h){Fi(o,h,c)});function pf(o,c){var h=ut(o)?hr:Hm;return h(o,Ke(c,3))}function zI(o,c,h,_){return o==null?[]:(ut(c)||(c=c==null?[]:[c]),h=_?t:h,ut(h)||(h=h==null?[]:[h]),zm(o,c,h))}var VI=sf(function(o,c,h){o[h?0:1].push(c)},function(){return[[],[]]});function KI(o,c,h){var _=ut(o)?Th:gm,M=arguments.length<3;return _(o,Ke(c,4),h,M,ws)}function WI(o,c,h){var _=ut(o)?o3:gm,M=arguments.length<3;return _(o,Ke(c,4),h,M,Nm)}function QI(o,c){var h=ut(o)?ms:Bm;return h(o,yf(Ke(c,3)))}function JI(o){var c=ut(o)?Om:$x;return c(o)}function YI(o,c,h){(h?tn(o,c,h):c===t)?c=1:c=mt(c);var _=ut(o)?bx:qx;return _(o,c)}function XI(o){var c=ut(o)?wx:zx;return c(o)}function ZI(o){if(o==null)return 0;if(hn(o))return bf(o)?Jo(o):o.length;var c=Kr(o);return c==fe||c==ve?o.size:Vh(o).length}function e6(o,c,h){var _=ut(o)?Ch:Vx;return h&&tn(o,c,h)&&(c=t),_(o,Ke(c,3))}var t6=_t(function(o,c){if(o==null)return[];var h=c.length;return h>1&&tn(o,c[0],c[1])?c=[]:h>2&&tn(c[0],c[1],c[2])&&(c=[c[0]]),zm(o,qr(c,1),[])}),gf=B3||function(){return Ot.Date.now()};function r6(o,c){if(typeof c!="function")throw new jn(a);return o=mt(o),function(){if(--o<1)return c.apply(this,arguments)}}function Uy(o,c,h){return c=h?t:c,c=o&&c==null?o.length:c,Ui(o,y,t,t,t,t,c)}function jy(o,c){var h;if(typeof c!="function")throw new jn(a);return o=mt(o),function(){return--o>0&&(h=c.apply(this,arguments)),o<=1&&(c=t),h}}var md=_t(function(o,c,h){var _=$;if(h.length){var M=vs(h,ia(md));_|=k}return Ui(o,_,c,h,M)}),Hy=_t(function(o,c,h){var _=$|Y;if(h.length){var M=vs(h,ia(Hy));_|=k}return Ui(c,_,o,h,M)});function $y(o,c,h){c=h?t:c;var _=Ui(o,z,t,t,t,t,t,c);return _.placeholder=$y.placeholder,_}function qy(o,c,h){c=h?t:c;var _=Ui(o,L,t,t,t,t,t,c);return _.placeholder=qy.placeholder,_}function Gy(o,c,h){var _,M,K,ee,re,ae,de=0,ge=!1,ye=!1,xe=!0;if(typeof o!="function")throw new jn(a);c=zn(c)||0,gr(h)&&(ge=!!h.leading,ye="maxWait"in h,K=ye?Rr(zn(h.maxWait)||0,c):K,xe="trailing"in h?!!h.trailing:xe);function Ue(Er){var ci=_,Gi=M;return _=M=t,de=Er,ee=o.apply(Gi,ci),ee}function Je(Er){return de=Er,re=gc(xt,c),ge?Ue(Er):ee}function vt(Er){var ci=Er-ae,Gi=Er-de,uv=c-ci;return ye?Vr(uv,K-Gi):uv}function Ye(Er){var ci=Er-ae,Gi=Er-de;return ae===t||ci>=c||ci<0||ye&&Gi>=K}function xt(){var Er=gf();if(Ye(Er))return Dt(Er);re=gc(xt,vt(Er))}function Dt(Er){return re=t,xe&&_?Ue(Er):(_=M=t,ee)}function xn(){re!==t&&ey(re),de=0,_=ae=M=re=t}function rn(){return re===t?ee:Dt(gf())}function Sn(){var Er=gf(),ci=Ye(Er);if(_=arguments,M=this,ae=Er,ci){if(re===t)return Je(ae);if(ye)return ey(re),re=gc(xt,c),Ue(ae)}return re===t&&(re=gc(xt,c)),ee}return Sn.cancel=xn,Sn.flush=rn,Sn}var n6=_t(function(o,c){return Mm(o,1,c)}),i6=_t(function(o,c,h){return Mm(o,zn(c)||0,h)});function s6(o){return Ui(o,ne)}function mf(o,c){if(typeof o!="function"||c!=null&&typeof c!="function")throw new jn(a);var h=function(){var _=arguments,M=c?c.apply(this,_):_[0],K=h.cache;if(K.has(M))return K.get(M);var ee=o.apply(this,_);return h.cache=K.set(M,ee)||K,ee};return h.cache=new(mf.Cache||Li),h}mf.Cache=Li;function yf(o){if(typeof o!="function")throw new jn(a);return function(){var c=arguments;switch(c.length){case 0:return!o.call(this);case 1:return!o.call(this,c[0]);case 2:return!o.call(this,c[0],c[1]);case 3:return!o.call(this,c[0],c[1],c[2])}return!o.apply(this,c)}}function o6(o){return jy(2,o)}var a6=Kx(function(o,c){c=c.length==1&&ut(c[0])?hr(c[0],_n(Ke())):hr(qr(c,1),_n(Ke()));var h=c.length;return _t(function(_){for(var M=-1,K=Vr(_.length,h);++M<K;)_[M]=c[M].call(this,_[M]);return Br(o,this,_)})}),yd=_t(function(o,c){var h=vs(c,ia(yd));return Ui(o,k,t,c,h)}),zy=_t(function(o,c){var h=vs(c,ia(zy));return Ui(o,D,t,c,h)}),c6=ji(function(o,c){return Ui(o,A,t,t,t,c)});function u6(o,c){if(typeof o!="function")throw new jn(a);return c=c===t?c:mt(c),_t(o,c)}function f6(o,c){if(typeof o!="function")throw new jn(a);return c=c==null?0:Rr(mt(c),0),_t(function(h){var _=h[c],M=As(h,0,c);return _&&ys(M,_),Br(o,this,M)})}function l6(o,c,h){var _=!0,M=!0;if(typeof o!="function")throw new jn(a);return gr(h)&&(_="leading"in h?!!h.leading:_,M="trailing"in h?!!h.trailing:M),Gy(o,c,{leading:_,maxWait:c,trailing:M})}function h6(o){return Uy(o,1)}function d6(o,c){return yd(td(c),o)}function p6(){if(!arguments.length)return[];var o=arguments[0];return ut(o)?o:[o]}function g6(o){return $n(o,S)}function m6(o,c){return c=typeof c=="function"?c:t,$n(o,S,c)}function y6(o){return $n(o,v|S)}function v6(o,c){return c=typeof c=="function"?c:t,$n(o,v|S,c)}function b6(o,c){return c==null||Rm(o,c,kr(c))}function ai(o,c){return o===c||o!==o&&c!==c}var w6=uf(qh),_6=uf(function(o,c){return o>=c}),lo=Fm(function(){return arguments}())?Fm:function(o){return vr(o)&&Wt.call(o,"callee")&&!xm.call(o,"callee")},ut=ce.isArray,E6=Zr?_n(Zr):Ox;function hn(o){return o!=null&&vf(o.length)&&!$i(o)}function _r(o){return vr(o)&&hn(o)}function A6(o){return o===!0||o===!1||vr(o)&&en(o)==V}var xs=L3||Cd,x6=ii?_n(ii):Dx;function S6(o){return vr(o)&&o.nodeType===1&&!mc(o)}function I6(o){if(o==null)return!0;if(hn(o)&&(ut(o)||typeof o=="string"||typeof o.splice=="function"||xs(o)||sa(o)||lo(o)))return!o.length;var c=Kr(o);if(c==fe||c==ve)return!o.size;if(pc(o))return!Vh(o).length;for(var h in o)if(Wt.call(o,h))return!1;return!0}function T6(o,c){return lc(o,c)}function C6(o,c,h){h=typeof h=="function"?h:t;var _=h?h(o,c):t;return _===t?lc(o,c,t,h):!!_}function vd(o){if(!vr(o))return!1;var c=en(o);return c==q||c==b||typeof o.message=="string"&&typeof o.name=="string"&&!mc(o)}function P6(o){return typeof o=="number"&&Im(o)}function $i(o){if(!gr(o))return!1;var c=en(o);return c==oe||c==pe||c==G||c==ue}function Vy(o){return typeof o=="number"&&o==mt(o)}function vf(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=O}function gr(o){var c=typeof o;return o!=null&&(c=="object"||c=="function")}function vr(o){return o!=null&&typeof o=="object"}var Ky=Fn?_n(Fn):Mx;function O6(o,c){return o===c||zh(o,c,cd(c))}function D6(o,c,h){return h=typeof h=="function"?h:t,zh(o,c,cd(c),h)}function R6(o){return Wy(o)&&o!=+o}function M6(o){if(mS(o))throw new at(s);return Um(o)}function N6(o){return o===null}function B6(o){return o==null}function Wy(o){return typeof o=="number"||vr(o)&&en(o)==we}function mc(o){if(!vr(o)||en(o)!=Ee)return!1;var c=Gu(o);if(c===null)return!0;var h=Wt.call(c,"constructor")&&c.constructor;return typeof h=="function"&&h instanceof h&&ju.call(h)==D3}var bd=Ai?_n(Ai):Nx;function k6(o){return Vy(o)&&o>=-O&&o<=O}var Qy=tc?_n(tc):Bx;function bf(o){return typeof o=="string"||!ut(o)&&vr(o)&&en(o)==Pe}function An(o){return typeof o=="symbol"||vr(o)&&en(o)==Te}var sa=no?_n(no):kx;function L6(o){return o===t}function F6(o){return vr(o)&&Kr(o)==Ge}function U6(o){return vr(o)&&en(o)==Oe}var j6=uf(Kh),H6=uf(function(o,c){return o<=c});function Jy(o){if(!o)return[];if(hn(o))return bf(o)?si(o):ln(o);if(nc&&o[nc])return b3(o[nc]());var c=Kr(o),h=c==fe?Nh:c==ve?Lu:oa;return h(o)}function qi(o){if(!o)return o===0?o:0;if(o=zn(o),o===T||o===-T){var c=o<0?-1:1;return c*R}return o===o?o:0}function mt(o){var c=qi(o),h=c%1;return c===c?h?c-h:c:0}function Yy(o){return o?ao(mt(o),0,P):0}function zn(o){if(typeof o=="number")return o;if(An(o))return H;if(gr(o)){var c=typeof o.valueOf=="function"?o.valueOf():o;o=gr(c)?c+"":c}if(typeof o!="string")return o===0?o:+o;o=mm(o);var h=Nn.test(o);return h||kn.test(o)?ct(o.slice(2),h?2:8):Kt.test(o)?H:+o}function Xy(o){return Si(o,dn(o))}function $6(o){return o?ao(mt(o),-O,O):o===0?o:0}function qt(o){return o==null?"":En(o)}var q6=ra(function(o,c){if(pc(c)||hn(c)){Si(c,kr(c),o);return}for(var h in c)Wt.call(c,h)&&cc(o,h,c[h])}),Zy=ra(function(o,c){Si(c,dn(c),o)}),wf=ra(function(o,c,h,_){Si(c,dn(c),o,_)}),G6=ra(function(o,c,h,_){Si(c,kr(c),o,_)}),z6=ji(jh);function V6(o,c){var h=ta(o);return c==null?h:Dm(h,c)}var K6=_t(function(o,c){o=ir(o);var h=-1,_=c.length,M=_>2?c[2]:t;for(M&&tn(c[0],c[1],M)&&(_=1);++h<_;)for(var K=c[h],ee=dn(K),re=-1,ae=ee.length;++re<ae;){var de=ee[re],ge=o[de];(ge===t||ai(ge,Xo[de])&&!Wt.call(o,de))&&(o[de]=K[de])}return o}),W6=_t(function(o){return o.push(t,my),Br(ev,t,o)});function Q6(o,c){return hm(o,Ke(c,3),xi)}function J6(o,c){return hm(o,Ke(c,3),$h)}function Y6(o,c){return o==null?o:Hh(o,Ke(c,3),dn)}function X6(o,c){return o==null?o:km(o,Ke(c,3),dn)}function Z6(o,c){return o&&xi(o,Ke(c,3))}function e5(o,c){return o&&$h(o,Ke(c,3))}function t5(o){return o==null?[]:ef(o,kr(o))}function r5(o){return o==null?[]:ef(o,dn(o))}function wd(o,c,h){var _=o==null?t:co(o,c);return _===t?h:_}function n5(o,c){return o!=null&&by(o,c,Ix)}function _d(o,c){return o!=null&&by(o,c,Tx)}var i5=ly(function(o,c,h){c!=null&&typeof c.toString!="function"&&(c=Hu.call(c)),o[c]=h},Ad(pn)),s5=ly(function(o,c,h){c!=null&&typeof c.toString!="function"&&(c=Hu.call(c)),Wt.call(o,c)?o[c].push(h):o[c]=[h]},Ke),o5=_t(fc);function kr(o){return hn(o)?Pm(o):Vh(o)}function dn(o){return hn(o)?Pm(o,!0):Lx(o)}function a5(o,c){var h={};return c=Ke(c,3),xi(o,function(_,M,K){Fi(h,c(_,M,K),_)}),h}function c5(o,c){var h={};return c=Ke(c,3),xi(o,function(_,M,K){Fi(h,M,c(_,M,K))}),h}var u5=ra(function(o,c,h){tf(o,c,h)}),ev=ra(function(o,c,h,_){tf(o,c,h,_)}),f5=ji(function(o,c){var h={};if(o==null)return h;var _=!1;c=hr(c,function(K){return K=Es(K,o),_||(_=K.length>1),K}),Si(o,od(o),h),_&&(h=$n(h,v|x|S,iS));for(var M=c.length;M--;)Xh(h,c[M]);return h});function l5(o,c){return tv(o,yf(Ke(c)))}var h5=ji(function(o,c){return o==null?{}:Ux(o,c)});function tv(o,c){if(o==null)return{};var h=hr(od(o),function(_){return[_]});return c=Ke(c),Vm(o,h,function(_,M){return c(_,M[0])})}function d5(o,c,h){c=Es(c,o);var _=-1,M=c.length;for(M||(M=1,o=t);++_<M;){var K=o==null?t:o[Ii(c[_])];K===t&&(_=M,K=h),o=$i(K)?K.call(o):K}return o}function p5(o,c,h){return o==null?o:hc(o,c,h)}function g5(o,c,h,_){return _=typeof _=="function"?_:t,o==null?o:hc(o,c,h,_)}var rv=py(kr),nv=py(dn);function m5(o,c,h){var _=ut(o),M=_||xs(o)||sa(o);if(c=Ke(c,4),h==null){var K=o&&o.constructor;M?h=_?new K:[]:gr(o)?h=$i(K)?ta(Gu(o)):{}:h={}}return(M?Un:xi)(o,function(ee,re,ae){return c(h,ee,re,ae)}),h}function y5(o,c){return o==null?!0:Xh(o,c)}function v5(o,c,h){return o==null?o:Ym(o,c,td(h))}function b5(o,c,h,_){return _=typeof _=="function"?_:t,o==null?o:Ym(o,c,td(h),_)}function oa(o){return o==null?[]:Mh(o,kr(o))}function w5(o){return o==null?[]:Mh(o,dn(o))}function _5(o,c,h){return h===t&&(h=c,c=t),h!==t&&(h=zn(h),h=h===h?h:0),c!==t&&(c=zn(c),c=c===c?c:0),ao(zn(o),c,h)}function E5(o,c,h){return c=qi(c),h===t?(h=c,c=0):h=qi(h),o=zn(o),Cx(o,c,h)}function A5(o,c,h){if(h&&typeof h!="boolean"&&tn(o,c,h)&&(c=h=t),h===t&&(typeof c=="boolean"?(h=c,c=t):typeof o=="boolean"&&(h=o,o=t)),o===t&&c===t?(o=0,c=1):(o=qi(o),c===t?(c=o,o=0):c=qi(c)),o>c){var _=o;o=c,c=_}if(h||o%1||c%1){var M=Tm();return Vr(o+M*(c-o+rr("1e-"+((M+"").length-1))),c)}return Qh(o,c)}var x5=na(function(o,c,h){return c=c.toLowerCase(),o+(h?iv(c):c)});function iv(o){return Ed(qt(o).toLowerCase())}function sv(o){return o=qt(o),o&&o.replace(Nr,p3).replace(xh,"")}function S5(o,c,h){o=qt(o),c=En(c);var _=o.length;h=h===t?_:ao(mt(h),0,_);var M=h;return h-=c.length,h>=0&&o.slice(h,M)==c}function I5(o){return o=qt(o),o&&We.test(o)?o.replace(kt,g3):o}function T5(o){return o=qt(o),o&&Yt.test(o)?o.replace(et,"\\$&"):o}var C5=na(function(o,c,h){return o+(h?"-":"")+c.toLowerCase()}),P5=na(function(o,c,h){return o+(h?" ":"")+c.toLowerCase()}),O5=cy("toLowerCase");function D5(o,c,h){o=qt(o),c=mt(c);var _=c?Jo(o):0;if(!c||_>=c)return o;var M=(c-_)/2;return cf(Wu(M),h)+o+cf(Ku(M),h)}function R5(o,c,h){o=qt(o),c=mt(c);var _=c?Jo(o):0;return c&&_<c?o+cf(c-_,h):o}function M5(o,c,h){o=qt(o),c=mt(c);var _=c?Jo(o):0;return c&&_<c?cf(c-_,h)+o:o}function N5(o,c,h){return h||c==null?c=0:c&&(c=+c),H3(qt(o).replace(tt,""),c||0)}function B5(o,c,h){return(h?tn(o,c,h):c===t)?c=1:c=mt(c),Jh(qt(o),c)}function k5(){var o=arguments,c=qt(o[0]);return o.length<3?c:c.replace(o[1],o[2])}var L5=na(function(o,c,h){return o+(h?"_":"")+c.toLowerCase()});function F5(o,c,h){return h&&typeof h!="number"&&tn(o,c,h)&&(c=h=t),h=h===t?P:h>>>0,h?(o=qt(o),o&&(typeof c=="string"||c!=null&&!bd(c))&&(c=En(c),!c&&Qo(o))?As(si(o),0,h):o.split(c,h)):[]}var U5=na(function(o,c,h){return o+(h?" ":"")+Ed(c)});function j5(o,c,h){return o=qt(o),h=h==null?0:ao(mt(h),0,o.length),c=En(c),o.slice(h,h+c.length)==c}function H5(o,c,h){var _=j.templateSettings;h&&tn(o,c,h)&&(c=t),o=qt(o),c=wf({},c,_,gy);var M=wf({},c.imports,_.imports,gy),K=kr(M),ee=Mh(M,K),re,ae,de=0,ge=c.interpolate||bi,ye="__p += '",xe=Bh((c.escape||bi).source+"|"+ge.source+"|"+(ge===Xe?ni:bi).source+"|"+(c.evaluate||bi).source+"|$","g"),Ue="//# sourceURL="+(Wt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Sh+"]")+`
`;o.replace(xe,function(Ye,xt,Dt,xn,rn,Sn){return Dt||(Dt=xn),ye+=o.slice(de,Sn).replace(Vs,m3),xt&&(re=!0,ye+=`' +
__e(`+xt+`) +
'`),rn&&(ae=!0,ye+=`';
`+rn+`;
__p += '`),Dt&&(ye+=`' +
((__t = (`+Dt+`)) == null ? '' : __t) +
'`),de=Sn+Ye.length,Ye}),ye+=`';
`;var Je=Wt.call(c,"variable")&&c.variable;if(!Je)ye=`with (obj) {
`+ye+`
}
`;else if(zt.test(Je))throw new at(u);ye=(ae?ye.replace(It,""):ye).replace(gt,"$1").replace($r,"$1;"),ye="function("+(Je||"obj")+`) {
`+(Je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(re?", __e = _.escape":"")+(ae?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ye+`return __p
}`;var vt=av(function(){return Ft(K,Ue+"return "+ye).apply(t,ee)});if(vt.source=ye,vd(vt))throw vt;return vt}function $5(o){return qt(o).toLowerCase()}function q5(o){return qt(o).toUpperCase()}function G5(o,c,h){if(o=qt(o),o&&(h||c===t))return mm(o);if(!o||!(c=En(c)))return o;var _=si(o),M=si(c),K=ym(_,M),ee=vm(_,M)+1;return As(_,K,ee).join("")}function z5(o,c,h){if(o=qt(o),o&&(h||c===t))return o.slice(0,wm(o)+1);if(!o||!(c=En(c)))return o;var _=si(o),M=vm(_,si(c))+1;return As(_,0,M).join("")}function V5(o,c,h){if(o=qt(o),o&&(h||c===t))return o.replace(tt,"");if(!o||!(c=En(c)))return o;var _=si(o),M=ym(_,si(c));return As(_,M).join("")}function K5(o,c){var h=U,_=Q;if(gr(c)){var M="separator"in c?c.separator:M;h="length"in c?mt(c.length):h,_="omission"in c?En(c.omission):_}o=qt(o);var K=o.length;if(Qo(o)){var ee=si(o);K=ee.length}if(h>=K)return o;var re=h-Jo(_);if(re<1)return _;var ae=ee?As(ee,0,re).join(""):o.slice(0,re);if(M===t)return ae+_;if(ee&&(re+=ae.length-re),bd(M)){if(o.slice(re).search(M)){var de,ge=ae;for(M.global||(M=Bh(M.source,qt(Et.exec(M))+"g")),M.lastIndex=0;de=M.exec(ge);)var ye=de.index;ae=ae.slice(0,ye===t?re:ye)}}else if(o.indexOf(En(M),re)!=re){var xe=ae.lastIndexOf(M);xe>-1&&(ae=ae.slice(0,xe))}return ae+_}function W5(o){return o=qt(o),o&&jt.test(o)?o.replace(Nt,A3):o}var Q5=na(function(o,c,h){return o+(h?" ":"")+c.toUpperCase()}),Ed=cy("toUpperCase");function ov(o,c,h){return o=qt(o),c=h?t:c,c===t?v3(o)?I3(o):u3(o):o.match(c)||[]}var av=_t(function(o,c){try{return Br(o,t,c)}catch(h){return vd(h)?h:new at(h)}}),J5=ji(function(o,c){return Un(c,function(h){h=Ii(h),Fi(o,h,md(o[h],o))}),o});function Y5(o){var c=o==null?0:o.length,h=Ke();return o=c?hr(o,function(_){if(typeof _[1]!="function")throw new jn(a);return[h(_[0]),_[1]]}):[],_t(function(_){for(var M=-1;++M<c;){var K=o[M];if(Br(K[0],this,_))return Br(K[1],this,_)}})}function X5(o){return Ax($n(o,v))}function Ad(o){return function(){return o}}function Z5(o,c){return o==null||o!==o?c:o}var e8=fy(),t8=fy(!0);function pn(o){return o}function xd(o){return jm(typeof o=="function"?o:$n(o,v))}function r8(o){return $m($n(o,v))}function n8(o,c){return qm(o,$n(c,v))}var i8=_t(function(o,c){return function(h){return fc(h,o,c)}}),s8=_t(function(o,c){return function(h){return fc(o,h,c)}});function Sd(o,c,h){var _=kr(c),M=ef(c,_);h==null&&!(gr(c)&&(M.length||!_.length))&&(h=c,c=o,o=this,M=ef(c,kr(c)));var K=!(gr(h)&&"chain"in h)||!!h.chain,ee=$i(o);return Un(M,function(re){var ae=c[re];o[re]=ae,ee&&(o.prototype[re]=function(){var de=this.__chain__;if(K||de){var ge=o(this.__wrapped__),ye=ge.__actions__=ln(this.__actions__);return ye.push({func:ae,args:arguments,thisArg:o}),ge.__chain__=de,ge}return ae.apply(o,ys([this.value()],arguments))})}),o}function o8(){return Ot._===this&&(Ot._=R3),this}function Id(){}function a8(o){return o=mt(o),_t(function(c){return Gm(c,o)})}var c8=nd(hr),u8=nd(lm),f8=nd(Ch);function cv(o){return fd(o)?Ph(Ii(o)):jx(o)}function l8(o){return function(c){return o==null?t:co(o,c)}}var h8=hy(),d8=hy(!0);function Td(){return[]}function Cd(){return!1}function p8(){return{}}function g8(){return""}function m8(){return!0}function y8(o,c){if(o=mt(o),o<1||o>O)return[];var h=P,_=Vr(o,P);c=Ke(c),o-=P;for(var M=Rh(_,c);++h<o;)c(h);return M}function v8(o){return ut(o)?hr(o,Ii):An(o)?[o]:ln(Cy(qt(o)))}function b8(o){var c=++O3;return qt(o)+c}var w8=af(function(o,c){return o+c},0),_8=id("ceil"),E8=af(function(o,c){return o/c},1),A8=id("floor");function x8(o){return o&&o.length?Zu(o,pn,qh):t}function S8(o,c){return o&&o.length?Zu(o,Ke(c,2),qh):t}function I8(o){return pm(o,pn)}function T8(o,c){return pm(o,Ke(c,2))}function C8(o){return o&&o.length?Zu(o,pn,Kh):t}function P8(o,c){return o&&o.length?Zu(o,Ke(c,2),Kh):t}var O8=af(function(o,c){return o*c},1),D8=id("round"),R8=af(function(o,c){return o-c},0);function M8(o){return o&&o.length?Dh(o,pn):0}function N8(o,c){return o&&o.length?Dh(o,Ke(c,2)):0}return j.after=r6,j.ary=Uy,j.assign=q6,j.assignIn=Zy,j.assignInWith=wf,j.assignWith=G6,j.at=z6,j.before=jy,j.bind=md,j.bindAll=J5,j.bindKey=Hy,j.castArray=p6,j.chain=ky,j.chunk=AS,j.compact=xS,j.concat=SS,j.cond=Y5,j.conforms=X5,j.constant=Ad,j.countBy=MI,j.create=V6,j.curry=$y,j.curryRight=qy,j.debounce=Gy,j.defaults=K6,j.defaultsDeep=W6,j.defer=n6,j.delay=i6,j.difference=IS,j.differenceBy=TS,j.differenceWith=CS,j.drop=PS,j.dropRight=OS,j.dropRightWhile=DS,j.dropWhile=RS,j.fill=MS,j.filter=BI,j.flatMap=FI,j.flatMapDeep=UI,j.flatMapDepth=jI,j.flatten=Ry,j.flattenDeep=NS,j.flattenDepth=BS,j.flip=s6,j.flow=e8,j.flowRight=t8,j.fromPairs=kS,j.functions=t5,j.functionsIn=r5,j.groupBy=HI,j.initial=FS,j.intersection=US,j.intersectionBy=jS,j.intersectionWith=HS,j.invert=i5,j.invertBy=s5,j.invokeMap=qI,j.iteratee=xd,j.keyBy=GI,j.keys=kr,j.keysIn=dn,j.map=pf,j.mapKeys=a5,j.mapValues=c5,j.matches=r8,j.matchesProperty=n8,j.memoize=mf,j.merge=u5,j.mergeWith=ev,j.method=i8,j.methodOf=s8,j.mixin=Sd,j.negate=yf,j.nthArg=a8,j.omit=f5,j.omitBy=l5,j.once=o6,j.orderBy=zI,j.over=c8,j.overArgs=a6,j.overEvery=u8,j.overSome=f8,j.partial=yd,j.partialRight=zy,j.partition=VI,j.pick=h5,j.pickBy=tv,j.property=cv,j.propertyOf=l8,j.pull=zS,j.pullAll=Ny,j.pullAllBy=VS,j.pullAllWith=KS,j.pullAt=WS,j.range=h8,j.rangeRight=d8,j.rearg=c6,j.reject=QI,j.remove=QS,j.rest=u6,j.reverse=pd,j.sampleSize=YI,j.set=p5,j.setWith=g5,j.shuffle=XI,j.slice=JS,j.sortBy=t6,j.sortedUniq=nI,j.sortedUniqBy=iI,j.split=F5,j.spread=f6,j.tail=sI,j.take=oI,j.takeRight=aI,j.takeRightWhile=cI,j.takeWhile=uI,j.tap=xI,j.throttle=l6,j.thru=df,j.toArray=Jy,j.toPairs=rv,j.toPairsIn=nv,j.toPath=v8,j.toPlainObject=Xy,j.transform=m5,j.unary=h6,j.union=fI,j.unionBy=lI,j.unionWith=hI,j.uniq=dI,j.uniqBy=pI,j.uniqWith=gI,j.unset=y5,j.unzip=gd,j.unzipWith=By,j.update=v5,j.updateWith=b5,j.values=oa,j.valuesIn=w5,j.without=mI,j.words=ov,j.wrap=d6,j.xor=yI,j.xorBy=vI,j.xorWith=bI,j.zip=wI,j.zipObject=_I,j.zipObjectDeep=EI,j.zipWith=AI,j.entries=rv,j.entriesIn=nv,j.extend=Zy,j.extendWith=wf,Sd(j,j),j.add=w8,j.attempt=av,j.camelCase=x5,j.capitalize=iv,j.ceil=_8,j.clamp=_5,j.clone=g6,j.cloneDeep=y6,j.cloneDeepWith=v6,j.cloneWith=m6,j.conformsTo=b6,j.deburr=sv,j.defaultTo=Z5,j.divide=E8,j.endsWith=S5,j.eq=ai,j.escape=I5,j.escapeRegExp=T5,j.every=NI,j.find=kI,j.findIndex=Oy,j.findKey=Q6,j.findLast=LI,j.findLastIndex=Dy,j.findLastKey=J6,j.floor=A8,j.forEach=Ly,j.forEachRight=Fy,j.forIn=Y6,j.forInRight=X6,j.forOwn=Z6,j.forOwnRight=e5,j.get=wd,j.gt=w6,j.gte=_6,j.has=n5,j.hasIn=_d,j.head=My,j.identity=pn,j.includes=$I,j.indexOf=LS,j.inRange=E5,j.invoke=o5,j.isArguments=lo,j.isArray=ut,j.isArrayBuffer=E6,j.isArrayLike=hn,j.isArrayLikeObject=_r,j.isBoolean=A6,j.isBuffer=xs,j.isDate=x6,j.isElement=S6,j.isEmpty=I6,j.isEqual=T6,j.isEqualWith=C6,j.isError=vd,j.isFinite=P6,j.isFunction=$i,j.isInteger=Vy,j.isLength=vf,j.isMap=Ky,j.isMatch=O6,j.isMatchWith=D6,j.isNaN=R6,j.isNative=M6,j.isNil=B6,j.isNull=N6,j.isNumber=Wy,j.isObject=gr,j.isObjectLike=vr,j.isPlainObject=mc,j.isRegExp=bd,j.isSafeInteger=k6,j.isSet=Qy,j.isString=bf,j.isSymbol=An,j.isTypedArray=sa,j.isUndefined=L6,j.isWeakMap=F6,j.isWeakSet=U6,j.join=$S,j.kebabCase=C5,j.last=Gn,j.lastIndexOf=qS,j.lowerCase=P5,j.lowerFirst=O5,j.lt=j6,j.lte=H6,j.max=x8,j.maxBy=S8,j.mean=I8,j.meanBy=T8,j.min=C8,j.minBy=P8,j.stubArray=Td,j.stubFalse=Cd,j.stubObject=p8,j.stubString=g8,j.stubTrue=m8,j.multiply=O8,j.nth=GS,j.noConflict=o8,j.noop=Id,j.now=gf,j.pad=D5,j.padEnd=R5,j.padStart=M5,j.parseInt=N5,j.random=A5,j.reduce=KI,j.reduceRight=WI,j.repeat=B5,j.replace=k5,j.result=d5,j.round=D8,j.runInContext=se,j.sample=JI,j.size=ZI,j.snakeCase=L5,j.some=e6,j.sortedIndex=YS,j.sortedIndexBy=XS,j.sortedIndexOf=ZS,j.sortedLastIndex=eI,j.sortedLastIndexBy=tI,j.sortedLastIndexOf=rI,j.startCase=U5,j.startsWith=j5,j.subtract=R8,j.sum=M8,j.sumBy=N8,j.template=H5,j.times=y8,j.toFinite=qi,j.toInteger=mt,j.toLength=Yy,j.toLower=$5,j.toNumber=zn,j.toSafeInteger=$6,j.toString=qt,j.toUpper=q5,j.trim=G5,j.trimEnd=z5,j.trimStart=V5,j.truncate=K5,j.unescape=W5,j.uniqueId=b8,j.upperCase=Q5,j.upperFirst=Ed,j.each=Ly,j.eachRight=Fy,j.first=My,Sd(j,function(){var o={};return xi(j,function(c,h){Wt.call(j.prototype,h)||(o[h]=c)}),o}(),{chain:!1}),j.VERSION=n,Un(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){j[o].placeholder=j}),Un(["drop","take"],function(o,c){Tt.prototype[o]=function(h){h=h===t?1:Rr(mt(h),0);var _=this.__filtered__&&!c?new Tt(this):this.clone();return _.__filtered__?_.__takeCount__=Vr(h,_.__takeCount__):_.__views__.push({size:Vr(h,P),type:o+(_.__dir__<0?"Right":"")}),_},Tt.prototype[o+"Right"]=function(h){return this.reverse()[o](h).reverse()}}),Un(["filter","map","takeWhile"],function(o,c){var h=c+1,_=h==f||h==w;Tt.prototype[o]=function(M){var K=this.clone();return K.__iteratees__.push({iteratee:Ke(M,3),type:h}),K.__filtered__=K.__filtered__||_,K}}),Un(["head","last"],function(o,c){var h="take"+(c?"Right":"");Tt.prototype[o]=function(){return this[h](1).value()[0]}}),Un(["initial","tail"],function(o,c){var h="drop"+(c?"":"Right");Tt.prototype[o]=function(){return this.__filtered__?new Tt(this):this[h](1)}}),Tt.prototype.compact=function(){return this.filter(pn)},Tt.prototype.find=function(o){return this.filter(o).head()},Tt.prototype.findLast=function(o){return this.reverse().find(o)},Tt.prototype.invokeMap=_t(function(o,c){return typeof o=="function"?new Tt(this):this.map(function(h){return fc(h,o,c)})}),Tt.prototype.reject=function(o){return this.filter(yf(Ke(o)))},Tt.prototype.slice=function(o,c){o=mt(o);var h=this;return h.__filtered__&&(o>0||c<0)?new Tt(h):(o<0?h=h.takeRight(-o):o&&(h=h.drop(o)),c!==t&&(c=mt(c),h=c<0?h.dropRight(-c):h.take(c-o)),h)},Tt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Tt.prototype.toArray=function(){return this.take(P)},xi(Tt.prototype,function(o,c){var h=/^(?:filter|find|map|reject)|While$/.test(c),_=/^(?:head|last)$/.test(c),M=j[_?"take"+(c=="last"?"Right":""):c],K=_||/^find/.test(c);M&&(j.prototype[c]=function(){var ee=this.__wrapped__,re=_?[1]:arguments,ae=ee instanceof Tt,de=re[0],ge=ae||ut(ee),ye=function(xt){var Dt=M.apply(j,ys([xt],re));return _&&xe?Dt[0]:Dt};ge&&h&&typeof de=="function"&&de.length!=1&&(ae=ge=!1);var xe=this.__chain__,Ue=!!this.__actions__.length,Je=K&&!xe,vt=ae&&!Ue;if(!K&&ge){ee=vt?ee:new Tt(this);var Ye=o.apply(ee,re);return Ye.__actions__.push({func:df,args:[ye],thisArg:t}),new Hn(Ye,xe)}return Je&&vt?o.apply(this,re):(Ye=this.thru(ye),Je?_?Ye.value()[0]:Ye.value():Ye)})}),Un(["pop","push","shift","sort","splice","unshift"],function(o){var c=Fu[o],h=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",_=/^(?:pop|shift)$/.test(o);j.prototype[o]=function(){var M=arguments;if(_&&!this.__chain__){var K=this.value();return c.apply(ut(K)?K:[],M)}return this[h](function(ee){return c.apply(ut(ee)?ee:[],M)})}}),xi(Tt.prototype,function(o,c){var h=j[c];if(h){var _=h.name+"";Wt.call(ea,_)||(ea[_]=[]),ea[_].push({name:c,func:h})}}),ea[of(t,Y).name]=[{name:"wrapper",func:t}],Tt.prototype.clone=W3,Tt.prototype.reverse=Q3,Tt.prototype.value=J3,j.prototype.at=SI,j.prototype.chain=II,j.prototype.commit=TI,j.prototype.next=CI,j.prototype.plant=OI,j.prototype.reverse=DI,j.prototype.toJSON=j.prototype.valueOf=j.prototype.value=RI,j.prototype.first=j.prototype.head,nc&&(j.prototype[nc]=PI),j},Yo=T3();wr?((wr.exports=Yo)._=Yo,nr._=Yo):Ot._=Yo}).call(Pc)})(L0,L0.exports);var OM=Object.defineProperty,DM=Object.defineProperties,RM=Object.getOwnPropertyDescriptors,U1=Object.getOwnPropertySymbols,MM=Object.prototype.hasOwnProperty,NM=Object.prototype.propertyIsEnumerable,j1=(r,e,t)=>e in r?OM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ef=(r,e)=>{for(var t in e||(e={}))MM.call(e,t)&&j1(r,t,e[t]);if(U1)for(var t of U1(e))NM.call(e,t)&&j1(r,t,e[t]);return r},BM=(r,e)=>DM(r,RM(e));function ti(r,e,t){let n;const i=F0(r);return e.rpcMap&&(n=e.rpcMap[i]),n||(n=`${PM}?chainId=eip155:${i}&projectId=${t}`),n}function F0(r){return r.includes("eip155")?Number(r.split(":")[1]):Number(r)}function $_(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function kM(r,e){const t=Object.keys(e.namespaces).filter(i=>i.includes(r));if(!t.length)return[];const n=[];return t.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function LM(r={},e={}){const t=H1(r),n=H1(e);return L0.exports.merge(t,n)}function H1(r){var e,t,n,i;const s={};if(!Sa(r))return s;for(const[a,u]of Object.entries(r)){const l=Fp(a)?[a]:u.chains,d=u.methods||[],p=u.events||[],v=u.rpcMap||{},x=Rf(a);s[x]=BM(Ef(Ef({},s[x]),u),{chains:Nd(l,(e=s[x])==null?void 0:e.chains),methods:Nd(d,(t=s[x])==null?void 0:t.methods),events:Nd(p,(n=s[x])==null?void 0:n.events),rpcMap:Ef(Ef({},v),(i=s[x])==null?void 0:i.rpcMap)})}return s}function FM(r){return r.includes(":")?r.split(":")[2]:r}function UM(r){const e={};for(const[t,n]of Object.entries(r)){const i=n.methods||[],s=n.events||[],a=n.accounts||[],u=Fp(t)?[t]:n.chains?n.chains:$_(n.accounts);e[t]={chains:u,methods:i,events:s,accounts:a}}return e}const q_={},Sr=r=>q_[r],Vd=(r,e)=>{q_[r]=e};class jM{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=Sr("events"),this.client=Sr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||ti(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit($s.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;e[t]=this.createHttpProvider(t,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||ti(e,this.namespace);return typeof n>"u"?void 0:new Hs(new jo(n,Sr("disableProviderPing")))}}class HM{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=Sr("events"),this.client=Sr("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){const n=F0(e);if(!this.httpProviders[n]){const i=t||ti(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,i)}this.chainId=n,this.events.emit($s.DEFAULT_CHAIN_CHANGED,`${this.name}:${n}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const n=t||ti(`${this.name}:${e}`,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Hs(new jo(n,Sr("disableProviderPing")))}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;const i=F0(t);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,n;let i=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}}class $M{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=Sr("events"),this.client=Sr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const n=t||ti(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit($s.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;e[t]=this.createHttpProvider(t,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||ti(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Hs(new jo(n,Sr("disableProviderPing")))}}class qM{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=Sr("events"),this.client=Sr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||ti(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit($s.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;e[t]=this.createHttpProvider(t,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||ti(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Hs(new jo(n,Sr("disableProviderPing")))}}class GM{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=Sr("events"),this.client=Sr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit($s.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const n=this.getCardanoRPCUrl(t);e[t]=this.createHttpProvider(t,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||this.getCardanoRPCUrl(e);return typeof n>"u"?void 0:new Hs(new jo(n,Sr("disableProviderPing")))}}class zM{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=Sr("events"),this.client=Sr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const n=t||ti(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit($s.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;e[t]=this.createHttpProvider(t,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||ti(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Hs(new jo(n,Sr("disableProviderPing")))}}class VM{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=Sr("events"),this.client=Sr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const n=t||ti(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit($s.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;e[t]=this.createHttpProvider(t,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||ti(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Hs(new jo(n,Sr("disableProviderPing")))}}var KM=Object.defineProperty,WM=Object.defineProperties,QM=Object.getOwnPropertyDescriptors,$1=Object.getOwnPropertySymbols,JM=Object.prototype.hasOwnProperty,YM=Object.prototype.propertyIsEnumerable,q1=(r,e,t)=>e in r?KM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Af=(r,e)=>{for(var t in e||(e={}))JM.call(e,t)&&q1(r,t,e[t]);if($1)for(var t of $1(e))YM.call(e,t)&&q1(r,t,e[t]);return r},Kd=(r,e)=>WM(r,QM(e));class Qp{constructor(e){this.events=new Ip,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Mt.pino(Mt.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||L1})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const t=new Qp(e);return await t.initialize(),t}async request(e,t){const[n,i]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:Af({},e),chainId:`${n}:${i}`,topic:this.session.topic})}sendAsync(e,t,n){this.request(e,n).then(i=>t(null,i)).catch(i=>t(i,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Ar("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:n,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});n&&(this.uri=n,this.events.emit("display_uri",n)),await i().then(s=>{this.session=s,this.namespaces||(this.namespaces=UM(s.namespaces),this.persist("namespaces",this.namespaces))}).catch(s=>{if(s.message!==j_)throw s;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,t)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(Mi(t)){for(const n of t)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await EM.init({logger:this.providerOpts.logger||L1,relayUrl:this.providerOpts.relayUrl||IM,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>Rf(t)))];Vd("client",this.client),Vd("events",this.events),Vd("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const n=kM(t,this.session),i=$_(n),s=LM(this.namespaces,this.optionalNamespaces),a=Kd(Af({},s[t]),{accounts:n,chains:i});switch(t){case"eip155":this.rpcProviders[t]=new HM({namespace:a});break;case"solana":this.rpcProviders[t]=new $M({namespace:a});break;case"cosmos":this.rpcProviders[t]=new qM({namespace:a});break;case"polkadot":this.rpcProviders[t]=new jM({namespace:a});break;case"cip34":this.rpcProviders[t]=new GM({namespace:a});break;case"elrond":this.rpcProviders[t]=new zM({namespace:a});break;case"multiversx":this.rpcProviders[t]=new VM({namespace:a});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{const{params:t}=e,{event:n}=t;if(n.name==="accountsChanged"){const i=n.data;i&&Mi(i)&&this.events.emit("accountsChanged",i.map(FM))}else n.name==="chainChanged"?this.onChainChanged(t.chainId):this.events.emit(n.name,n.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var n;const{namespaces:i}=t,s=(n=this.client)==null?void 0:n.session.get(e);this.session=Kd(Af({},s),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Kd(Af({},Ar("USER_DISCONNECTED")),{data:e.topic}))}),this.on($s.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t,optionalNamespaces:n,sessionProperties:i}=e;t&&Object.keys(t).length&&(this.namespaces=t),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=i,this.persist("namespaces",t),this.persist("optionalNamespaces",n)}validateChain(e){const[t,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,n];if(t&&!Object.keys(this.namespaces||{}).map(a=>Rf(a)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&n)return[t,n];const i=Rf(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){var n;if(!this.namespaces)return;const[i,s]=this.validateChain(e);t||this.getProvider(i).setDefaultChain(s),((n=this.namespaces[i])!=null?n:this.namespaces[`${i}:${s}`]).defaultChain=s,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",s)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${F1}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${F1}/${e}`)}}const XM=Qp,ZM="wc",eN="ethereum_provider",tN=`${ZM}@2:${eN}:`,rN="https://rpc.walletconnect.com/v1/",U0=["eth_sendTransaction","personal_sign"],nN=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],j0=["chainChanged","accountsChanged"],iN=["message","disconnect","connect"];var sN=Object.defineProperty,oN=Object.defineProperties,aN=Object.getOwnPropertyDescriptors,G1=Object.getOwnPropertySymbols,cN=Object.prototype.hasOwnProperty,uN=Object.prototype.propertyIsEnumerable,z1=(r,e,t)=>e in r?sN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Nc=(r,e)=>{for(var t in e||(e={}))cN.call(e,t)&&z1(r,t,e[t]);if(G1)for(var t of G1(e))uN.call(e,t)&&z1(r,t,e[t]);return r},V1=(r,e)=>oN(r,aN(e));function Xf(r){return Number(r[0].split(":")[1])}function Wd(r){return`0x${r.toString(16)}`}function fN(r){const{chains:e,optionalChains:t,methods:n,optionalMethods:i,events:s,optionalEvents:a,rpcMap:u}=r;if(!Mi(e))throw new Error("Invalid chains");const l={chains:e,methods:n||U0,events:s||j0,rpcMap:Nc({},e.length?{[Xf(e)]:u[Xf(e)]}:{})},d=s==null?void 0:s.filter(S=>!j0.includes(S)),p=n==null?void 0:n.filter(S=>!U0.includes(S));if(!t&&!a&&!i&&!(d!=null&&d.length)&&!(p!=null&&p.length))return{required:e.length?l:void 0};const v=(d==null?void 0:d.length)&&(p==null?void 0:p.length)||!t,x={chains:[...new Set(v?l.chains.concat(t||[]):t)],methods:[...new Set(l.methods.concat(i!=null&&i.length?i:nN))],events:[...new Set(l.events.concat(a||iN))],rpcMap:u};return{required:e.length?l:void 0,optional:t.length?x:void 0}}class Jp{constructor(){this.events=new Yr.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=tN,this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){const t=new Jp;return await t.initialize(e),t}async request(e){return await this.signer.request(e,this.formatChainId(this.chainId))}sendAsync(e,t){this.signer.sendAsync(e,t,this.formatChainId(this.chainId))}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:t,optional:n}=fN(this.rpc);try{const i=await new Promise(async(a,u)=>{var l;this.rpc.showQrModal&&((l=this.modal)==null||l.subscribeModal(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),u(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(V1(Nc({namespaces:Nc({},t&&{[this.namespace]:t})},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:e==null?void 0:e.pairingTopic})).then(d=>{a(d)}).catch(d=>{u(new Error(d.message))})});if(!i)return;this.setChainIds(this.rpc.chains);const s=pP(i.namespaces,[this.namespace]);this.setAccounts(s),this.events.emit("connect",{chainId:Wd(this.chainId)})}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:t}=e,{event:n}=t;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",Wd(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",V1(Nc({},Ar("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,n;this.rpc.showQrModal&&((t=this.modal)==null||t.closeModal(),(n=this.modal)==null||n.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",Wd(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,n,i]=e.split(":");return{chainId:`${t}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,n;const i=(t=e==null?void 0:e.chains)!=null?t:[],s=(n=e==null?void 0:e.optionalChains)!=null?n:[],a=i.concat(s);if(!a.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const u=i.length?(e==null?void 0:e.methods)||U0:[],l=i.length?(e==null?void 0:e.events)||j0:[],d=(e==null?void 0:e.optionalMethods)||[],p=(e==null?void 0:e.optionalEvents)||[],v=(e==null?void 0:e.rpcMap)||this.buildRpcMap(a,e.projectId),x=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(S=>this.formatChainId(S)),optionalChains:s.map(S=>this.formatChainId(S)),methods:u,events:l,optionalMethods:d,optionalEvents:p,rpcMap:v,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:x,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,t)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?Xf(this.rpc.chains):Xf(this.rpc.optionalChains),this.signer=await XM.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{const{WalletConnectModal:n}=await L8(()=>import("./index-56cbd1b4.js").then(i=>i.i),[]);t=n}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(Nc({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:n,rpcMap:i}=e;t&&Mi(t)&&(this.rpc.chains=t.map(s=>this.formatChainId(s)),t.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),n&&Mi(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n==null?void 0:n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,t){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${rN}?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t==null?void 0:t.accounts),this.setAccounts(t==null?void 0:t.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(t=>this.parseAccount(t))}}const lN=Jp,hN=100,dN=101,pN=201,gN=202,mN=203,yN=204,vN=205,bN=206,wN=207,_N=300,EN=301,AN=310,xN=311,SN=400,IN=402,TN=405,CN=407,PN=408,ON=410,DN=411,RN=412,MN=413,NN=414,BN=415,kN=416,LN=417,FN=418,UN=419,jN=420,HN=421,$N=422,qN=423,GN=424,zN=425,VN=426,KN=427,WN=428,QN=429,JN=430,YN=431,XN=432,ZN=433,eB=434,tB=435,rB=436,nB=437,iB=438,sB=439,oB=500,aB=503,cB=505,uB=506,fB=507,lB=600,hB=602,dB=603,pB=604,gB=701,mB=702,yB=703,vB=704,bB=705,wB=706,_B=707,EB=709,AB=801,xB=802,SB=902,IB=903,TB=1001,CB=1002,PB=1003,OB=1004,DB=1005,RB=1006,MB=1008,NB=1009,BB=1010,kB=1011,LB=1012,FB=1014,UB=1100,G_=1101,z_=-32700,V_=-32600,K_=-32601,W_=-32602,Q_=-32603,J_=-32e3,Y_=-32001,X_=-32002,Z_=-32003,eE=-32004,tE=-32005,rE=-32006;class yt extends Error{constructor(e,t){super(e),this.innerError=t,this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(new.target.constructor):this.stack=new Error().stack}static convertToString(e,t=!1){if(e==null)return"undefined";const n=JSON.stringify(e,(i,s)=>typeof s=="bigint"?s.toString():s);return t&&["bigint","string"].includes(typeof e)?n.replace(/['\\"]+/g,""):n}toJSON(){return{name:this.name,code:this.code,message:this.message,innerError:this.innerError}}}class At extends yt{constructor(e,t){super(`Invalid value given "${yt.convertToString(e,!0)}". Error: ${t}.`),this.name=this.constructor.name}}class K1 extends yt{constructor(){super("Private key must be 32 bytes."),this.code=gB}}class jB extends yt{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=mB}}class HB extends yt{constructor(e){super(`"${e}"`),this.code=xB}}class nE extends yt{constructor(){super("Invalid key derivation function"),this.code=yB}}class $B extends yt{constructor(){super("Key derivation failed - possibly wrong password"),this.code=vB}}class qB extends yt{constructor(){super("Unsupported key store version"),this.code=bB}}class GB extends yt{constructor(){super("Password cannot be empty"),this.code=wB}}class zB extends yt{constructor(){super("Initialization vector must be 16 bytes"),this.code=_B}}class VB extends yt{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=EB}}class hu extends yt{constructor(e,t){super(e),this.code=oB,t&&(this.errorCode=t.code,this.errorReason=t.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class H0 extends hu{constructor(e){super("Connection not open",e),this.code=aB}}class KB extends hu{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=cB}}class WB extends hu{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=uB}}class QB extends hu{constructor(e){super(`Request already sent with following id: ${e}`),this.code=fB}}class Cn extends yt{constructor(e,t){super(e),this.code=_N,this.receipt=t}}class W1 extends yt{constructor(e,t){super(`The resolver at ${e} does not implement requested method: "${t}".`),this.address=e,this.name=t,this.code=EN}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class $l extends Cn{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,typeof e.data=="object"){let t;"originalError"in e.data?t=e.data.originalError:t=e.data,this.data=t.data,this.innerError=new $l(t)}else this.data=e.data}setDecodedProperties(e,t,n){this.errorName=e,this.errorSignature=t,this.errorArgs=n}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class is extends Cn{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=AN,this.innerError=new $l(e)}}class JB extends At{constructor(e){var t,n;super(`data: ${(t=e.data)!==null&&t!==void 0?t:"undefined"}, input: ${(n=e.input)!==null&&n!==void 0?n:"undefined"}`,`You can't have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.`),this.code=xN}}class YB extends yt{constructor(e){super(`ENS is not supported on network ${e}`),this.code=SB}}class XB extends yt{constructor(){super("Network not synced"),this.code=IB}}class Q1 extends yt{constructor(e){super(`Invalid parameters passed. "${typeof e<"u"?e:""}"`),this.hint=e,this.code=wN}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class $0 extends yt{constructor(){super(...arguments),this.code=pN}}class Ki extends yt{constructor(){super("The method you're trying to call is not implemented."),this.code=gN}}class iE extends yt{constructor(){super(...arguments),this.code=mN}}class ZB extends yt{constructor(){super(...arguments),this.code=yN}}class Fs extends yt{constructor(){super(...arguments),this.code=vN}}class ek extends yt{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=bN}}class Nf extends yt{constructor(){super(...arguments),this.code=lB}}class q0 extends yt{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=hB}}class di extends yt{constructor(){super(...arguments),this.code=dB}}class tk extends yt{constructor(){super(...arguments),this.code=pB}}class rk extends At{constructor(){super(...arguments),this.code=AB}}class Yp extends yt{constructor(e,t){super(e),this.receipt=t,this.code=SN}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class Vc extends yt{constructor(e,t,n,i){super(`Transaction has been reverted by the EVM${n===void 0?"":`:
 ${yt.convertToString(n)}`}`),this.reason=e,this.signature=t,this.receipt=n,this.data=i,this.code=IN}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class Xp extends Vc{constructor(e,t,n,i,s,a,u){super(e),this.reason=e,this.customErrorName=t,this.customErrorDecodedSignature=n,this.customErrorArguments=i,this.signature=s,this.receipt=a,this.data=u,this.code=iB}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class Zp extends Yp{constructor(e){super(`Transaction has been reverted by the EVM${e===void 0?"":`:
 ${yt.convertToString(e)}`}`,e),this.code=TN}}class nk extends Yp{constructor(){super("Raw transaction undefined"),this.code=CN}}class J1 extends Yp{constructor(){super("Transaction not found"),this.code=JN}}class ik extends At{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=PN}}class sk extends At{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=nB}}class ok extends At{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=ON}}class ak extends At{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=DN}}class ck extends At{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=RN}}class uk extends At{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=tB}}class fk extends At{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=rB}}class lk extends At{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=MN}}class hk extends At{constructor(e){var t,n;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${(t=e.chain)!==null&&t!==void 0?t:"undefined"}, "hardfork": ${(n=e.hardfork)!==null&&n!==void 0?n:"undefined"}`),this.code=NN}}class dk extends At{constructor(e){var t,n,i,s;super(`gas: ${(t=e.gas)!==null&&t!==void 0?t:"undefined"}, gasPrice: ${(n=e.gasPrice)!==null&&n!==void 0?n:"undefined"}, maxPriorityFeePerGas: ${(i=e.maxPriorityFeePerGas)!==null&&i!==void 0?i:"undefined"}, maxFeePerGas: ${(s=e.maxFeePerGas)!==null&&s!==void 0?s:"undefined"}`,'"gas" is missing'),this.code=BN}}class pk extends At{constructor(e){var t,n,i,s;super(`gas: ${(t=e.gas)!==null&&t!==void 0?t:"undefined"}, gasPrice: ${(n=e.gasPrice)!==null&&n!==void 0?n:"undefined"}, maxPriorityFeePerGas: ${(i=e.maxPriorityFeePerGas)!==null&&i!==void 0?i:"undefined"}, maxFeePerGas: ${(s=e.maxFeePerGas)!==null&&s!==void 0?s:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=eB}}class gk extends At{constructor(e){var t,n;super(`gas: ${(t=e.gas)!==null&&t!==void 0?t:"undefined"}, gasPrice: ${(n=e.gasPrice)!==null&&n!==void 0?n:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=kN}}class mk extends At{constructor(e){var t,n;super(`maxPriorityFeePerGas: ${(t=e.maxPriorityFeePerGas)!==null&&t!==void 0?t:"undefined"}, maxFeePerGas: ${(n=e.maxFeePerGas)!==null&&n!==void 0?n:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=LN}}class yk extends At{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=FN}}class sE extends At{constructor(e){var t,n;super(`maxPriorityFeePerGas: ${(t=e.maxPriorityFeePerGas)!==null&&t!==void 0?t:"undefined"}, maxFeePerGas: ${(n=e.maxFeePerGas)!==null&&n!==void 0?n:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=UN}}class vk extends At{constructor(e){super(e,"invalid transaction object"),this.code=jN}}class bk extends At{constructor(e){var t,n;super(`nonce: ${(t=e.nonce)!==null&&t!==void 0?t:"undefined"}, chainId: ${(n=e.chainId)!==null&&n!==void 0?n:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=HN}}class wk extends At{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=$N}}class _k extends At{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=qN}}class Y1 extends At{constructor(e){super(e,"unsupported transaction type"),this.code=GN}}class oE extends At{constructor(e){var t,n;super(`data: ${(t=e.data)!==null&&t!==void 0?t:"undefined"}, input: ${(n=e.input)!==null&&n!==void 0?n:"undefined"}`,`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`),this.code=zN}}class Ek extends yt{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!
	Transaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=YN}}function aE(r){return`Please make sure your transaction was properly sent and there no pervious pending transaction for the same account. However, be aware that it might still be mined!
	Transaction Hash: ${r?r.toString():"not available"}`}class Ak extends yt{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${aE(e.transactionHash)}`),this.code=VN}}class cE extends yt{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${aE(e.transactionHash)}`),this.code=XN}}class xk extends At{constructor(e){var t,n;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${(t=e.blockHash)===null||t===void 0?void 0:t.toString()}, transactionHash: ${(n=e.transactionHash)===null||n===void 0?void 0:n.toString()}`,"Receipt missing or blockHash null"),this.code=KN}}class Sk extends At{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=WN}}class G0 extends yt{constructor(e){super(`Invalid signature. "${e}"`),this.code=ZN}}class X1 extends At{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=QN}}class Ik extends yt{constructor(e,t){const n=[];e.forEach(i=>n.push(i.keyword.match(/data.(.+)/)[1])),super(`The following properties are invalid for the transaction type ${t}: ${n.join(", ")}`),this.code=sB}}class Uc extends At{constructor(e){super(e,"can not parse as byte data"),this.code=CB}}class eg extends At{constructor(e){super(e,"can not parse as number data"),this.code=PB}}class tg extends At{constructor(e){super(e,"invalid ethereum address"),this.code=DB}}class Tk extends At{constructor(e){super(e,"not a valid string"),this.code=TB}}class uE extends At{constructor(e){super(e,"invalid unit"),this.code=OB}}class Ck extends At{constructor(e){super(e,"can not be converted to hex"),this.code=RB}}class fE extends At{constructor(e){super(e,"value greater than the nibble width"),this.code=FB}}class Pk extends At{constructor(e){super(e,"not a valid boolean."),this.code=MB}}class Ok extends At{constructor(e){super(e,"not a valid unsigned integer."),this.code=NB}}class Z1 extends At{constructor(e){super(e,"invalid size given."),this.code=BB}}class eb extends At{constructor(e){super(e,"value is larger than size."),this.code=kB}}class Dk extends At{constructor(e){super(e,"invalid string given"),this.code=LB}}const Rk=r=>!Array.isArray(r)&&r.jsonrpc==="2.0"&&!!r&&(r.result===void 0||r.result===null)&&"error"in r&&(typeof r.id=="number"||typeof r.id=="string"),tb=r=>Rk(r)?r.error.message:"";class Xi extends yt{constructor(e,t,n){var i;super(t??`Returned error: ${Array.isArray(e)?e.map(s=>tb(s)).join(","):tb(e)}`),this.code=hN,t||(this.data=Array.isArray(e)?e.map(s=>{var a;return(a=s.error)===null||a===void 0?void 0:a.data}):(i=e==null?void 0:e.error)===null||i===void 0?void 0:i.data),this.request=n}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request})}}class Da extends Xi{constructor(e,t){super(e,void 0,t),this.code=dN;let n;"error"in e?n=e.error:e instanceof Array&&(n=e.map(i=>i.error)),this.innerError=n}}class rb extends yt{constructor(e,t){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${t}`),this.code=G_}}class nb extends yt{constructor(e,t){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${t}`),this.code=G_}}class Mn extends yt{constructor(e,t){super(t??`An Rpc error has occured with a code of ${e.error.code}`),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class Mk extends Mn{constructor(e){super(e,"Parse error"),this.code=z_}}class Nk extends Mn{constructor(e){super(e,"Invalid request"),this.code=V_}}class Bk extends Mn{constructor(e){super(e,"Method not found"),this.code=K_}}class kk extends Mn{constructor(e){super(e,"Invalid request"),this.code=W_}}class Lk extends Mn{constructor(e){super(e,"Internal error"),this.code=Q_}}class Fk extends Mn{constructor(e){super(e,"Invalid input"),this.code=J_}}class Uk extends Mn{constructor(e){super(e,"Method not supported"),this.code=eE}}class jk extends Mn{constructor(e){super(e,"Resource unavailable"),this.code=X_}}class Hk extends Mn{constructor(e){super(e,"Resource not found"),this.code=Y_}}class $k extends Mn{constructor(e){super(e,"JSON-RPC version not supported"),this.code=rE}}class qk extends Mn{constructor(e){super(e,"Transaction rejected"),this.code=Z_}}class Gk extends Mn{constructor(e){super(e,"Limit exceeded"),this.code=tE}}const un=new Map;un.set(z_,{error:Mk});un.set(V_,{error:Nk});un.set(K_,{error:Bk});un.set(W_,{error:kk});un.set(Q_,{error:Lk});un.set(J_,{error:Fk});un.set(eE,{error:Uk});un.set(X_,{error:jk});un.set(Z_,{error:qk});un.set(Y_,{error:Hk});un.set(rE,{error:$k});un.set(tE,{error:Gk});function z0(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function zk(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function lE(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function Vk(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");z0(r.outputLen),z0(r.blockLen)}function Kk(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Wk(r,e){lE(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Ut={number:z0,bool:zk,bytes:lE,hash:Vk,exists:Kk,output:Wk},xf=BigInt(2**32-1),V0=BigInt(32);function hE(r,e=!1){return e?{h:Number(r&xf),l:Number(r>>V0&xf)}:{h:Number(r>>V0&xf)|0,l:Number(r&xf)|0}}function Qk(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){const{h:s,l:a}=hE(r[i],e);[t[i],n[i]]=[s,a]}return[t,n]}const Jk=(r,e)=>BigInt(r>>>0)<<V0|BigInt(e>>>0),Yk=(r,e,t)=>r>>>t,Xk=(r,e,t)=>r<<32-t|e>>>t,Zk=(r,e,t)=>r>>>t|e<<32-t,e9=(r,e,t)=>r<<32-t|e>>>t,t9=(r,e,t)=>r<<64-t|e>>>t-32,r9=(r,e,t)=>r>>>t-32|e<<64-t,n9=(r,e)=>e,i9=(r,e)=>r,s9=(r,e,t)=>r<<t|e>>>32-t,o9=(r,e,t)=>e<<t|r>>>32-t,a9=(r,e,t)=>e<<t-32|r>>>64-t,c9=(r,e,t)=>r<<t-32|e>>>64-t;function u9(r,e,t,n){const i=(e>>>0)+(n>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}const f9=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),l9=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,h9=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),d9=(r,e,t,n,i)=>e+t+n+i+(r/2**32|0)|0,p9=(r,e,t,n,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0),g9=(r,e,t,n,i,s)=>e+t+n+i+s+(r/2**32|0)|0,je={fromBig:hE,split:Qk,toBig:Jk,shrSH:Yk,shrSL:Xk,rotrSH:Zk,rotrSL:e9,rotrBH:t9,rotrBL:r9,rotr32H:n9,rotr32L:i9,rotlSH:s9,rotlSL:o9,rotlBH:a9,rotlBL:c9,add:u9,add3L:f9,add3H:l9,add4L:h9,add4H:d9,add5H:g9,add5L:p9},Bf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rg=r=>r instanceof Uint8Array,Bs=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),kf=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Pi=(r,e)=>r<<32-e|r>>>e,m9=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!m9)throw new Error("Non little-endian hardware is not supported");const y9=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function v9(r){if(!rg(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=y9[r[t]];return e}function Ro(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function ei(r){if(typeof r=="string"&&(r=Ro(r)),!rg(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function Zf(...r){const e=new Uint8Array(r.reduce((n,i)=>n+i.length,0));let t=0;return r.forEach(n=>{if(!rg(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}class ql{clone(){return this._cloneInto()}}const b9=r=>Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object;function dE(r,e){if(e!==void 0&&(typeof e!="object"||!b9(e)))throw new Error("Options should be object or undefined");return Object.assign(r,e)}function Ho(r){const e=n=>r().update(ei(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function w9(r){const e=(n,i)=>r(i).update(ei(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function _9(r){const e=(n,i)=>r(i).update(ei(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function pE(r=32){if(Bf&&typeof Bf.getRandomValues=="function")return Bf.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}const[gE,mE,yE]=[[],[],[]],E9=BigInt(0),Oc=BigInt(1),A9=BigInt(2),x9=BigInt(7),S9=BigInt(256),I9=BigInt(113);for(let r=0,e=Oc,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],gE.push(2*(5*n+t)),mE.push((r+1)*(r+2)/2%64);let i=E9;for(let s=0;s<7;s++)e=(e<<Oc^(e>>x9)*I9)%S9,e&A9&&(i^=Oc<<(Oc<<BigInt(s))-Oc);yE.push(i)}const[T9,C9]=je.split(yE,!0),ib=(r,e,t)=>t>32?je.rotlBH(r,e,t):je.rotlSH(r,e,t),sb=(r,e,t)=>t>32?je.rotlBL(r,e,t):je.rotlSL(r,e,t);function P9(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)t[a]=r[a]^r[a+10]^r[a+20]^r[a+30]^r[a+40];for(let a=0;a<10;a+=2){const u=(a+8)%10,l=(a+2)%10,d=t[l],p=t[l+1],v=ib(d,p,1)^t[u],x=sb(d,p,1)^t[u+1];for(let S=0;S<50;S+=10)r[a+S]^=v,r[a+S+1]^=x}let i=r[2],s=r[3];for(let a=0;a<24;a++){const u=mE[a],l=ib(i,s,u),d=sb(i,s,u),p=gE[a];i=r[p],s=r[p+1],r[p]=l,r[p+1]=d}for(let a=0;a<50;a+=10){for(let u=0;u<10;u++)t[u]=r[a+u];for(let u=0;u<10;u++)r[a+u]^=~t[(u+2)%10]&t[(u+4)%10]}r[0]^=T9[n],r[1]^=C9[n]}t.fill(0)}class Gl extends ql{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ut.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Bs(this.state)}keccak(){P9(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ut.exists(this);const{blockLen:t,state:n}=this;e=ei(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(t-this.pos,i-s);for(let u=0;u<a;u++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,t&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ut.exists(this,!1),Ut.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ut.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ut.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new Gl(t,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const qs=(r,e,t)=>Ho(()=>new Gl(e,r,t));qs(6,144,224/8);qs(6,136,256/8);qs(6,104,384/8);qs(6,72,512/8);qs(1,144,224/8);const ob=qs(1,136,256/8);qs(1,104,384/8);qs(1,72,512/8);const vE=(r,e,t)=>_9((n={})=>new Gl(e,r,n.dkLen===void 0?t:n.dkLen,!0));vE(31,168,128/8);vE(31,136,256/8);const Kc=Ut.bytes;function bE(r){if(!(r instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof r}`);return new TextDecoder().decode(r)}function O9(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function D9(r){return e=>(Ut.bytes(e),r(e))}(()=>{const r=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!r?e("crypto"):void 0,web:r}})();const Jr=(()=>{const r=D9(ob);return r.create=ob.create,r})(),R9=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class M9 extends ql{constructor(e,t,n={},i,s,a){if(super(),this.blockLen=e,this.outputLen=t,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,Ut.number(e),Ut.number(t),Ut.number(i),t<0||t>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==s)throw new Error(`salt must be ${s} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==a)throw new Error(`personalization must be ${a} byte long or undefined`);this.buffer32=Bs(this.buffer=new Uint8Array(e))}update(e){Ut.exists(this);const{blockLen:t,buffer:n,buffer32:i}=this;e=ei(e);const s=e.length,a=e.byteOffset,u=e.buffer;for(let l=0;l<s;){this.pos===t&&(this.compress(i,0,!1),this.pos=0);const d=Math.min(t-this.pos,s-l),p=a+l;if(d===t&&!(p%4)&&l+d<s){const v=new Uint32Array(u,p,Math.floor((s-l)/4));for(let x=0;l+t<s;x+=i.length,l+=t)this.length+=t,this.compress(v,x,!1);continue}n.set(e.subarray(l,l+d),this.pos),this.pos+=d,this.length+=d,l+=d}return this}digestInto(e){Ut.exists(this),Ut.output(e,this);const{pos:t,buffer32:n}=this;this.finished=!0,this.buffer.subarray(t).fill(0),this.compress(n,0,!0);const i=Bs(e);this.get().forEach((s,a)=>i[a]=s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){const{buffer:t,length:n,finished:i,destroyed:s,outputLen:a,pos:u}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=s,e.outputLen=a,e.buffer.set(t),e.pos=u,e}}const Mr=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ie=new Uint32Array(32);function Ss(r,e,t,n,i,s){const a=i[s],u=i[s+1];let l=Ie[2*r],d=Ie[2*r+1],p=Ie[2*e],v=Ie[2*e+1],x=Ie[2*t],S=Ie[2*t+1],C=Ie[2*n],B=Ie[2*n+1],$=je.add3L(l,p,a);d=je.add3H($,d,v,u),l=$|0,{Dh:B,Dl:C}={Dh:B^d,Dl:C^l},{Dh:B,Dl:C}={Dh:je.rotr32H(B,C),Dl:je.rotr32L(B,C)},{h:S,l:x}=je.add(S,x,B,C),{Bh:v,Bl:p}={Bh:v^S,Bl:p^x},{Bh:v,Bl:p}={Bh:je.rotrSH(v,p,24),Bl:je.rotrSL(v,p,24)},Ie[2*r]=l,Ie[2*r+1]=d,Ie[2*e]=p,Ie[2*e+1]=v,Ie[2*t]=x,Ie[2*t+1]=S,Ie[2*n]=C,Ie[2*n+1]=B}function Is(r,e,t,n,i,s){const a=i[s],u=i[s+1];let l=Ie[2*r],d=Ie[2*r+1],p=Ie[2*e],v=Ie[2*e+1],x=Ie[2*t],S=Ie[2*t+1],C=Ie[2*n],B=Ie[2*n+1],$=je.add3L(l,p,a);d=je.add3H($,d,v,u),l=$|0,{Dh:B,Dl:C}={Dh:B^d,Dl:C^l},{Dh:B,Dl:C}={Dh:je.rotrSH(B,C,16),Dl:je.rotrSL(B,C,16)},{h:S,l:x}=je.add(S,x,B,C),{Bh:v,Bl:p}={Bh:v^S,Bl:p^x},{Bh:v,Bl:p}={Bh:je.rotrBH(v,p,63),Bl:je.rotrBL(v,p,63)},Ie[2*r]=l,Ie[2*r+1]=d,Ie[2*e]=p,Ie[2*e+1]=v,Ie[2*t]=x,Ie[2*t+1]=S,Ie[2*n]=C,Ie[2*n+1]=B}class N9 extends M9{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=Mr[0]|0,this.v0h=Mr[1]|0,this.v1l=Mr[2]|0,this.v1h=Mr[3]|0,this.v2l=Mr[4]|0,this.v2h=Mr[5]|0,this.v3l=Mr[6]|0,this.v3h=Mr[7]|0,this.v4l=Mr[8]|0,this.v4h=Mr[9]|0,this.v5l=Mr[10]|0,this.v5h=Mr[11]|0,this.v6l=Mr[12]|0,this.v6h=Mr[13]|0,this.v7l=Mr[14]|0,this.v7h=Mr[15]|0;const t=e.key?e.key.length:0;if(this.v0l^=this.outputLen|t<<8|65536|1<<24,e.salt){const n=Bs(ei(e.salt));this.v4l^=n[0],this.v4h^=n[1],this.v5l^=n[2],this.v5h^=n[3]}if(e.personalization){const n=Bs(ei(e.personalization));this.v6l^=n[0],this.v6h^=n[1],this.v7l^=n[2],this.v7h^=n[3]}if(e.key){const n=new Uint8Array(this.blockLen);n.set(ei(e.key)),this.update(n)}}get(){let{v0l:e,v0h:t,v1l:n,v1h:i,v2l:s,v2h:a,v3l:u,v3h:l,v4l:d,v4h:p,v5l:v,v5h:x,v6l:S,v6h:C,v7l:B,v7h:$}=this;return[e,t,n,i,s,a,u,l,d,p,v,x,S,C,B,$]}set(e,t,n,i,s,a,u,l,d,p,v,x,S,C,B,$){this.v0l=e|0,this.v0h=t|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=a|0,this.v3l=u|0,this.v3h=l|0,this.v4l=d|0,this.v4h=p|0,this.v5l=v|0,this.v5h=x|0,this.v6l=S|0,this.v6h=C|0,this.v7l=B|0,this.v7h=$|0}compress(e,t,n){this.get().forEach((l,d)=>Ie[d]=l),Ie.set(Mr,16);let{h:i,l:s}=je.fromBig(BigInt(this.length));Ie[24]=Mr[8]^s,Ie[25]=Mr[9]^i,n&&(Ie[28]=~Ie[28],Ie[29]=~Ie[29]);let a=0;const u=R9;for(let l=0;l<12;l++)Ss(0,4,8,12,e,t+2*u[a++]),Is(0,4,8,12,e,t+2*u[a++]),Ss(1,5,9,13,e,t+2*u[a++]),Is(1,5,9,13,e,t+2*u[a++]),Ss(2,6,10,14,e,t+2*u[a++]),Is(2,6,10,14,e,t+2*u[a++]),Ss(3,7,11,15,e,t+2*u[a++]),Is(3,7,11,15,e,t+2*u[a++]),Ss(0,5,10,15,e,t+2*u[a++]),Is(0,5,10,15,e,t+2*u[a++]),Ss(1,6,11,12,e,t+2*u[a++]),Is(1,6,11,12,e,t+2*u[a++]),Ss(2,7,8,13,e,t+2*u[a++]),Is(2,7,8,13,e,t+2*u[a++]),Ss(3,4,9,14,e,t+2*u[a++]),Is(3,4,9,14,e,t+2*u[a++]);this.v0l^=Ie[0]^Ie[16],this.v0h^=Ie[1]^Ie[17],this.v1l^=Ie[2]^Ie[18],this.v1h^=Ie[3]^Ie[19],this.v2l^=Ie[4]^Ie[20],this.v2h^=Ie[5]^Ie[21],this.v3l^=Ie[6]^Ie[22],this.v3h^=Ie[7]^Ie[23],this.v4l^=Ie[8]^Ie[24],this.v4h^=Ie[9]^Ie[25],this.v5l^=Ie[10]^Ie[26],this.v5h^=Ie[11]^Ie[27],this.v6l^=Ie[12]^Ie[28],this.v6h^=Ie[13]^Ie[29],this.v7l^=Ie[14]^Ie[30],this.v7h^=Ie[15]^Ie[31],Ie.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const B9=w9(r=>new N9(r)),k9=(r,e=64)=>{if(Kc(r),e<=0||e>64)throw Error("Invalid outputLength");return B9(r,{dkLen:e})};var ng={exports:{}};function L9(r){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(r)}var wE=L9,ig=wE,sg=function(r,e){return ig(e)?r+"."+e:r+"["+JSON.stringify(e)+"]"};sg.valid=ig;sg.property=function(r){return ig(r)?r:JSON.stringify(r)};var F9=sg,_E={},EE={},AE=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==i||a.enumerable!==!0)return!1}return!0},U9=AE,og=function(){return U9()&&!!Symbol.toStringTag},ab=typeof Symbol<"u"&&Symbol,j9=AE,H9=function(){return typeof ab!="function"||typeof Symbol!="function"||typeof ab("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:j9()},cb={foo:{}},$9=Object,q9=function(){return{__proto__:cb}.foo===cb.foo&&!({__proto__:null}instanceof $9)},G9="Function.prototype.bind called on incompatible ",Qd=Array.prototype.slice,z9=Object.prototype.toString,V9="[object Function]",K9=function(e){var t=this;if(typeof t!="function"||z9.call(t)!==V9)throw new TypeError(G9+t);for(var n=Qd.call(arguments,1),i,s=function(){if(this instanceof i){var p=t.apply(this,n.concat(Qd.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,n.concat(Qd.call(arguments)))},a=Math.max(0,t.length-n.length),u=[],l=0;l<a;l++)u.push("$"+l);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var d=function(){};d.prototype=t.prototype,i.prototype=new d,d.prototype=null}return i},W9=K9,ag=Function.prototype.bind||W9,Q9=ag,J9=Q9.call(Function.call,Object.prototype.hasOwnProperty),Pt,Ra=SyntaxError,xE=Function,Ia=TypeError,Jd=function(r){try{return xE('"use strict"; return ('+r+").constructor;")()}catch{}},To=Object.getOwnPropertyDescriptor;if(To)try{To({},"")}catch{To=null}var Yd=function(){throw new Ia},Y9=To?function(){try{return arguments.callee,Yd}catch{try{return To(arguments,"callee").get}catch{return Yd}}}():Yd,ca=H9(),X9=q9(),Lr=Object.getPrototypeOf||(X9?function(r){return r.__proto__}:null),ma={},Z9=typeof Uint8Array>"u"||!Lr?Pt:Lr(Uint8Array),Co={"%AggregateError%":typeof AggregateError>"u"?Pt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Pt:ArrayBuffer,"%ArrayIteratorPrototype%":ca&&Lr?Lr([][Symbol.iterator]()):Pt,"%AsyncFromSyncIteratorPrototype%":Pt,"%AsyncFunction%":ma,"%AsyncGenerator%":ma,"%AsyncGeneratorFunction%":ma,"%AsyncIteratorPrototype%":ma,"%Atomics%":typeof Atomics>"u"?Pt:Atomics,"%BigInt%":typeof BigInt>"u"?Pt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Pt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Pt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Pt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Pt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Pt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Pt:FinalizationRegistry,"%Function%":xE,"%GeneratorFunction%":ma,"%Int8Array%":typeof Int8Array>"u"?Pt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Pt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Pt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ca&&Lr?Lr(Lr([][Symbol.iterator]())):Pt,"%JSON%":typeof JSON=="object"?JSON:Pt,"%Map%":typeof Map>"u"?Pt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ca||!Lr?Pt:Lr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Pt:Promise,"%Proxy%":typeof Proxy>"u"?Pt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Pt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Pt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ca||!Lr?Pt:Lr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Pt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ca&&Lr?Lr(""[Symbol.iterator]()):Pt,"%Symbol%":ca?Symbol:Pt,"%SyntaxError%":Ra,"%ThrowTypeError%":Y9,"%TypedArray%":Z9,"%TypeError%":Ia,"%Uint8Array%":typeof Uint8Array>"u"?Pt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Pt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Pt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Pt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Pt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Pt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Pt:WeakSet};if(Lr)try{null.error}catch(r){var eL=Lr(Lr(r));Co["%Error.prototype%"]=eL}var tL=function r(e){var t;if(e==="%AsyncFunction%")t=Jd("async function () {}");else if(e==="%GeneratorFunction%")t=Jd("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Jd("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&Lr&&(t=Lr(i.prototype))}return Co[e]=t,t},ub={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},du=ag,el=J9,rL=du.call(Function.call,Array.prototype.concat),nL=du.call(Function.apply,Array.prototype.splice),fb=du.call(Function.call,String.prototype.replace),tl=du.call(Function.call,String.prototype.slice),iL=du.call(Function.call,RegExp.prototype.exec),sL=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,oL=/\\(\\)?/g,aL=function(e){var t=tl(e,0,1),n=tl(e,-1);if(t==="%"&&n!=="%")throw new Ra("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Ra("invalid intrinsic syntax, expected opening `%`");var i=[];return fb(e,sL,function(s,a,u,l){i[i.length]=u?fb(l,oL,"$1"):a||s}),i},cL=function(e,t){var n=e,i;if(el(ub,n)&&(i=ub[n],n="%"+i[0]+"%"),el(Co,n)){var s=Co[n];if(s===ma&&(s=tL(n)),typeof s>"u"&&!t)throw new Ia("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Ra("intrinsic "+e+" does not exist!")},cg=function(e,t){if(typeof e!="string"||e.length===0)throw new Ia("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Ia('"allowMissing" argument must be a boolean');if(iL(/^%?[^%]*%?$/,e)===null)throw new Ra("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=aL(e),i=n.length>0?n[0]:"",s=cL("%"+i+"%",t),a=s.name,u=s.value,l=!1,d=s.alias;d&&(i=d[0],nL(n,rL([0,1],d)));for(var p=1,v=!0;p<n.length;p+=1){var x=n[p],S=tl(x,0,1),C=tl(x,-1);if((S==='"'||S==="'"||S==="`"||C==='"'||C==="'"||C==="`")&&S!==C)throw new Ra("property names with quotes must have matching quotes");if((x==="constructor"||!v)&&(l=!0),i+="."+x,a="%"+i+"%",el(Co,a))u=Co[a];else if(u!=null){if(!(x in u)){if(!t)throw new Ia("base intrinsic for "+e+" exists, but the property is not available.");return}if(To&&p+1>=n.length){var B=To(u,x);v=!!B,v&&"get"in B&&!("originalValue"in B.get)?u=B.get:u=u[x]}else v=el(u,x),u=u[x];v&&!l&&(Co[a]=u)}}return u},SE={exports:{}};(function(r){var e=ag,t=cg,n=t("%Function.prototype.apply%"),i=t("%Function.prototype.call%"),s=t("%Reflect.apply%",!0)||e.call(i,n),a=t("%Object.getOwnPropertyDescriptor%",!0),u=t("%Object.defineProperty%",!0),l=t("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}r.exports=function(v){var x=s(e,i,arguments);if(a&&u){var S=a(x,"length");S.configurable&&u(x,"length",{value:1+l(0,v.length-(arguments.length-1))})}return x};var d=function(){return s(e,n,arguments)};u?u(r.exports,"apply",{value:d}):r.exports.apply=d})(SE);var IE=SE.exports,TE=cg,CE=IE,uL=CE(TE("String.prototype.indexOf")),PE=function(e,t){var n=TE(e,!!t);return typeof n=="function"&&uL(e,".prototype.")>-1?CE(n):n},fL=og(),lL=PE,K0=lL("Object.prototype.toString"),zl=function(e){return fL&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:K0(e)==="[object Arguments]"},OE=function(e){return zl(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&K0(e)!=="[object Array]"&&K0(e.callee)==="[object Function]"},hL=function(){return zl(arguments)}();zl.isLegacyArguments=OE;var dL=hL?zl:OE,pL=Object.prototype.toString,gL=Function.prototype.toString,mL=/^\s*(?:function)?\*/,DE=og(),Xd=Object.getPrototypeOf,yL=function(){if(!DE)return!1;try{return Function("return function*() {}")()}catch{}},Zd,vL=function(e){if(typeof e!="function")return!1;if(mL.test(gL.call(e)))return!0;if(!DE){var t=pL.call(e);return t==="[object GeneratorFunction]"}if(!Xd)return!1;if(typeof Zd>"u"){var n=yL();Zd=n?Xd(n):!1}return Xd(e)===Zd},RE=Function.prototype.toString,wa=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,W0,Lf;if(typeof wa=="function"&&typeof Object.defineProperty=="function")try{W0=Object.defineProperty({},"length",{get:function(){throw Lf}}),Lf={},wa(function(){throw 42},null,W0)}catch(r){r!==Lf&&(wa=null)}else wa=null;var bL=/^\s*class\b/,Q0=function(e){try{var t=RE.call(e);return bL.test(t)}catch{return!1}},e0=function(e){try{return Q0(e)?!1:(RE.call(e),!0)}catch{return!1}},Ff=Object.prototype.toString,wL="[object Object]",_L="[object Function]",EL="[object GeneratorFunction]",AL="[object HTMLAllCollection]",xL="[object HTML document.all class]",SL="[object HTMLCollection]",IL=typeof Symbol=="function"&&!!Symbol.toStringTag,TL=!(0 in[,]),J0=function(){return!1};if(typeof document=="object"){var CL=document.all;Ff.call(CL)===Ff.call(document.all)&&(J0=function(e){if((TL||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=Ff.call(e);return(t===AL||t===xL||t===SL||t===wL)&&e("")==null}catch{}return!1})}var PL=wa?function(e){if(J0(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{wa(e,null,W0)}catch(t){if(t!==Lf)return!1}return!Q0(e)&&e0(e)}:function(e){if(J0(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(IL)return e0(e);if(Q0(e))return!1;var t=Ff.call(e);return t!==_L&&t!==EL&&!/^\[object HTML/.test(t)?!1:e0(e)},OL=PL,DL=Object.prototype.toString,ME=Object.prototype.hasOwnProperty,RL=function(e,t,n){for(var i=0,s=e.length;i<s;i++)ME.call(e,i)&&(n==null?t(e[i],i,e):t.call(n,e[i],i,e))},ML=function(e,t,n){for(var i=0,s=e.length;i<s;i++)n==null?t(e.charAt(i),i,e):t.call(n,e.charAt(i),i,e)},NL=function(e,t,n){for(var i in e)ME.call(e,i)&&(n==null?t(e[i],i,e):t.call(n,e[i],i,e))},BL=function(e,t,n){if(!OL(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),DL.call(e)==="[object Array]"?RL(e,t,i):typeof e=="string"?ML(e,t,i):NL(e,t,i)},kL=BL,t0=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],LL=typeof globalThis>"u"?mr:globalThis,FL=function(){for(var e=[],t=0;t<t0.length;t++)typeof LL[t0[t]]=="function"&&(e[e.length]=t0[t]);return e},UL=cg,Uf=UL("%Object.getOwnPropertyDescriptor%",!0);if(Uf)try{Uf([],"length")}catch{Uf=null}var jL=Uf,rl=kL,HL=FL,lb=IE,ug=PE,jf=jL,$L=ug("Object.prototype.toString"),NE=og(),hb=typeof globalThis>"u"?mr:globalThis,Y0=HL(),fg=ug("String.prototype.slice"),r0=Object.getPrototypeOf,qL=ug("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},nl={__proto__:null};NE&&jf&&r0?rl(Y0,function(r){var e=new hb[r];if(Symbol.toStringTag in e){var t=r0(e),n=jf(t,Symbol.toStringTag);if(!n){var i=r0(t);n=jf(i,Symbol.toStringTag)}nl["$"+r]=lb(n.get)}}):rl(Y0,function(r){var e=new hb[r];nl["$"+r]=lb(e.slice)});var GL=function(e){var t=!1;return rl(nl,function(n,i){if(!t)try{"$"+n(e)===i&&(t=fg(i,1))}catch{}}),t},zL=function(e){var t=!1;return rl(nl,function(n,i){if(!t)try{n(e),t=fg(i,1)}catch{}}),t},BE=function(e){if(!e||typeof e!="object")return!1;if(!NE){var t=fg($L(e),8,-1);return qL(Y0,t)>-1?t:t!=="Object"?!1:zL(e)}return jf?GL(e):null},VL=BE,KL=function(e){return!!VL(e)};(function(r){var e=dL,t=vL,n=BE,i=KL;function s(ue){return ue.call.bind(ue)}var a=typeof BigInt<"u",u=typeof Symbol<"u",l=s(Object.prototype.toString),d=s(Number.prototype.valueOf),p=s(String.prototype.valueOf),v=s(Boolean.prototype.valueOf);if(a)var x=s(BigInt.prototype.valueOf);if(u)var S=s(Symbol.prototype.valueOf);function C(ue,be){if(typeof ue!="object")return!1;try{return be(ue),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=i;function B(ue){return typeof Promise<"u"&&ue instanceof Promise||ue!==null&&typeof ue=="object"&&typeof ue.then=="function"&&typeof ue.catch=="function"}r.isPromise=B;function $(ue){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ue):i(ue)||I(ue)}r.isArrayBufferView=$;function Y(ue){return n(ue)==="Uint8Array"}r.isUint8Array=Y;function F(ue){return n(ue)==="Uint8ClampedArray"}r.isUint8ClampedArray=F;function z(ue){return n(ue)==="Uint16Array"}r.isUint16Array=z;function L(ue){return n(ue)==="Uint32Array"}r.isUint32Array=L;function k(ue){return n(ue)==="Int8Array"}r.isInt8Array=k;function D(ue){return n(ue)==="Int16Array"}r.isInt16Array=D;function y(ue){return n(ue)==="Int32Array"}r.isInt32Array=y;function A(ue){return n(ue)==="Float32Array"}r.isFloat32Array=A;function ne(ue){return n(ue)==="Float64Array"}r.isFloat64Array=ne;function U(ue){return n(ue)==="BigInt64Array"}r.isBigInt64Array=U;function Q(ue){return n(ue)==="BigUint64Array"}r.isBigUint64Array=Q;function Z(ue){return l(ue)==="[object Map]"}Z.working=typeof Map<"u"&&Z(new Map);function N(ue){return typeof Map>"u"?!1:Z.working?Z(ue):ue instanceof Map}r.isMap=N;function f(ue){return l(ue)==="[object Set]"}f.working=typeof Set<"u"&&f(new Set);function g(ue){return typeof Set>"u"?!1:f.working?f(ue):ue instanceof Set}r.isSet=g;function w(ue){return l(ue)==="[object WeakMap]"}w.working=typeof WeakMap<"u"&&w(new WeakMap);function T(ue){return typeof WeakMap>"u"?!1:w.working?w(ue):ue instanceof WeakMap}r.isWeakMap=T;function O(ue){return l(ue)==="[object WeakSet]"}O.working=typeof WeakSet<"u"&&O(new WeakSet);function R(ue){return O(ue)}r.isWeakSet=R;function H(ue){return l(ue)==="[object ArrayBuffer]"}H.working=typeof ArrayBuffer<"u"&&H(new ArrayBuffer);function P(ue){return typeof ArrayBuffer>"u"?!1:H.working?H(ue):ue instanceof ArrayBuffer}r.isArrayBuffer=P;function m(ue){return l(ue)==="[object DataView]"}m.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&m(new DataView(new ArrayBuffer(1),0,1));function I(ue){return typeof DataView>"u"?!1:m.working?m(ue):ue instanceof DataView}r.isDataView=I;var te=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function E(ue){return l(ue)==="[object SharedArrayBuffer]"}function X(ue){return typeof te>"u"?!1:(typeof E.working>"u"&&(E.working=E(new te)),E.working?E(ue):ue instanceof te)}r.isSharedArrayBuffer=X;function G(ue){return l(ue)==="[object AsyncFunction]"}r.isAsyncFunction=G;function V(ue){return l(ue)==="[object Map Iterator]"}r.isMapIterator=V;function W(ue){return l(ue)==="[object Set Iterator]"}r.isSetIterator=W;function b(ue){return l(ue)==="[object Generator]"}r.isGeneratorObject=b;function q(ue){return l(ue)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=q;function oe(ue){return C(ue,d)}r.isNumberObject=oe;function pe(ue){return C(ue,p)}r.isStringObject=pe;function fe(ue){return C(ue,v)}r.isBooleanObject=fe;function we(ue){return a&&C(ue,x)}r.isBigIntObject=we;function He(ue){return u&&C(ue,S)}r.isSymbolObject=He;function Ee(ue){return oe(ue)||pe(ue)||fe(ue)||we(ue)||He(ue)}r.isBoxedPrimitive=Ee;function $e(ue){return typeof Uint8Array<"u"&&(P(ue)||X(ue))}r.isAnyArrayBuffer=$e,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ue){Object.defineProperty(r,ue,{enumerable:!1,value:function(){throw new Error(ue+" is not supported in userland")}})})})(EE);var WL=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},X0={exports:{}};typeof Object.create=="function"?X0.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:X0.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var QL=X0.exports;(function(r){var e=Object.getOwnPropertyDescriptors||function(I){for(var te=Object.keys(I),E={},X=0;X<te.length;X++)E[te[X]]=Object.getOwnPropertyDescriptor(I,te[X]);return E},t=/%[sdj%]/g;r.format=function(m){if(!k(m)){for(var I=[],te=0;te<arguments.length;te++)I.push(a(arguments[te]));return I.join(" ")}for(var te=1,E=arguments,X=E.length,G=String(m).replace(t,function(W){if(W==="%%")return"%";if(te>=X)return W;switch(W){case"%s":return String(E[te++]);case"%d":return Number(E[te++]);case"%j":try{return JSON.stringify(E[te++])}catch{return"[Circular]"}default:return W}}),V=E[te];te<X;V=E[++te])F(V)||!ne(V)?G+=" "+V:G+=" "+a(V);return G},r.deprecate=function(m,I){if(typeof process<"u"&&process.noDeprecation===!0)return m;if(typeof process>"u")return function(){return r.deprecate(m,I).apply(this,arguments)};var te=!1;function E(){if(!te){if(process.throwDeprecation)throw new Error(I);process.traceDeprecation?console.trace(I):console.error(I),te=!0}return m.apply(this,arguments)}return E};var n={},i=/^$/;if({}.NODE_DEBUG){var s={}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}r.debuglog=function(m){if(m=m.toUpperCase(),!n[m])if(i.test(m)){var I=process.pid;n[m]=function(){var te=r.format.apply(r,arguments);console.error("%s %d: %s",m,I,te)}}else n[m]=function(){};return n[m]};function a(m,I){var te={seen:[],stylize:l};return arguments.length>=3&&(te.depth=arguments[2]),arguments.length>=4&&(te.colors=arguments[3]),Y(I)?te.showHidden=I:I&&r._extend(te,I),y(te.showHidden)&&(te.showHidden=!1),y(te.depth)&&(te.depth=2),y(te.colors)&&(te.colors=!1),y(te.customInspect)&&(te.customInspect=!0),te.colors&&(te.stylize=u),p(te,m,te.depth)}r.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(m,I){var te=a.styles[I];return te?"\x1B["+a.colors[te][0]+"m"+m+"\x1B["+a.colors[te][1]+"m":m}function l(m,I){return m}function d(m){var I={};return m.forEach(function(te,E){I[te]=!0}),I}function p(m,I,te){if(m.customInspect&&I&&Z(I.inspect)&&I.inspect!==r.inspect&&!(I.constructor&&I.constructor.prototype===I)){var E=I.inspect(te,m);return k(E)||(E=p(m,E,te)),E}var X=v(m,I);if(X)return X;var G=Object.keys(I),V=d(G);if(m.showHidden&&(G=Object.getOwnPropertyNames(I)),Q(I)&&(G.indexOf("message")>=0||G.indexOf("description")>=0))return x(I);if(G.length===0){if(Z(I)){var W=I.name?": "+I.name:"";return m.stylize("[Function"+W+"]","special")}if(A(I))return m.stylize(RegExp.prototype.toString.call(I),"regexp");if(U(I))return m.stylize(Date.prototype.toString.call(I),"date");if(Q(I))return x(I)}var b="",q=!1,oe=["{","}"];if($(I)&&(q=!0,oe=["[","]"]),Z(I)){var pe=I.name?": "+I.name:"";b=" [Function"+pe+"]"}if(A(I)&&(b=" "+RegExp.prototype.toString.call(I)),U(I)&&(b=" "+Date.prototype.toUTCString.call(I)),Q(I)&&(b=" "+x(I)),G.length===0&&(!q||I.length==0))return oe[0]+b+oe[1];if(te<0)return A(I)?m.stylize(RegExp.prototype.toString.call(I),"regexp"):m.stylize("[Object]","special");m.seen.push(I);var fe;return q?fe=S(m,I,te,V,G):fe=G.map(function(we){return C(m,I,te,V,we,q)}),m.seen.pop(),B(fe,b,oe)}function v(m,I){if(y(I))return m.stylize("undefined","undefined");if(k(I)){var te="'"+JSON.stringify(I).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return m.stylize(te,"string")}if(L(I))return m.stylize(""+I,"number");if(Y(I))return m.stylize(""+I,"boolean");if(F(I))return m.stylize("null","null")}function x(m){return"["+Error.prototype.toString.call(m)+"]"}function S(m,I,te,E,X){for(var G=[],V=0,W=I.length;V<W;++V)O(I,String(V))?G.push(C(m,I,te,E,String(V),!0)):G.push("");return X.forEach(function(b){b.match(/^\d+$/)||G.push(C(m,I,te,E,b,!0))}),G}function C(m,I,te,E,X,G){var V,W,b;if(b=Object.getOwnPropertyDescriptor(I,X)||{value:I[X]},b.get?b.set?W=m.stylize("[Getter/Setter]","special"):W=m.stylize("[Getter]","special"):b.set&&(W=m.stylize("[Setter]","special")),O(E,X)||(V="["+X+"]"),W||(m.seen.indexOf(b.value)<0?(F(te)?W=p(m,b.value,null):W=p(m,b.value,te-1),W.indexOf(`
`)>-1&&(G?W=W.split(`
`).map(function(q){return"  "+q}).join(`
`).slice(2):W=`
`+W.split(`
`).map(function(q){return"   "+q}).join(`
`))):W=m.stylize("[Circular]","special")),y(V)){if(G&&X.match(/^\d+$/))return W;V=JSON.stringify(""+X),V.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.slice(1,-1),V=m.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=m.stylize(V,"string"))}return V+": "+W}function B(m,I,te){var E=m.reduce(function(X,G){return G.indexOf(`
`)>=0,X+G.replace(/\u001b\[\d\d?m/g,"").length+1},0);return E>60?te[0]+(I===""?"":I+`
 `)+" "+m.join(`,
  `)+" "+te[1]:te[0]+I+" "+m.join(", ")+" "+te[1]}r.types=EE;function $(m){return Array.isArray(m)}r.isArray=$;function Y(m){return typeof m=="boolean"}r.isBoolean=Y;function F(m){return m===null}r.isNull=F;function z(m){return m==null}r.isNullOrUndefined=z;function L(m){return typeof m=="number"}r.isNumber=L;function k(m){return typeof m=="string"}r.isString=k;function D(m){return typeof m=="symbol"}r.isSymbol=D;function y(m){return m===void 0}r.isUndefined=y;function A(m){return ne(m)&&f(m)==="[object RegExp]"}r.isRegExp=A,r.types.isRegExp=A;function ne(m){return typeof m=="object"&&m!==null}r.isObject=ne;function U(m){return ne(m)&&f(m)==="[object Date]"}r.isDate=U,r.types.isDate=U;function Q(m){return ne(m)&&(f(m)==="[object Error]"||m instanceof Error)}r.isError=Q,r.types.isNativeError=Q;function Z(m){return typeof m=="function"}r.isFunction=Z;function N(m){return m===null||typeof m=="boolean"||typeof m=="number"||typeof m=="string"||typeof m=="symbol"||typeof m>"u"}r.isPrimitive=N,r.isBuffer=WL;function f(m){return Object.prototype.toString.call(m)}function g(m){return m<10?"0"+m.toString(10):m.toString(10)}var w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var m=new Date,I=[g(m.getHours()),g(m.getMinutes()),g(m.getSeconds())].join(":");return[m.getDate(),w[m.getMonth()],I].join(" ")}r.log=function(){console.log("%s - %s",T(),r.format.apply(r,arguments))},r.inherits=QL,r._extend=function(m,I){if(!I||!ne(I))return m;for(var te=Object.keys(I),E=te.length;E--;)m[te[E]]=I[te[E]];return m};function O(m,I){return Object.prototype.hasOwnProperty.call(m,I)}var R=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');if(R&&I[R]){var te=I[R];if(typeof te!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(te,R,{value:te,enumerable:!1,writable:!1,configurable:!0}),te}function te(){for(var E,X,G=new Promise(function(b,q){E=b,X=q}),V=[],W=0;W<arguments.length;W++)V.push(arguments[W]);V.push(function(b,q){b?X(b):E(q)});try{I.apply(this,V)}catch(b){X(b)}return G}return Object.setPrototypeOf(te,Object.getPrototypeOf(I)),R&&Object.defineProperty(te,R,{value:te,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(te,e(I))},r.promisify.custom=R;function H(m,I){if(!m){var te=new Error("Promise was rejected with a falsy value");te.reason=m,m=te}return I(m)}function P(m){if(typeof m!="function")throw new TypeError('The "original" argument must be of type Function');function I(){for(var te=[],E=0;E<arguments.length;E++)te.push(arguments[E]);var X=te.pop();if(typeof X!="function")throw new TypeError("The last argument must be of type Function");var G=this,V=function(){return X.apply(G,arguments)};m.apply(this,te).then(function(W){process.nextTick(V.bind(null,null,W))},function(W){process.nextTick(H.bind(null,W,V))})}return Object.setPrototypeOf(I,Object.getPrototypeOf(m)),Object.defineProperties(I,e(m)),I}r.callbackify=P})(_E);var db=_E,kE=wE,pb=/[\{\[]/,gb=/[\}\]]/,mb=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],LE={};for(var n0=0;n0<mb.length;n0++)LE[mb[n0]]=!0;var JL=function(r){return kE(r)&&!LE.hasOwnProperty(r)},FE={s:function(r){return""+r},d:function(r){return""+Number(r)},o:function(r){return JSON.stringify(r)}},UE=function(){var r=[],e=0,t={},n=function(a){for(var u="";u.length<e*2;)u+="  ";r.push(u+a)},i=function(a){if(gb.test(a.trim()[0])&&pb.test(a[a.length-1])){e--,n(a),e++;return}if(pb.test(a[a.length-1])){n(a),e++;return}if(gb.test(a.trim()[0])){e--,n(a);return}n(a)},s=function(a){if(!a)return s;if(arguments.length===1&&a.indexOf(`
`)>-1)for(var u=a.trim().split(`
`),l=0;l<u.length;l++)i(u[l].trim());else i(db.format.apply(db,arguments));return s};return s.scope={},s.formats=FE,s.sym=function(a){return(!a||!JL(a))&&(a="tmp"),t[a]||(t[a]=0),a+(t[a]++||"")},s.property=function(a,u){return arguments.length===1&&(u=a,a=""),u=u+"",kE(u)?a?a+"."+u:u:a?a+"["+JSON.stringify(u)+"]":JSON.stringify(u)},s.toString=function(){return r.join(`
`)},s.toFunction=function(a){a||(a={});var u="return ("+s.toString()+")";Object.keys(s.scope).forEach(function(p){a[p]||(a[p]=s.scope[p])});var l=Object.keys(a).map(function(p){return p}),d=l.map(function(p){return a[p]});return Function.apply(null,l.concat(u)).apply(null,d)},arguments.length&&s.apply(null,arguments),s};UE.formats=FE;var YL=UE,Vl={},XL=/~/,ZL=/~[01]/g;function eF(r){switch(r){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+r)}function jE(r){return XL.test(r)?r.replace(ZL,eF):r}function tF(r,e,t){for(var n,i,s=1,a=e.length;s<a;){if(e[s]==="constructor"||e[s]==="prototype"||e[s]==="__proto__")return r;if(n=jE(e[s++]),i=a>s,typeof r[n]>"u"&&(Array.isArray(r)&&n==="-"&&(n=r.length),i&&(e[s]!==""&&e[s]<1/0||e[s]==="-"?r[n]=[]:r[n]={})),!i)break;r=r[n]}var u=r[n];return t===void 0?delete r[n]:r[n]=t,u}function lg(r){if(typeof r=="string"){if(r=r.split("/"),r[0]==="")return r;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(r)){for(const e of r)if(typeof e!="string"&&typeof e!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return r}throw new Error("Invalid JSON pointer.")}function HE(r,e){if(typeof r!="object")throw new Error("Invalid input object.");e=lg(e);var t=e.length;if(t===1)return r;for(var n=1;n<t;){if(r=r[jE(e[n++])],t===n)return r;if(typeof r!="object"||r===null)return}}function $E(r,e,t){if(typeof r!="object")throw new Error("Invalid input object.");if(e=lg(e),e.length===0)throw new Error("Invalid JSON pointer for set.");return tF(r,e,t)}function rF(r){var e=lg(r);return{get:function(t){return HE(t,e)},set:function(t,n){return $E(t,e,n)}}}Vl.get=HE;Vl.set=$E;Vl.compile=rF;var nF=sF,iF=Object.prototype.hasOwnProperty;function sF(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)iF.call(t,n)&&(r[n]=t[n])}return r}var qE={},GE={exports:{}};(function(r){var e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t=/\/\d{1,3}(?=%|$)/,n=/\//,i=/%.*$/,s=/([^0-9a-f:/%])/i,a=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function u(p){if(!e.test(p))return!1;var v=p.split(".");if(v.length!==4||v[0][0]==="0"&&v[0].length>1||v[1][0]==="0"&&v[1].length>1||v[2][0]==="0"&&v[2].length>1||v[3][0]==="0"&&v[3].length>1)return!1;var x=Number(v[0]),S=Number(v[1]),C=Number(v[2]),B=Number(v[3]);return x>=0&&x<256&&S>=0&&S<256&&C>=0&&C<256&&B>=0&&B<256}function l(p){var v=p.replace(t,""),x=p.length!==v.length;if(x||!x&&n.test(p))return!1;var S=v.replace(i,""),C=S.lastIndexOf(":");if(C===-1)return!1;var B=S.substring(C+1),$=u(B),Y=$?S.substring(0,C+1)+"1234:5678":S;if(s.test(Y)||a.test(Y))return!1;var F=Y.split("::");if(F.length>2)return!1;if(F.length===2){var z=F[0]===""?[]:F[0].split(":"),L=F[1]===""?[]:F[1].split(":"),k=8-(z.length+L.length);if(k<=0)return!1}else if(Y.split(":").length!==8)return!1;return!0}function d(p){return u(p)||l(p)}r.exports=function(v){if(v||(v={}),v.version===4)return u;if(v.version===6)return l;if(v.version==null)return d;throw new Error("Unknown version: "+v.version)},r.exports.__all_regexes__=[e,t,n,i,s,a]})(GE);var oF=GE.exports;(function(r){var e=oF,t=/\s/,n=/^[a-zA-Z0-9.-]+$/,i=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,s=/^\+[0-9][0-9 ]{5,27}[0-9]$/,a=/ {2}/,u=/ /g;r["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,r.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,r.time=/^\d{2}:\d{2}:\d{2}$/,r.email=function(l){return l.indexOf("@")!==-1&&!t.test(l)},r["ip-address"]=r.ipv4=e({version:4}),r.ipv6=e({version:6}),r.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,r.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,r.hostname=function(l){if(!n.test(l))return!1;for(var d=l.split("."),p=0;p<d.length;p++)if(!i.test(d[p]))return!1;return!0},r.alpha=/^[a-zA-Z]+$/,r.alphanumeric=/^[a-zA-Z0-9]+$/,r.style=/.:\s*[^;]/g,r.phone=function(l){if(!s.test(l)||a.test(l))return!1;var d=l.substring(1).replace(u,"").length;return d>=7&&d<=15},r["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/})(qE);ng.exports;(function(r){var e=F9,t=YL,n=Vl,i=nF,s=qE,a=function(x,S,C){var B=function(k){return k&&k.id===C?k:typeof k!="object"||!k?null:Object.keys(k).reduce(function(D,y){return D||B(k[y])},null)},$=B(x);if($)return $;C=C.replace(/^#/,""),C=C.replace(/\/$/,"");try{return n.get(x,decodeURI(C))}catch{var Y=C.indexOf("#"),F;if(Y!==0)if(Y===-1)F=S[C];else{var z=C.slice(0,Y);F=S[z];var L=C.slice(Y).replace(/^#/,"");try{return n.get(F,L)}catch{}}else F=S[C];return F||null}},u={};u.any=function(){return"true"},u.null=function(x){return x+" === null"},u.boolean=function(x){return"typeof "+x+' === "boolean"'},u.array=function(x){return"Array.isArray("+x+")"},u.object=function(x){return"typeof "+x+' === "object" && '+x+" && !Array.isArray("+x+")"},u.number=function(x){return"typeof "+x+' === "number" && isFinite('+x+")"},u.integer=function(x){return"typeof "+x+' === "number" && (Math.floor('+x+") === "+x+" || "+x+" > 9007199254740992 || "+x+" < -9007199254740992)"},u.string=function(x){return"typeof "+x+' === "string"'};var l=function(x,S){S=Math.min(S===-1?x.length:S,x.length);for(var C=[],B=0;B<S;B++)C.push(typeof x[B]=="object"?JSON.stringify(x[B]):x[B]);for(var B=1;B<C.length;B++)if(C.indexOf(C[B])!==B)return!1;return!0},d=function(x,S){var C,B=(S|0)!==S?Math.pow(10,S.toString().split(".").pop().length):1;if(B>1){var $=(x|0)!==x?Math.pow(10,x.toString().split(".").pop().length):1;$>B?C=!0:C=Math.round(B*x)%(B*S)}else C=x%S;return!C},p=function(x,S,C){return C>-1&&S.length>C?!0:x.test(S)},v=function(x,S,C,B,$){var Y=$?i(s,$.formats):s,F={unique:l,formats:Y,isMultipleOf:d,testLimitedRegex:p},z=$?!!$.verbose:!1,L=$&&$.greedy!==void 0?$.greedy:!1,k={},D=[],y=function(g){var w=g+(k[g]=(k[g]||0)+1);return D.push(w),w},A=function(g){var w=JSON.stringify(g);try{for(var T=/\[([^\[\]"]+)\]/;T.test(w);)w=w.replace(T,O);return w}catch{return JSON.stringify(g)}function O(R,H){if(D.indexOf(H)===-1)throw new Error("Unreplaceable");return'." + '+H+' + "'}},ne={},U=function(g){if(ne[g])return ne[g];var w=y("pattern");return F[w]=new RegExp(g),ne[g]=w,w},Q=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],Z=function(){var g=Q.shift();return Q.push(g+g[0]),D.push(g),g},N=function(g,w,T,O,R){var H=w.properties,P=w.type,m=!1;Array.isArray(w.items)&&(H={},w.items.forEach(function(be,ve){H[ve]=be}),P="array",m=!0);var I=0,te=function(be,ve,Pe){f("errors++"),T===!0&&(f("if (validate.errors === null) validate.errors = []"),z?f("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",A(ve||g),JSON.stringify(be),Pe||g,JSON.stringify(P),JSON.stringify(R)):f("validate.errors.push({field:%s,message:%s})",A(ve||g),JSON.stringify(be)))};w.required===!0?(I++,f("if (%s === undefined) {",g),te("is required"),f("} else {")):(I++,f("if (%s !== undefined) {",g));var E=[].concat(P).map(function(be){if(be&&!u.hasOwnProperty(be))throw new Error("Unknown type: "+be);return u[be||"any"](g)}).join(" || ")||"true";if(E!=="true"&&(I++,f("if (!(%s)) {",E),te("is the wrong type"),f("} else {")),m){if(w.additionalItems===!1)f("if (%s.length > %d) {",g,w.items.length),te("has additional items"),f("}");else if(w.additionalItems){var X=Z();f("for (var %s = %d; %s < %s.length; %s++) {",X,w.items.length,X,g,X),N(g+"["+X+"]",w.additionalItems,T,O,R.concat("additionalItems")),f("}")}}if(w.format&&Y[w.format]){P!=="string"&&s[w.format]&&f("if (%s) {",u.string(g));var G=y("format");F[G]=Y[w.format],typeof F[G]=="function"?f("if (!%s(%s)) {",G,g):f("if (!testLimitedRegex(%s, %s, %d)) {",G,g,typeof w.maxLength>"u"?-1:w.maxLength),te("must be "+w.format+" format"),f("}"),P!=="string"&&s[w.format]&&f("}")}if(Array.isArray(w.required)){var G=y("missing");f("var %s = 0",G);var V=function(ve){var Pe=e(g,ve);f("if (%s === undefined) {",Pe),te("is required",Pe),f("%s++",G),f("}")};f("if ((%s)) {",P!=="object"?u.object(g):"true"),w.required.map(V),f("}"),L||(f("if (%s === 0) {",G),I++)}if(w.uniqueItems&&(P!=="array"&&f("if (%s) {",u.array(g)),f("if (!(unique(%s, %d))) {",g,w.maxItems||-1),te("must be unique"),f("}"),P!=="array"&&f("}")),w.enum){var W=w.enum.some(function(be){return typeof be=="object"}),b=W?function(be){return"JSON.stringify("+g+") !== JSON.stringify("+JSON.stringify(be)+")"}:function(be){return g+" !== "+JSON.stringify(be)};f("if (%s) {",w.enum.map(b).join(" && ")||"false"),te("must be an enum value"),f("}")}if(w.dependencies&&(P!=="object"&&f("if (%s) {",u.object(g)),Object.keys(w.dependencies).forEach(function(be){var ve=w.dependencies[be];typeof ve=="string"&&(ve=[ve]);var Pe=function(Te){return e(g,Te)+" !== undefined"};Array.isArray(ve)&&(f("if (%s !== undefined && !(%s)) {",e(g,be),ve.map(Pe).join(" && ")||"true"),te("dependencies not set"),f("}")),typeof ve=="object"&&(f("if (%s !== undefined) {",e(g,be)),N(g,ve,T,O,R.concat(["dependencies",be])),f("}"))}),P!=="object"&&f("}")),w.additionalProperties||w.additionalProperties===!1){P!=="object"&&f("if (%s) {",u.object(g));var X=Z(),q=y("keys"),oe=function(ve){return q+"["+X+"] !== "+JSON.stringify(ve)},pe=function(ve){return"!"+U(ve)+".test("+q+"["+X+"])"},fe=Object.keys(H||{}).map(oe).concat(Object.keys(w.patternProperties||{}).map(pe)).join(" && ")||"true";f("var %s = Object.keys(%s)",q,g)("for (var %s = 0; %s < %s.length; %s++) {",X,X,q,X)("if (%s) {",fe),w.additionalProperties===!1?(O&&f("delete %s",g+"["+q+"["+X+"]]"),te("has additional properties",null,JSON.stringify(g+".")+" + "+q+"["+X+"]")):N(g+"["+q+"["+X+"]]",w.additionalProperties,T,O,R.concat(["additionalProperties"])),f("}")("}"),P!=="object"&&f("}")}if(w.$ref){var we=a(C,$&&$.schemas||{},w.$ref);if(we){var He=S[w.$ref];He||(S[w.$ref]=function(Pe){return He(Pe)},He=v(we,S,C,!1,$));var G=y("ref");F[G]=He,f("if (!(%s(%s))) {",G,g),te("referenced schema does not match"),f("}")}}if(w.not){var Ee=y("prev");f("var %s = errors",Ee),N(g,w.not,!1,O,R.concat("not")),f("if (%s === errors) {",Ee),te("negative schema matches"),f("} else {")("errors = %s",Ee)("}")}if(w.items&&!m){P!=="array"&&f("if (%s) {",u.array(g));var X=Z();f("for (var %s = 0; %s < %s.length; %s++) {",X,X,g,X),N(g+"["+X+"]",w.items,T,O,R.concat("items")),f("}"),P!=="array"&&f("}")}if(w.patternProperties){P!=="object"&&f("if (%s) {",u.object(g));var q=y("keys"),X=Z();f("var %s = Object.keys(%s)",q,g)("for (var %s = 0; %s < %s.length; %s++) {",X,X,q,X),Object.keys(w.patternProperties).forEach(function(Pe){var Te=U(Pe);f("if (%s.test(%s)) {",Te,q+"["+X+"]"),N(g+"["+q+"["+X+"]]",w.patternProperties[Pe],T,O,R.concat(["patternProperties",Pe])),f("}")}),f("}"),P!=="object"&&f("}")}if(w.pattern){var $e=U(w.pattern);P!=="string"&&f("if (%s) {",u.string(g)),f("if (!(testLimitedRegex(%s, %s, %d))) {",$e,g,typeof w.maxLength>"u"?-1:w.maxLength),te("pattern mismatch"),f("}"),P!=="string"&&f("}")}if(w.allOf&&w.allOf.forEach(function(be,ve){N(g,be,T,O,R.concat(["allOf",ve]))}),w.anyOf&&w.anyOf.length){var Ee=y("prev");w.anyOf.forEach(function(ve,Pe){Pe===0?f("var %s = errors",Ee):f("if (errors !== %s) {",Ee)("errors = %s",Ee),N(g,ve,!1,!1,R)}),w.anyOf.forEach(function(ve,Pe){Pe&&f("}")}),f("if (%s !== errors) {",Ee),te("no schemas match"),f("}")}if(w.oneOf&&w.oneOf.length){var Ee=y("prev"),ue=y("passes");f("var %s = errors",Ee)("var %s = 0",ue),w.oneOf.forEach(function(ve,Pe){N(g,ve,!1,!1,R),f("if (%s === errors) {",Ee)("%s++",ue)("} else {")("errors = %s",Ee)("}")}),f("if (%s !== 1) {",ue),te("no (or more than one) schemas match"),f("}")}for(w.multipleOf!==void 0&&(P!=="number"&&P!=="integer"&&f("if (%s) {",u.number(g)),f("if (!isMultipleOf(%s, %d)) {",g,w.multipleOf),te("has a remainder"),f("}"),P!=="number"&&P!=="integer"&&f("}")),w.maxProperties!==void 0&&(P!=="object"&&f("if (%s) {",u.object(g)),f("if (Object.keys(%s).length > %d) {",g,w.maxProperties),te("has more properties than allowed"),f("}"),P!=="object"&&f("}")),w.minProperties!==void 0&&(P!=="object"&&f("if (%s) {",u.object(g)),f("if (Object.keys(%s).length < %d) {",g,w.minProperties),te("has less properties than allowed"),f("}"),P!=="object"&&f("}")),w.maxItems!==void 0&&(P!=="array"&&f("if (%s) {",u.array(g)),f("if (%s.length > %d) {",g,w.maxItems),te("has more items than allowed"),f("}"),P!=="array"&&f("}")),w.minItems!==void 0&&(P!=="array"&&f("if (%s) {",u.array(g)),f("if (%s.length < %d) {",g,w.minItems),te("has less items than allowed"),f("}"),P!=="array"&&f("}")),w.maxLength!==void 0&&(P!=="string"&&f("if (%s) {",u.string(g)),f("if (%s.length > %d) {",g,w.maxLength),te("has longer length than allowed"),f("}"),P!=="string"&&f("}")),w.minLength!==void 0&&(P!=="string"&&f("if (%s) {",u.string(g)),f("if (%s.length < %d) {",g,w.minLength),te("has less length than allowed"),f("}"),P!=="string"&&f("}")),w.minimum!==void 0&&(P!=="number"&&P!=="integer"&&f("if (%s) {",u.number(g)),f("if (%s %s %d) {",g,w.exclusiveMinimum?"<=":"<",w.minimum),te("is less than minimum"),f("}"),P!=="number"&&P!=="integer"&&f("}")),w.maximum!==void 0&&(P!=="number"&&P!=="integer"&&f("if (%s) {",u.number(g)),f("if (%s %s %d) {",g,w.exclusiveMaximum?">=":">",w.maximum),te("is more than maximum"),f("}"),P!=="number"&&P!=="integer"&&f("}")),H&&Object.keys(H).forEach(function(be){Array.isArray(P)&&P.indexOf("null")!==-1&&f("if (%s !== null) {",g),N(e(g,be),H[be],T,O,R.concat(m?be:["properties",be])),Array.isArray(P)&&P.indexOf("null")!==-1&&f("}")});I--;)f("}")},f=t("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return N("data",x,B,$&&$.filter,[]),f("return errors === 0")("}"),f=f.toFunction(F),f.errors=null,Object.defineProperty&&Object.defineProperty(f,"error",{get:function(){return f.errors?f.errors.map(function(g){return g.field+" "+g.message}).join(`
`):""}}),f.toJSON=function(){return x},f};r.exports=function(x,S){return typeof x=="string"&&(x=JSON.parse(x)),v(x,{},x,!0,S)},r.exports.filter=function(x,S){var C=r.exports(x,i(S,{filter:!0}));return function(B){return C(B),B}}})(ng);var aF=ng.exports;const cF=ko(aF),uF=["bool","int","uint","bytes","string","address","tuple"],zE=r=>typeof r=="object"&&"type"in r&&"name"in r,hg=r=>typeof r=="string",Qt=r=>typeof r=="string"&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(r);function VE(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&r.length!==2+2*e)}const dg=r=>typeof r=="number"||typeof r=="bigint"||typeof r=="string"&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(r);function pg(r){if(typeof r!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof r}`);return r.startsWith("0x")}const gg=function(r){for(const[e,t]of Object.entries(r))if(t!==void 0&&t.length>0&&t[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${t.toString()}`)};var Zn;(function(r){r.NUMBER="NUMBER_NUMBER",r.HEX="NUMBER_HEX",r.STR="NUMBER_STR",r.BIGINT="NUMBER_BIGINT"})(Zn||(Zn={}));var ss;(function(r){r.HEX="BYTES_HEX",r.UINT8ARRAY="BYTES_UINT8ARRAY"})(ss||(ss={}));const qe={number:Zn.BIGINT,bytes:ss.HEX},lt={number:Zn.HEX,bytes:ss.HEX};var Zi;(function(r){r.EARLIEST="earliest",r.LATEST="latest",r.PENDING="pending",r.SAFE="safe",r.FINALIZED="finalized"})(Zi||(Zi={}));var jc;(function(r){r.chainstart="chainstart",r.frontier="frontier",r.homestead="homestead",r.dao="dao",r.tangerineWhistle="tangerineWhistle",r.spuriousDragon="spuriousDragon",r.byzantium="byzantium",r.constantinople="constantinople",r.petersburg="petersburg",r.istanbul="istanbul",r.muirGlacier="muirGlacier",r.berlin="berlin",r.london="london",r.altair="altair",r.arrowGlacier="arrowGlacier",r.grayGlacier="grayGlacier",r.bellatrix="bellatrix",r.merge="merge",r.capella="capella",r.shanghai="shanghai"})(jc||(jc={}));const mg=Object.getPrototypeOf(Uint8Array);var fF=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const yb=Symbol.for("web3/base-provider");class pu{static isWeb3Provider(e){return e instanceof pu||!!(e&&e[yb])}get[yb](){return!0}send(e,t){this.request(e).then(n=>{t(null,n)}).catch(n=>{t(n)})}sendAsync(e){return fF(this,void 0,void 0,function*(){return this.request(e)})}}class lF extends Array{constructor(e){super(),this._accountProvider=e}}const le=r=>r==null,Ta=r=>typeof r=="object"&&!le(r)&&!Array.isArray(r)&&!(r instanceof mg),hF=r=>r.message&&r.instancePath&&r.params&&!le(r.params.value)?`value "${r.params.value}" at "${r.instancePath}" ${r.message}`:r.message&&r.instancePath?`value at "${r.instancePath}" ${r.message}`:r.instancePath?`value at "${r.instancePath}" caused unspecified error`:r.message?r.message:"unspecified error";class Ma extends yt{constructor(e){super(),this.code=UB,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:
${this._compileErrors().join(`
`)}`}_compileErrors(){return this.errors.map(hF)}}const dF=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],$o=r=>{let e=r.replace(/ /,""),t,n=!1,i=[];if(r.includes("[")&&(e=e.slice(0,e.indexOf("[")),i=[...r.matchAll(/(?:\[(\d*)\])/g)].map(s=>parseInt(s[1],10)).map(s=>Number.isNaN(s)?-1:s),n=i.length>0),uF.includes(e))return{baseType:e,isArray:n,baseTypeSize:t,arraySizes:i};if(e.startsWith("int"))t=parseInt(e.substring(3),10),e="int";else if(e.startsWith("uint"))t=parseInt(r.substring(4),10),e="uint";else if(e.startsWith("bytes"))t=parseInt(e.substring(5),10),e="bytes";else return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:i};return{baseType:e,isArray:n,baseTypeSize:t,arraySizes:i}},i0=(r,e={})=>{if(Object.keys(e).includes("type"))throw new Ma([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:r},instancePath:"",schemaPath:""}]);const{baseType:n,baseTypeSize:i}=$o(r);if(!n&&!dF.includes(r))throw new Ma([{keyword:"eth",message:`Eth data type "${r}" is not valid`,params:{eth:r},instancePath:"",schemaPath:""}]);if(n){if(n==="tuple")throw new Error('"tuple" type is not implemented directly.');return{format:`${n}${i??""}`,required:!0}}return r?{format:r,required:!0}:{}},il=(r,e="/0")=>{const t={type:"array",items:[],maxItems:r.length,minItems:r.length};for(const[n,i]of r.entries()){let s,a,u=[];zE(i)?(s=i.type,a=i.name,u=i.components):typeof i=="string"?(s=i,a=`${e}/${n}`):Array.isArray(i)&&(i[0]&&typeof i[0]=="string"&&i[0].startsWith("tuple")&&!Array.isArray(i[0])&&i[1]&&Array.isArray(i[1])?(s=i[0],a=`${e}/${n}`,u=i[1]):(s="tuple",a=`${e}/${n}`,u=i));const{baseType:l,isArray:d,arraySizes:p}=$o(s);let v,x=t;for(let S=p.length-1;S>0;S-=1)v={type:"array",items:[],maxItems:p[S],minItems:p[S]},p[S]<0&&(delete v.maxItems,delete v.minItems),x.items=v,x=v;if(l==="tuple"&&!d){const S=il(u,a);S.$id=a,x.items.push(S)}else if(l==="tuple"&&d){const S=p[0],C={$id:a,type:"array",items:il(u,a),maxItems:S,minItems:S};S<0&&(delete C.maxItems,delete C.minItems),x.items.push(C)}else if(d){const S=p[0],C={type:"array",$id:a,items:i0(String(l)),minItems:S,maxItems:S};S<0&&(delete C.maxItems,delete C.minItems),x.items.push(C)}else Array.isArray(x.items)?x.items.push(Object.assign({$id:a},i0(s))):x.items.items.push(Object.assign({$id:a},i0(s)))}return t},yg=r=>il(r),vg=(r,e)=>e===1?r:vg(r[0],e-1),Hc=(r,e,t)=>{const n=[];for(const[i,s]of r.entries()){let a,u,l=[];zE(s)?(a=s.type,u=s.name,l=s.components):typeof s=="string"?a=s:Array.isArray(s)&&(s[1]&&Array.isArray(s[1])?(a=s[0],l=s[1]):(a="tuple",l=s));const{baseType:d,isArray:p,arraySizes:v}=$o(a),x=Array.isArray(e)?e[i]:e[u];if(d==="tuple"&&!p)n.push(Hc(l,x,t));else if(d==="tuple"&&p){const S=[];for(const C of x)if(v.length>1){const B=vg(C,v.length-1),$=[];for(const Y of B)$.push(Hc(l,Y,t));S.push($)}else S.push(Hc(l,C,t));n.push(S)}else n.push(x)}return t=t??[],t.push(...n),t},KE=r=>{if(r>=48&&r<=57)return r-48;if(r>=65&&r<=70)return r-55;if(r>=97&&r<=102)return r-87;throw new Error(`Invalid code point: ${r}`)},Kl=r=>{if(!Qt(r))throw new Error("Invalid hex string");const[e,t]=r.startsWith("-")?[!0,r.slice(1)]:[!1,r],n=BigInt(t);return n>Number.MAX_SAFE_INTEGER?e?-n:n:n<Number.MIN_SAFE_INTEGER?n:e?-1*Number(n):Number(n)},Wl=r=>{if((typeof r=="number"||typeof r=="bigint")&&r<0)return`-0x${r.toString(16).slice(1)}`;if((typeof r=="number"||typeof r=="bigint")&&r>=0)return`0x${r.toString(16)}`;if(typeof r=="string"&&Qt(r)){const[e,t]=r.startsWith("-")?[!0,r.slice(1)]:[!1,r],n=t.split(/^(-)?0(x|X)/).slice(-1)[0];return`${e?"-":""}0x${n.replace(/^0+/,"").toLowerCase()}`}if(typeof r=="string"&&!Qt(r))return Wl(BigInt(r));throw new eg(r)},sl=(r,e,t="0")=>{if(typeof r=="string"&&!Qt(r))return r.padStart(e,t);const n=typeof r=="string"&&Qt(r)?r:Wl(r),[i,s]=n.startsWith("-")?["-0x",n.slice(3)]:["0x",n.slice(2)];return`${i}${s.padStart(e,t)}`};function Ql(r){let e="0x";for(const t of r){const n=t.toString(16);e+=n.length===1?`0${n}`:n}return e}function Jl(r){let e;if(r.toLowerCase().startsWith("0x")?e=r.slice(2):e=r,e.length%2!==0)throw new Uc(`hex string has odd length: ${r}`);const t=new Uint8Array(Math.ceil(e.length/2));for(let n=0;n<t.length;n+=1){const i=parseInt(e.substring(n*2,n*2+2),16);t[n]=i}return t}const WE=Object.freeze(Object.defineProperty({__proto__:null,abiSchemaToJsonSchema:il,codePointToInt:KE,ethAbiToJsonSchema:yg,fetchArrayElement:vg,hexToNumber:Kl,hexToUint8Array:Jl,numberToHex:Wl,padLeft:sl,parseBaseType:$o,transformJsonDataToAbiFormat:Hc,uint8ArrayToHexString:Ql},Symbol.toStringTag,{value:"Module"})),QE=r=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(r))return!1;const e=r.slice(2),t=Ro(e.toLowerCase()),n=Ql(Jr(t)).slice(2);for(let i=0;i<40;i+=1)if(parseInt(n[i],16)>7&&e[i].toUpperCase()!==e[i]||parseInt(n[i],16)<=7&&e[i].toLowerCase()!==e[i])return!1;return!0},pi=(r,e=!0)=>{if(typeof r!="string"&&!(r instanceof Uint8Array))return!1;let t;return r instanceof Uint8Array?t=Ql(r):typeof r=="string"&&!Qt(r)?t=r.toLowerCase().startsWith("0x")?r:`0x${r}`:t=r,/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x|0X)?[0-9a-f]{40}$/.test(t)||/^(0x|0X)?[0-9A-F]{40}$/.test(t)?!0:e?QE(t):!0:!1},Mo=(r,e={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof r)||typeof r=="string"&&r.length===0)return!1;let t;if(e!=null&&e.abiType){const{baseTypeSize:i}=$o(e.abiType);i&&(t=i)}else e.bitSize&&(t=e.bitSize);const n=BigInt(2)**BigInt(t??256)-BigInt(1);try{const i=typeof r=="string"&&Qt(r)?BigInt(Kl(r)):BigInt(r);return i>=0&&i<=n}catch{return!1}},Yl=(r,e={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof r)||typeof r=="number"&&r>Number.MAX_SAFE_INTEGER)return!1;let t;if(e!=null&&e.abiType){const{baseTypeSize:s,baseType:a}=$o(e.abiType);if(a!=="int")return!1;s&&(t=s)}else e.bitSize&&(t=e.bitSize);const n=BigInt(2)**BigInt((t??256)-1),i=BigInt(-1)*BigInt(2)**BigInt((t??256)-1);try{const s=typeof r=="string"&&Qt(r)?BigInt(Kl(r)):BigInt(r);return s>=i&&s<=n}catch{return!1}},JE=r=>!!(Yl(r)||typeof r=="string"&&/[0-9.]/.test(r)&&r.indexOf(".")===r.lastIndexOf(".")||typeof r=="number"),YE=r=>Mo(r),Hr=r=>Object.values(Zi).includes(r),Z0=r=>Hr(r)||YE(r),Wa=r=>typeof r!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(r)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(r)||/^(0x)?[0-9A-F]{512}$/.test(r)),Xl=(r,e)=>{if(typeof e=="string"&&!Qt(e)||!Wa(r))return!1;const t=typeof e=="string"?Jl(e):e,n=Ql(Jr(t)).slice(2);for(let i=0;i<12;i+=4){const s=(parseInt(n.slice(i,i+2),16)<<8)+parseInt(n.slice(i+2,i+4),16)&2047,a=KE(r.charCodeAt(r.length-1-Math.floor(s/4))),u=1<<s%4;if((a&u)!==u)return!1}return!0},pF=(r,e)=>{if(!Wa(r)||!pi(e))return!1;const t=sl(e,64);return Xl(r,t)},gF=(r,e)=>!Wa(r)||!pi(e)?!1:Xl(r,e),mF=r=>["number","string","boolean"].includes(typeof r)?typeof r=="boolean"?!0:typeof r=="string"&&!Qt(r)?r==="1"||r==="0":typeof r=="string"&&Qt(r)?r==="0x1"||r==="0x0":typeof r=="number"?r===1||r===0:!1:!1,qo=(r,e={abiType:"bytes"})=>{if(typeof r!="string"&&!Array.isArray(r)&&!(r instanceof Uint8Array)||typeof r=="string"&&Qt(r)&&r.startsWith("-")||typeof r=="string"&&!Qt(r))return!1;let t;if(typeof r=="string"){if(r.length%2!==0)return!1;t=Jl(r)}else if(Array.isArray(r)){if(r.some(n=>n<0||n>255||!Number.isInteger(n)))return!1;t=new Uint8Array(r)}else t=r;if(e!=null&&e.abiType){const{baseTypeSize:n}=$o(e.abiType);return n?t.length===n:!0}return e!=null&&e.size?t.length===(e==null?void 0:e.size):!0},ol=r=>typeof r!="string"||!/^(0x)?[0-9a-f]{64}$/i.test(r)?!1:!!(/^(0x)?[0-9a-f]{64}$/.test(r)||/^(0x)?[0-9A-F]{64}$/.test(r)),yF=(r,e)=>!Wa(r)||!ol(e)?!1:Xl(r,e),vF=r=>{const e=["fromBlock","toBlock","address","topics","blockHash"];if(le(r)||typeof r!="object"||!Object.keys(r).every(t=>e.includes(t))||!le(r.fromBlock)&&!Z0(r.fromBlock)||!le(r.toBlock)&&!Z0(r.toBlock))return!1;if(!le(r.address)){if(Array.isArray(r.address)){if(!r.address.every(t=>pi(t)))return!1}else if(!pi(r.address))return!1}return!(!le(r.topics)&&!r.topics.every(t=>le(t)?!0:Array.isArray(t)?t.every(n=>ol(n)):!!ol(t)))},al={address:r=>pi(r),bloom:r=>Wa(r),blockNumber:r=>YE(r),blockTag:r=>Hr(r),blockNumberOrTag:r=>Z0(r),bool:r=>mF(r),bytes:r=>qo(r),filter:r=>vF(r),hex:r=>Qt(r),uint:r=>Mo(r),int:r=>Yl(r),number:r=>JE(r),string:r=>hg(r)};for(let r=3;r<=8;r+=1){const e=2**r;al[`int${e}`]=t=>Yl(t,{bitSize:e}),al[`uint${e}`]=t=>Mo(t,{bitSize:e})}for(let r=1;r<=32;r+=1)al[`bytes${r}`]=e=>qo(e,{size:r});class bo{constructor(){this._schemas=new Map}static factory(){return bo.validatorInstance||(bo.validatorInstance=new bo),bo.validatorInstance}getSchema(e){return this._schemas.get(e)}addSchema(e,t){this._schemas.set(e,this.createValidator(t))}createValidator(e){return cF(e,{formats:al,greedy:!0,verbose:!0,additionalProperties:!1})}validate(e,t,n){const i=this.getOrCreateValidator(e);if(!i(t)){const s=this.convertErrors(i.errors,e,t);if(s){if(n!=null&&n.silent)return s;throw new Ma(s)}}}convertErrors(e,t,n){if(e&&Array.isArray(e)&&e.length>0)return e.map(i=>{let s,a,u,l;l=Array.isArray(i.schemaPath)?i.schemaPath.slice(1).join("/"):"";const{field:d}=i,p=l||((d==null?void 0:d.length)>=4?`${d.slice(4).replace(/\"|\[|\]/g,"")}`:"/"),v=p?`/${p}`:"";if((i==null?void 0:i.message)==="has less items than allowed"){const S=this.getObjectValueByPath(t,l);S.minItems&&(a="minItems",l=`${l}/minItems`,u={limit:S.minItems},s=`must NOT have fewer than ${S.minItems} items`)}else if((i==null?void 0:i.message)==="has more items than allowed"){const S=this.getObjectValueByPath(t,l);S.maxItems&&(a="maxItems",l=`${l}/maxItems`,u={limit:S.maxItems},s=`must NOT have more than ${S.maxItems} items`)}else if(i!=null&&i.message.startsWith("must be")&&(i!=null&&i.message.endsWith("format"))){const S=i==null?void 0:i.message.split(" ")[2];S&&(s=`must pass "${S}" validation`)}const x=this.getObjectValueByPath(n,v);return{keyword:a??i.field,instancePath:v,schemaPath:`#${l}`,params:u??{value:x},message:s??i.message}})}getOrCreateValidator(e){const t=bo.getKey(e);let n=this.getSchema(t);return n||(this.addSchema(t,e),n=this.getSchema(t)),n}static getKey(e){return v9(k9(Ro(JSON.stringify(e))))}getObjectValueByPath(e,t,n){try{if(typeof e!="object")throw new Error("Invalid input object");if(typeof t!="string")throw new Error("Invalid JSON pointer");const i=t.split("/");if(!["","#"].includes(i.shift()))throw new Error("Invalid JSON pointer");if(i.length===0)return e;let s=e;for(const a of i){if(typeof a!="string")throw new Error("Invalid JSON pointer");n&&n.push(s);const u=this.untilde(a);if(typeof s!="object"||!Object.prototype.hasOwnProperty.call(s,u))return;s=s[u]}return s}catch{return""}}untilde(e){return e.includes("~")?e.replace(/~[01]/g,t=>{switch(t){case"~1":return"/";case"~0":return"~";default:throw new Error("Unreachable")}}):e}}class bF{constructor(){this._validator=bo.factory()}validateJSONSchema(e,t,n){return this._validator.validate(e,t,n)}validate(e,t,n={silent:!1}){var i,s;const a=yg(e);if(!(Array.isArray(a.items)&&((i=a.items)===null||i===void 0?void 0:i.length)===0&&t.length===0)){if(Array.isArray(a.items)&&((s=a.items)===null||s===void 0?void 0:s.length)===0&&t.length!==0)throw new Ma([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:t}]);return this._validator.validate(a,t,n)}}}const rt=new bF,wF=BigInt(10),lr=r=>wF**BigInt(r),bg={noether:BigInt("0"),wei:BigInt(1),kwei:lr(3),Kwei:lr(3),babbage:lr(3),femtoether:lr(3),mwei:lr(6),Mwei:lr(6),lovelace:lr(6),picoether:lr(6),gwei:lr(9),Gwei:lr(9),shannon:lr(9),nanoether:lr(9),nano:lr(9),szabo:lr(12),microether:lr(12),micro:lr(12),finney:lr(15),milliether:lr(15),milli:lr(15),ether:lr(18),kether:lr(21),grand:lr(21),mether:lr(24),gether:lr(27),tether:lr(30)},os=r=>{if(rt.validate(["bytes"],[r]),r instanceof Uint8Array)return r;if(Array.isArray(r))return new Uint8Array(r);if(typeof r=="string")return Jl(r);throw new Uc(r)},{uint8ArrayToHexString:_F}=WE,St=r=>_F(os(r)),cr=r=>typeof r=="string"&&r.slice(0,2).toLowerCase()!=="0x"?os(`0x${r}`):os(r),gu=r=>(rt.validate(["hex"],[r]),Kl(r)),EF=gu,On=(r,e)=>{typeof r!="bigint"&&rt.validate(["int"],[r]);let t=Wl(r);return e&&(!t.startsWith("-")&&t.length%2===1?t="0x0".concat(t.slice(2)):t.length%2===0&&t.startsWith("-")&&(t="-0x0".concat(t.slice(3)))),t},AF=On,xF=r=>gu(r).toString(),gi=r=>{rt.validate(["string"],[r]);let e=r.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),St(new TextEncoder().encode(e))},XE=gi,SF=gi,wg=r=>bE(cr(r)),IF=r=>typeof r=="string"?wg(r):(rt.validate(["bytes"],[r]),bE(r)),TF=wg,ZE=r=>{rt.validate(["string"],[r]);let e="";for(let t=0;t<r.length;t+=1){const n=r.charCodeAt(t).toString(16);e+=n.length%2!==0?`0${n}`:n}return`0x${e}`},CF=ZE,e2=r=>new TextDecoder("ascii").decode(cr(r)),PF=e2,as=(r,e)=>{if(typeof r=="string"&&pi(r))return e?"address":`0x${r.toLowerCase().replace(/^0x/i,"")}`;if(typeof r=="boolean")return e?"bool":r?"0x01":"0x00";if(typeof r=="number")return e?r<0?"int256":"uint256":On(r);if(typeof r=="bigint")return e?"bigint":On(r);if(typeof r=="object"&&r)return e?"string":gi(JSON.stringify(r));if(typeof r=="string"){if(r.startsWith("-0x")||r.startsWith("-0X"))return e?"int256":On(r);if(Qt(r))return e?"bytes":r;if(dg(r)&&!Yl(r))return e?"bytes":`0x${r}`;if(!Number.isFinite(r))return e?"string":gi(r)}throw new Ck(r)},Pn=r=>{if(typeof r=="number")return r;if(typeof r=="bigint")return r>=Number.MIN_SAFE_INTEGER&&r<=Number.MAX_SAFE_INTEGER?Number(r):r;if(typeof r=="string"&&Qt(r))return gu(r);try{return Pn(BigInt(r))}catch{throw new eg(r)}},_a=r=>{if(typeof r=="number")return BigInt(r);if(typeof r=="bigint")return r;if(typeof r=="string"&&dg(r))return BigInt(r);throw new eg(r)},OF=(r,e)=>{const t=bg[e];if(!t)throw new uE(e);const n=String(Pn(r)),i=t.toString().length-1;if(i<=0)return n.toString();const s=n.padStart(i,"0"),a=s.slice(0,-i),u=s.slice(-i).replace(/\.?0+$/,"");return a===""?`0.${u}`:u===""?a:`${a}.${u}`},DF=(r,e)=>{rt.validate(["number"],[r]);const t=bg[e];if(!t)throw new uE(e);const[n,i]=String(typeof r=="string"&&!Qt(r)?r:Pn(r)).split(".").concat(""),a=BigInt(`${n}${i}`)*t,u=t.toString().length-1,l=Math.min(i.length,u);return l===0?a.toString():a.toString().padStart(l,"0").slice(0,-l)},cs=r=>{if(!pi(r,!1))throw new tg(r);const e=r.toLowerCase().replace(/^0x/i,""),t=St(Jr(Ro(e)));if(le(t)||t==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let n="0x";const i=t.replace(/^0x/i,"");for(let s=0;s<e.length;s+=1)parseInt(i[s],16)>7?n+=e[s].toUpperCase():n+=e[s];return n},RF=Qt,MF=dg,NF=QE,BF=pi,kF=Wa,LF=Xl,FF=pF,UF=gF,jF=ol,HF=yF,$F=(r,e)=>{const t=typeof r=="string"&&Hr(r),n=typeof e=="string"&&Hr(e);if(r===e||(r==="earliest"||r===0)&&(e==="earliest"||e===0))return 0;if(r==="earliest"&&e>0)return-1;if(e==="earliest"&&r>0)return 1;if(t&&n){const a={[Zi.EARLIEST]:1,[Zi.FINALIZED]:2,[Zi.SAFE]:3,[Zi.LATEST]:4,[Zi.PENDING]:5};return a[r]<a[e]?-1:1}if(t&&!n||!t&&n)throw new Dk("Cannot compare blocktag with provided non-blocktag input.");const i=BigInt(r),s=BigInt(e);return i<s?-1:i===s?0:1},bt=le,vb=r=>typeof r=="object"&&!le(r)&&!Array.isArray(r)&&!(r instanceof mg),Gs=(r,...e)=>{const t=r;if(!vb(t))return t;for(const n of e)for(const i in n)vb(n[i])?(t[i]||(t[i]={}),Gs(t[i],n[i])):!le(n[i])&&Object.hasOwnProperty.call(n,i)&&(Array.isArray(n[i])||n[i]instanceof mg?t[i]=n[i].slice(0):t[i]=n[i]);return t},Wc=(r,e,t="0")=>typeof r=="string"?Qt(r)?sl(r,e,t):r.padStart(e,t):(rt.validate(["int"],[r]),sl(r,e,t)),t2=(r,e,t="0")=>{if(typeof r=="string"&&!Qt(r))return r.padEnd(e,t);rt.validate(["int"],[r]);const n=typeof r=="string"&&Qt(r)?r:On(r),i=n.startsWith("-")?3:2;return n.padEnd(e+i,t)},_g=t2,Na=Wc,r2=(r,e=64)=>{rt.validate(["int"],[r]);const t=Pn(r);if(t>=0)return Wc(as(t),e);const n=BigInt(2)**BigInt(e*4);if(-t>=n)throw new fE(`value: ${r}, nibbleWidth: ${e}`);const s=BigInt(t)+n;return Wc(On(s),e)},qF=(r,e=64)=>{rt.validate(["int"],[r]);const t=Pn(r);if(t<0)return t;const n=Math.ceil(Math.log(Number(t))/Math.log(2));if(n>e*4)throw new fE(`value: "${r}", nibbleWidth: "${e}"`);if(e*4!==n)return t;const i=BigInt(2)**(BigInt(e)*BigInt(4));return Pn(BigInt(t)-i)};function mi(...r){const e=r.reduce((i,s)=>i+s.length,0),t=new Uint8Array(e);let n=0;for(const i of r)t.set(i,n),n+=i.length;return t}function Zl(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t+=1)if(r[t]!==e[t])return!1;return!0}const{parseBaseType:GF}=WE,vo=r=>typeof r=="object"&&!le(r)&&"number"in r&&"bytes"in r,zF=(r,e,t=[])=>{let n=Object.assign({},r),i;for(const s of e){if(n.oneOf&&i){const a=t.find(function(u){return this===u[0]},i??"");a&&a[0]===i&&(n=n.oneOf[a[1]])}if(!n.properties&&!n.items)return;if(n.properties)n=n.properties[s];else if(n.items&&n.items.properties){const a=n.items.properties;if(!a)return;n=a[s]}else n.items&&Ta(n.items)?n=n.items:n.items&&Array.isArray(n.items)&&(n=n.items[parseInt(s,10)]);n&&s&&(i=s)}return n},Bc=(r,e,t)=>{try{const{baseType:n,baseTypeSize:i}=GF(e);if(n==="int"||n==="uint")switch(t.number){case Zn.NUMBER:return Number(_a(r));case Zn.HEX:return On(_a(r));case Zn.STR:return _a(r).toString();case Zn.BIGINT:return _a(r);default:throw new $0(`Invalid format: ${String(t.number)}`)}if(n==="bytes"){let s;switch(i?typeof r=="string"?s=Wc(r,i*2):r instanceof Uint8Array&&(s=mi(new Uint8Array(i-r.length),r)):s=r,t.bytes){case ss.HEX:return St(os(s));case ss.UINT8ARRAY:return os(s);default:throw new $0(`Invalid format: ${String(t.bytes)}`)}}}catch{return r}return r},cl=(r,e,t,n,i=[])=>{var s,a;if(!Ta(r)&&!Array.isArray(r))return Bc(r,e==null?void 0:e.format,n);const u=r;for(const[l,d]of Object.entries(u)){t.push(l);const p=zF(e,t,i);if(le(p)){delete u[l],t.pop();continue}if(Ta(d)){cl(d,e,t,n),t.pop();continue}if(Array.isArray(d)){let v=p;if((p==null?void 0:p.oneOf)!==void 0&&p.oneOf.forEach((x,S)=>{var C,B;!Array.isArray(p==null?void 0:p.items)&&(typeof d[0]=="object"&&((C=x==null?void 0:x.items)===null||C===void 0?void 0:C.type)==="object"||typeof d[0]=="string"&&((B=x==null?void 0:x.items)===null||B===void 0?void 0:B.type)!=="object")&&(v=x,i.push([l,S]))}),le(v==null?void 0:v.items)){delete u[l],t.pop();continue}if(Ta(v.items)&&!le(v.items.format)){for(let x=0;x<d.length;x+=1)u[l][x]=Bc(d[x],(s=v==null?void 0:v.items)===null||s===void 0?void 0:s.format,n);t.pop();continue}if(!Array.isArray(v==null?void 0:v.items)&&((a=v==null?void 0:v.items)===null||a===void 0?void 0:a.type)==="object"){for(const x of d)cl(x,e,t,n,i);t.pop();continue}if(Array.isArray(v==null?void 0:v.items)){for(let x=0;x<d.length;x+=1)u[l][x]=Bc(d[x],v.items[x].format,n);t.pop();continue}}u[l]=Bc(d,p.format,n),t.pop()}return u},_e=(r,e,t)=>{let n;Ta(e)?n=Gs({},e):Array.isArray(e)?n=[...e]:n=e;const i=Ta(r)?r:yg(r);if(!i.properties&&!i.items&&!i.format)throw new $0("Invalid json schema for formatting");return cl(n,i,[],t)},n2="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",mu=r=>{let e;typeof r=="string"?r.startsWith("0x")&&Qt(r)?e=cr(r):e=Ro(r):e=r;const t=St(Jr(e));return t===n2?void 0:t},Dn=r=>{const e=mu(r);return le(e)?n2:e},Qc=r=>{let e;return typeof r=="bigint"||typeof r=="number"?e=Ro(r.toString()):Array.isArray(r)?e=new Uint8Array(r):typeof r=="string"&&!Qt(r)?e=Ro(r):e=os(r),St(Jr(e))},VF=r=>{if(Array.isArray(r))throw new Error("Autodetection of array types is not supported.");let e,t;return typeof r=="object"&&("t"in r||"type"in r)&&("v"in r||"value"in r)?(e="t"in r?r.t:r.type,t="v"in r?r.v:r.value):(e=as(r,!0),t=as(r),!e.startsWith("int")&&!e.startsWith("uint")&&(e="bytes")),(e.startsWith("int")||e.startsWith("uint"))&&typeof t=="string"&&!/^(-)?0x/i.test(t)&&(t=_a(t)),[e,t]},KF=r=>r.startsWith("int[")?`int256${r.slice(3)}`:r==="int"?"int256":r.startsWith("uint[")?`uint256'${r.slice(4)}`:r==="uint"?"uint256":r,s0=(r,e)=>{const t=/^(\d+).*$/.exec(r.slice(e));return t?parseInt(t[1],10):0},bb=r=>r.toString(2).length,wb=(r,e)=>{const t=e.toString();if(r==="string"){if(typeof e=="string")return gi(e);throw new Tk(e)}if(r==="bool"||r==="boolean"){if(typeof e=="boolean")return e?"01":"00";throw new Pk(e)}if(r==="address"){if(!pi(t))throw new tg(t);return t}const n=KF(r);if(r.startsWith("uint")){const i=s0(n,4);if(i%8||i<8||i>256)throw new Z1(t);const s=Pn(t);if(bb(s)>i)throw new eb(t);if(s<BigInt(0))throw new Ok(t);return i?Na(s.toString(16),i/8*2):s.toString(16)}if(r.startsWith("int")){const i=s0(n,3);if(i%8||i<8||i>256)throw new Z1(r);const s=Pn(t);if(bb(s)>i)throw new eb(t);return s<BigInt(0)?r2(s.toString(),i/8*2):i?Na(s.toString(16),i/4):s.toString(16)}if(n==="bytes"){if(t.replace(/^0x/i,"").length%2!==0)throw new Uc(t);return t}if(r.startsWith("bytes")){if(t.replace(/^0x/i,"").length%2!==0)throw new Uc(t);const i=s0(r,5);if(!i||i<1||i>64||i<t.replace(/^0x/i,"").length/2)throw new Uc(t);return _g(t,i*2)}return""},i2=r=>{const[e,t]=VF(r);return Array.isArray(t)?t.map(s=>wb(e,s).replace("0x","")).join(""):wb(e,t).replace("0x","")},Eg=(...r)=>`0x${Array.prototype.slice.call(r).map(i2).join("").toLowerCase()}`,WF=(...r)=>mu(Eg(...r)),QF=(...r)=>Dn(Eg(...r)),JF=r=>mu(`0x${(typeof r=="number"?r.toString():r).padStart(64,"0")}`);function YF(r){return pE(r)}const Jc=r=>YF(r),XF=r=>St(Jc(r));var ul=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};function s2(r){return(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function ep(r,e,t){return ul(this,void 0,void 0,function*(){let n;const i=yield Promise.race([r instanceof Promise?r:r(),new Promise((s,a)=>{n=setTimeout(()=>t?a(t):s(void 0),e)})]);if(n&&clearTimeout(n),i instanceof Error)throw i;return i})}function o2(r,e){return ul(this,void 0,void 0,function*(){const t=ep(r,e);let n;const i=new Promise((a,u)=>{n=setInterval(()=>{ul(this,void 0,void 0,function*(){try{const l=yield ep(r,e);le(l)||(clearInterval(n),a(l))}catch(l){clearInterval(n),u(l)}})},e)}),s=yield t;return le(s)?i:(n&&clearInterval(n),s)})}function Ag(r,e){let t;const n=new Promise((i,s)=>{t=setTimeout(()=>{s(e)},r)});return[t,n]}function a2(r,e){let t;const n=new Promise((i,s)=>{t=setInterval(()=>{ul(this,void 0,void 0,function*(){const a=yield r();a&&(clearInterval(t),s(a))})},e)});return[t,n]}const xg=()=>{const r=Jc(16);r[6]=r[6]&15|64,r[8]=r[8]&63|128;const e=St(r);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")},Sg=r=>{const e=r.error.code;return un.has(e)||e>=-32099&&e<=-32e3},ts=r=>!Array.isArray(r)&&!!r&&r.jsonrpc==="2.0"&&"result"in r&&le(r.error)&&(typeof r.id=="number"||typeof r.id=="string"),rs=r=>!Array.isArray(r)&&r.jsonrpc==="2.0"&&!!r&&le(r.result)&&"error"in r&&(typeof r.id=="number"||typeof r.id=="string"),eh=r=>!Array.isArray(r)&&!!r&&r.jsonrpc==="2.0"&&!le(r.params)&&!le(r.method),c2=r=>!Array.isArray(r)&&!!r&&r.jsonrpc==="2.0"&&"id"in r&&"result"in r,fl=r=>ts(r)||rs(r),Ig=r=>Array.isArray(r)?r.every(fl):fl(r),Yc=r=>Array.isArray(r)&&r.length>0&&Ig(r);let Hf;const u2=r=>{Hf=r},No=r=>{var e,t,n,i;return typeof Hf<"u"&&(Hf+=1),{jsonrpc:(e=r.jsonrpc)!==null&&e!==void 0?e:"2.0",id:(n=(t=r.id)!==null&&t!==void 0?t:Hf)!==null&&n!==void 0?n:xg(),method:r.method,params:(i=r.params)!==null&&i!==void 0?i:void 0}},Tg=r=>r.map(e=>No(e)),ui=r=>Array.isArray(r)&&r.length>0,ZF=Object.freeze(Object.defineProperty({__proto__:null,isBatchRequest:ui,isBatchResponse:Yc,isResponseRpcError:Sg,isResponseWithError:rs,isResponseWithNotification:eh,isResponseWithResult:ts,isSubscriptionResult:c2,isValidResponse:Ig,setRequestIdStart:u2,toBatchPayload:Tg,toPayload:No,validateResponse:fl},Symbol.toStringTag,{value:"Module"}));var o0=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})},f2;class ll{constructor({timeout:e,eagerStart:t,timeoutMessage:n}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[f2]="Promise",this._state="pending",this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s}),this._timeoutMessage=n,this._timeoutInterval=e,t&&this.startTimer()}get state(){return this._state}then(e,t){return o0(this,void 0,void 0,function*(){return this._promise.then(e,t)})}catch(e){return o0(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return o0(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new iE(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}f2=Symbol.toStringTag;class l2{constructor(e,t){this.eventEmitter=e,this.autoReconnect=t}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const t=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(i=>{let s=i;this.lastChunk&&(s=this.lastChunk+s);let a;try{a=JSON.parse(s)}catch{this.lastChunk=s,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new Da({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},1e3*15);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,a&&t.push(a)}),t}}var _b=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};class h2 extends pu{constructor(){super(...arguments),this._eventEmitter=new Yr.EventEmitter,this._chainId="",this._accounts=[]}_getChainId(){var e;return _b(this,void 0,void 0,function*(){const t=yield this.request(No({method:"eth_chainId",params:[]}));return(e=t==null?void 0:t.result)!==null&&e!==void 0?e:""})}_getAccounts(){var e;return _b(this,void 0,void 0,function*(){const t=yield this.request(No({method:"eth_accounts",params:[]}));return(e=t==null?void 0:t.result)!==null&&e!==void 0?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(t=>e.includes(t))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,t){this._eventEmitter.emit("disconnect",{code:e,data:t})}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var e7=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const t7={autoReconnect:!0,delay:5e3,maxAttempts:5},r7=1e3;class d2 extends h2{constructor(e,t,n){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new q0(e);this._socketPath=e,this._socketOptions=t,this._reconnectOptions=Object.assign(Object.assign({},t7),n??{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new l2(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}get SocketConnection(){return this._socketConnection}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else throw this._connectionStatus="disconnected",e&&e.message?new hu(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new q0(this._socketPath)}}_validateProviderPath(e){return!!e}supportsSubscriptions(){return!0}on(e,t){this._eventEmitter.on(e,t)}once(e,t){this._eventEmitter.once(e,t)}removeListener(e,t){this._eventEmitter.removeListener(e,t)}_onDisconnect(e,t){this._connectionStatus="disconnected",super._onDisconnect(e,t)}disconnect(e,t){const n=e??r7;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(n,t),this._onDisconnect(n,t)}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((e,t)=>{e.deferredPromise.reject(new WB),this._sentRequestsQueue.delete(t)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new KB(this._reconnectOptions.maxAttempts))))}request(e){return e7(this,void 0,void 0,function*(){if(bt(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();const t=ui(e)?e[0].id:e.id;if(!t)throw new tk("Request Id not defined");if(this._sentRequestsQueue.has(t))throw new QB(t);const n=new ll;n.catch(s=>{this._eventEmitter.emit("error",s)});const i={payload:e,deferredPromise:n};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(t,i),i.deferredPromise;this._sentRequestsQueue.set(t,i);try{this._sendToSocket(i.payload)}catch(s){this._sentRequestsQueue.delete(t),this._eventEmitter.emit("error",s)}return n})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[e,t]of this._pendingRequestsQueue.entries())this._sendToSocket(t.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,t)}_onMessage(e){const t=this._parseResponses(e);if(t.length===0){this._reconnectOptions.autoReconnect&&this._reconnect();return}for(const n of t){if(eh(n)&&n.method.endsWith("_subscription")){this._eventEmitter.emit("message",n);return}const i=Yc(n)?n[0].id:n.id,s=this._sentRequestsQueue.get(i);if(!s)return;(Yc(n)||ts(n)||rs(n))&&(this._eventEmitter.emit("message",n),s.deferredPromise.resolve(n)),this._sentRequestsQueue.delete(i)}}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((t,n)=>{t.deferredPromise.reject(new H0(e)),this._pendingRequestsQueue.delete(n)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((t,n)=>{t.deferredPromise.reject(new H0(e)),this._sentRequestsQueue.delete(n)}),this._removeSocketListeners()}}const p2=Object.freeze(Object.defineProperty({__proto__:null,ChunkResponseParser:l2,Eip1193Provider:h2,SocketProvider:d2,Web3DeferredPromise:ll,asciiToHex:ZE,bytesToHex:St,bytesToUint8Array:os,checkAddressCheckSum:NF,compareBlockNumbers:$F,convert:cl,convertScalarValue:Bc,encodePacked:Eg,ethUnitMap:bg,format:_e,fromAscii:CF,fromDecimal:AF,fromTwosComplement:qF,fromUtf8:XE,fromWei:OF,getStorageSlotNumForLongString:JF,hexToAscii:e2,hexToBytes:cr,hexToNumber:gu,hexToNumberString:xF,hexToString:TF,hexToUtf8:wg,isAddress:BF,isBatchRequest:ui,isBatchResponse:Yc,isBloom:kF,isContractAddressInBloom:UF,isDataFormat:vo,isHex:MF,isHexStrict:RF,isInBloom:LF,isNullish:bt,isPromise:s2,isResponseRpcError:Sg,isResponseWithError:rs,isResponseWithNotification:eh,isResponseWithResult:ts,isSubscriptionResult:c2,isTopic:jF,isTopicInBloom:HF,isUserEthereumAddressInBloom:FF,isValidResponse:Ig,jsonRpc:ZF,keccak256:Qc,keccak256Wrapper:Qc,leftPad:Na,mergeDeep:Gs,numberToHex:On,padLeft:Wc,padRight:t2,pollTillDefined:o2,processSolidityEncodePackedArgs:i2,randomBytes:Jc,randomHex:XF,rejectIfConditionAtInterval:a2,rejectIfTimeout:Ag,rightPad:_g,setRequestIdStart:u2,sha3:mu,sha3Raw:Dn,soliditySha3:WF,soliditySha3Raw:QF,stringToHex:SF,toAscii:PF,toBatchPayload:Tg,toBigInt:_a,toChecksumAddress:cs,toDecimal:EF,toHex:as,toNumber:Pn,toPayload:No,toTwosComplement:r2,toUtf8:IF,toWei:DF,uint8ArrayConcat:mi,uint8ArrayEquals:Zl,utf8ToHex:gi,uuidV4:xg,validateResponse:fl,waitWithTimeout:ep},Symbol.toStringTag,{value:"Module"}));class th{constructor(){this._emitter=new Yr.EventEmitter}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,t){this._emitter.emit(e,t)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}var Ba;(function(r){r.CONFIG_CHANGE="CONFIG_CHANGE"})(Ba||(Ba={}));class n7 extends th{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:750*1e3,transactionReceiptPollingInterval:void 0,transactionSendTimeout:750*1e3,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x0",defaultMaxPriorityFeePerGas:as(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0},this.setConfig(e??{})}setConfig(e){Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!bt(this.config.defaultCommon)&&!bt(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new nb(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!bt(this.config.defaultCommon)&&!bt(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new rb(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!bt(this.config.defaultHardfork)&&!bt(e)&&!bt(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new rb(this.config.defaultHardfork,e.hardfork);if(!bt(this.config.defaultChain)&&!bt(e)&&!bt(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new nb(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}_triggerConfigChange(e,t){this.emit(Ba.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:t})}}var i7=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};class Cg extends pu{constructor(e,t){if(super(),!Cg.validateClientUrl(e))throw new q0(e);this.clientUrl=e,this.httpProviderOptions=t}static validateClientUrl(e){return typeof e=="string"?/^http(s)?:\/\//i.test(e):!1}getStatus(){throw new Ki}supportsSubscriptions(){return!1}request(e,t){var n;return i7(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},(n=this.httpProviderOptions)===null||n===void 0?void 0:n.providerOptions),t),s=yield k0(this.clientUrl,Object.assign(Object.assign({},i),{method:"POST",headers:Object.assign(Object.assign({},i.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!s.ok)throw new Xi(yield s.json());return yield s.json()})}on(){throw new Ki}removeListener(){throw new Ki}once(){throw new Ki}removeAllListeners(){throw new Ki}connect(){throw new Ki}disconnect(){throw new Ki}reset(){throw new Ki}reconnect(){throw new Ki}}var ya=null;typeof WebSocket<"u"?ya=WebSocket:typeof MozWebSocket<"u"?ya=MozWebSocket:typeof global<"u"?ya=global.WebSocket||global.MozWebSocket:typeof window<"u"?ya=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ya=self.WebSocket||self.MozWebSocket);const s7=ya;class o7 extends d2{constructor(e,t,n){super(e,t,n)}_validateProviderPath(e){return typeof e=="string"?/^ws(s)?:\/\//i.test(e):!1}getStatus(){if(this._socketConnection&&!bt(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new s7(this._socketPath,void 0,this._socketOptions&&Object.keys(this._socketOptions).length===0?void 0:this._socketOptions)}_closeSocketConnection(e,t){var n;(n=this._socketConnection)===null||n===void 0||n.close(e,t)}_sendToSocket(e){var t;if(this.getStatus()==="disconnected")throw new H0;(t=this._socketConnection)===null||t===void 0||t.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,t,n,i;(e=this._socketConnection)===null||e===void 0||e.addEventListener("open",this._onOpenHandler),(t=this._socketConnection)===null||t===void 0||t.addEventListener("message",this._onMessageHandler),(n=this._socketConnection)===null||n===void 0||n.addEventListener("close",s=>this._onCloseHandler(s)),(i=this._socketConnection)===null||i===void 0||i.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,t,n;(e=this._socketConnection)===null||e===void 0||e.removeEventListener("message",this._onMessageHandler),(t=this._socketConnection)===null||t===void 0||t.removeEventListener("open",this._onOpenHandler),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var t;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(e.code)||!e.wasClean)){this._reconnect();return}this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),(t=this._socketConnection)===null||t===void 0||t.removeEventListener("error",this._onErrorHandler)}}const Pg=r=>pu.isWeb3Provider(r),g2=r=>typeof r!="string"&&"request"in r&&r.request.constructor.name==="Function",m2=r=>typeof r!="string"&&"request"in r&&r.request.constructor.name==="AsyncFunction",y2=r=>typeof r!="string"&&"send"in r,v2=r=>typeof r!="string"&&"sendAsync"in r,b2=r=>Pg(r)||m2(r)||g2(r)||v2(r)||y2(r),a7=r=>Pg(r)?r.supportsSubscriptions():typeof r!="string"&&"on"in r;var a0=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})},ka;(function(r){r.PROVIDER_CHANGED="PROVIDER_CHANGED",r.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"})(ka||(ka={}));const Eb={HttpProvider:Cg,WebsocketProvider:o7};class Po extends th{constructor(e,t){super(),bt(e)||this.setProvider(e),this.useRpcCallSpecification=t}static get providers(){return Eb}get provider(){return this._provider}get providers(){return Eb}setProvider(e){let t;if(e&&typeof e=="string"&&this.providers)if(/^http(s)?:\/\//i.test(e))t=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))t=new this.providers.WebsocketProvider(e);else throw new Nf(`Can't autodetect provider for "${e}"`);else bt(e)?t=void 0:t=e;return this.emit(ka.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=t,this.emit(ka.PROVIDER_CHANGED,this._provider),!0}send(e){return a0(this,void 0,void 0,function*(){const t=yield this._sendRequest(e);if(ts(t))return t.result;throw new Xi(t)})}sendBatch(e){return a0(this,void 0,void 0,function*(){return yield this._sendRequest(e)})}_sendRequest(e){return a0(this,void 0,void 0,function*(){const{provider:t}=this;if(bt(t))throw new Nf("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");const n=ui(e)?Tg(e):No(e);if(Pg(t)){let i;try{i=yield t.request(n)}catch(s){i=s}return this._processJsonRpcResponse(n,i,{legacy:!1,error:!1})}if(m2(t))return t.request(n).then(i=>this._processJsonRpcResponse(n,i,{legacy:!0,error:!1})).catch(i=>this._processJsonRpcResponse(n,i,{legacy:!0,error:!0}));if(g2(t))return new Promise((i,s)=>{const a=d=>s(this._processJsonRpcResponse(n,d,{legacy:!0,error:!0})),u=d=>i(this._processJsonRpcResponse(n,d,{legacy:!0,error:!1})),l=t.request(n,(d,p)=>d?a(d):u(p));s2(l)&&l.then(u).catch(a)});if(y2(t))return new Promise((i,s)=>{t.send(n,(a,u)=>{if(a)return s(this._processJsonRpcResponse(n,a,{legacy:!0,error:!0}));if(bt(u))throw new Xi("",'Got a "nullish" response from provider.');return i(this._processJsonRpcResponse(n,u,{legacy:!0,error:!1}))})});if(v2(t))return t.sendAsync(n).then(i=>this._processJsonRpcResponse(n,i,{legacy:!0,error:!1})).catch(i=>this._processJsonRpcResponse(n,i,{legacy:!0,error:!0}));throw new Nf("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(e,t,{legacy:n,error:i}){if(bt(t))return this._buildResponse(e,null,i);if(rs(t)){if(this.useRpcCallSpecification&&Sg(t)){const s=t;if(un.get(s.error.code)){const a=un.get(s.error.code).error;throw new a(s)}else throw new Mn(s)}else if(!Po._isReverted(t))throw new Da(t,e)}if(ts(t))return t;if(t instanceof Error)throw Po._isReverted(t),t;if(!n&&ui(e)&&Yc(t)||n&&!i&&ui(e))return t;if(n&&i&&ui(e))throw t;if(n&&!rs(t)&&!ts(t))return this._buildResponse(e,t,i);throw ui(e)&&!Array.isArray(t)?new Xi(t,"Got normal response for a batch request."):!ui(e)&&Array.isArray(t)?new Xi(t,"Got batch response for a normal request."):(rs(t)||ts(t))&&!ui(e)&&t.id&&e.id!==t.id?new Da(t):new Xi(t,"Invalid response")}static _isReverted(e){let t;if(rs(e)?t=e.error:e instanceof Error&&(t=e),t!=null&&t.message.includes("revert"))throw new is(t);return!1}_buildResponse(e,t,n){const i={jsonrpc:"2.0",id:ui(e)?e[0].id:"id"in e?e.id:null};return n?Object.assign(Object.assign({},i),{error:t}):Object.assign(Object.assign({},i),{result:t})}}var Dc=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};class tp{constructor(e,t,n=!1){this.requestManager=e,this.registeredSubscriptions=t,this.tolerateUnlinkedSubscription=n,this._subscriptions=new Map,this.requestManager.on(ka.BEFORE_PROVIDER_CHANGE,()=>Dc(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(ka.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;!this.requestManager.provider||typeof(e==null?void 0:e.supportsSubscriptions)=="function"&&!(e!=null&&e.supportsSubscriptions())||typeof this.requestManager.provider.on=="function"&&(typeof this.requestManager.provider.request=="function"?this.requestManager.provider.on("message",t=>this.messageListener(t)):e.on("data",t=>this.messageListener(t)))}messageListener(e){var t,n,i;if(!e)throw new di("Should not call messageListener with no data. Type was");const s=((t=e.params)===null||t===void 0?void 0:t.subscription)||((n=e.data)===null||n===void 0?void 0:n.subscription)||((i=e.id)===null||i===void 0?void 0:i.toString(16));if(s){const a=this._subscriptions.get(s);a==null||a.processSubscriptionData(e)}}subscribe(e,t,n=qe){return Dc(this,void 0,void 0,function*(){const i=this.registeredSubscriptions[e];if(!i)throw new di("Invalid subscription type");const s=new i(t??void 0,{subscriptionManager:this,returnFormat:n});return yield this.addSubscription(s),s})}get subscriptions(){return this._subscriptions}addSubscription(e){return Dc(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new Nf("Provider not available");if(!this.supportsSubscriptions())throw new di("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new di(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),bt(e.id))throw new di("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id})}removeSubscription(e){return Dc(this,void 0,void 0,function*(){const{id:t}=e;if(bt(t))throw new di("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(t)&&!this.tolerateUnlinkedSubscription)throw new di(`Subscription with id "${t.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(t),t})}unsubscribe(e){return Dc(this,void 0,void 0,function*(){const t=[];for(const[n,i]of this.subscriptions.entries())(!e||typeof e=="function"&&e({id:n,sub:i}))&&t.push(this.removeSubscription(i));return Promise.all(t)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return bt(this.requestManager.provider)?!1:a7(this.requestManager.provider)}}var Rc=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};class yu extends th{constructor(e,t){var n;super(),this.args=e;const{requestManager:i}=t,{subscriptionManager:s}=t;if(i&&s)throw new di("Only requestManager or subscriptionManager should be provided at Subscription constructor");if(!i&&!s)throw new di("Either requestManager or subscriptionManager should be provided at Subscription constructor");i?this._subscriptionManager=new tp(i,{},!0):this._subscriptionManager=s,this._returnFormat=(n=t==null?void 0:t.returnFormat)!==null&&n!==void 0?n:qe}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return Rc(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(e){var t,n;e!=null&&e.data?this._processSubscriptionResult((n=(t=e==null?void 0:e.data)===null||t===void 0?void 0:t.result)!==null&&n!==void 0?n:e==null?void 0:e.data):e&&eh(e)&&this._processSubscriptionResult(e==null?void 0:e.params.result)}sendSubscriptionRequest(){return Rc(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this._id})}get returnFormat(){return this._returnFormat}resubscribe(){return Rc(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return Rc(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return Rc(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}_processSubscriptionResult(e){}_processSubscriptionError(e){}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var Ab=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const c7=1e3;class u7{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map(e=>e.payload)}add(e){const t=No(e),n=new ll;return this._requests.set(t.id,{payload:t,promise:n}),n}execute(){return Ab(this,void 0,void 0,function*(){if(this.requests.length===0)return Promise.resolve([]);const e=new ll({timeout:c7,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(e).catch(t=>e.reject(t)),e.catch(t=>{t instanceof iE&&this._abortAllRequests("Batch request timeout"),e.reject(t)}),e})}_processBatchRequest(e){var t,n;return Ab(this,void 0,void 0,function*(){const i=yield this._requestManager.sendBatch([...this._requests.values()].map(u=>u.payload));if(i.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new Xi(i,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${i.length}`);const s=this.requests.map(u=>u.id).map(Number).sort((u,l)=>u-l),a=i.map(u=>u.id).map(Number).sort((u,l)=>u-l);if(JSON.stringify(s)!==JSON.stringify(a))throw this._abortAllRequests("Invalid batch response"),new Xi(i,`Batch request mismatch the results. Requests: [${s.join()}], Responses: [${a.join()}]`);for(const u of i)ts(u)?(t=this._requests.get(u.id))===null||t===void 0||t.promise.resolve(u.result):rs(u)&&((n=this._requests.get(u.id))===null||n===void 0||n.promise.reject(u.error));e.resolve(i)})}_abortAllRequests(e){for(const{promise:t}of this._requests.values())t.reject(new ZB(e))}}class Ni extends n7{constructor(e){var t;if(super(),this.providers=Po.providers,bt(e)||typeof e=="string"&&e.trim()!==""||b2(e)){this._requestManager=new Po(e),this._subscriptionManager=new tp(this._requestManager,{});return}const{config:n,provider:i,requestManager:s,subscriptionManager:a,registeredSubscriptions:u,accountProvider:l,wallet:d}=e;this.setConfig(n??{}),this._requestManager=s??new Po(i,(t=n==null?void 0:n.enableExperimentalFeatures)===null||t===void 0?void 0:t.useSubscriptionWhenCheckingBlockTimeout),a?this._subscriptionManager=a:this._subscriptionManager=new tp(this.requestManager,u??{}),l&&(this._accountProvider=l),d&&(this._wallet=d)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:(e=this.subscriptionManager)===null||e===void 0?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...t){const n=new e(...t,this.getContextObject());return this.on(Ba.CONFIG_CHANGE,i=>{n.setConfig({[i.name]:i.newValue})}),n}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(Ba.CONFIG_CHANGE,t=>{this.setConfig({[t.name]:t.newValue})})}registerPlugin(e){if(this[e.pluginNamespace]!==void 0)throw new ek(e.pluginNamespace);const t={[e.pluginNamespace]:e};t[e.pluginNamespace].link(this),Object.assign(this,t)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return Ni.givenProvider}setProvider(e){return this.provider=e,!0}get BatchRequest(){return u7.bind(void 0,this._requestManager)}}Ni.providers=Po.providers;class Pr{constructor(e){if(this.toAddress=()=>{if(this.isDirect()){const t=this._iban.slice(4),n=Pr._parseInt(t,36),i=Na(n,40);return cs(i)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},Pr.isIndirect(e)||Pr.isDirect(e))this._iban=e;else throw new Error("Invalid IBAN was provided")}static isDirect(e){return e.length===34||e.length===35}isDirect(){return Pr.isDirect(this._iban)}static isIndirect(e){return e.length===20}isIndirect(){return Pr.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&Pr._mod9710(Pr._iso13616Prepare(e))===1}isValid(){return Pr.isValid(this._iban)}static fromBban(e){const t="XE",i=`0${(98-this._mod9710(this._iso13616Prepare(`${t}00${e}`))).toString()}`.slice(-2);return new Pr(`${t}${i}${e}`)}static createIndirect(e){return Pr.fromBban(`ETH${e.institution}${e.identifier}`)}static fromAddress(e){if(!pi(e))throw new tg(e);const n=BigInt(gu(e)).toString(36),i=Na(n,15);return Pr.fromBban(i.toUpperCase())}static toIban(e){return Pr.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}Pr._iso13616Prepare=r=>{const e="A".charCodeAt(0),t="Z".charCodeAt(0),n=r.toUpperCase();return`${n.slice(4)}${n.slice(0,4)}`.split("").map(s=>{const a=s.charCodeAt(0);return a>=e&&a<=t?a-e+10:s}).join("")};Pr._parseInt=(r,e)=>[...r].reduce((t,n)=>BigInt(parseInt(n,e))+BigInt(e)*t,BigInt(0));Pr._mod9710=r=>{let e=r,t;for(;e.length>2;)t=e.slice(0,9),e=`${(parseInt(t,10)%97).toString()}${e.slice(t.length)}`;return parseInt(e,10)%97};Pr.toAddress=r=>new Pr(r).toAddress();var c0=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})},w2;class _2 extends th{constructor(e){super(),this[w2]="Promise",this._promise=new Promise(e)}then(e,t){return c0(this,void 0,void 0,function*(){return this._promise.then(e,t)})}catch(e){return c0(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return c0(this,void 0,void 0,function*(){return this._promise.finally(e)})}on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}}w2=Symbol.toStringTag;(function(r,e){if(r.setImmediate)return;var t=1,n={},i=!1,s=r.document,a;function u(F){typeof F!="function"&&(F=new Function(""+F));for(var z=new Array(arguments.length-1),L=0;L<z.length;L++)z[L]=arguments[L+1];var k={callback:F,args:z};return n[t]=k,a(t),t++}function l(F){delete n[F]}function d(F){var z=F.callback,L=F.args;switch(L.length){case 0:z();break;case 1:z(L[0]);break;case 2:z(L[0],L[1]);break;case 3:z(L[0],L[1],L[2]);break;default:z.apply(e,L);break}}function p(F){if(i)setTimeout(p,0,F);else{var z=n[F];if(z){i=!0;try{d(z)}finally{l(F),i=!1}}}}function v(){a=function(F){process.nextTick(function(){p(F)})}}function x(){if(r.postMessage&&!r.importScripts){var F=!0,z=r.onmessage;return r.onmessage=function(){F=!1},r.postMessage("","*"),r.onmessage=z,F}}function S(){var F="setImmediate$"+Math.random()+"$",z=function(L){L.source===r&&typeof L.data=="string"&&L.data.indexOf(F)===0&&p(+L.data.slice(F.length))};r.addEventListener?r.addEventListener("message",z,!1):r.attachEvent("onmessage",z),a=function(L){r.postMessage(F+L,"*")}}function C(){var F=new MessageChannel;F.port1.onmessage=function(z){var L=z.data;p(L)},a=function(z){F.port2.postMessage(z)}}function B(){var F=s.documentElement;a=function(z){var L=s.createElement("script");L.onreadystatechange=function(){p(z),L.onreadystatechange=null,F.removeChild(L),L=null},F.appendChild(L)}}function $(){a=function(F){setTimeout(p,0,F)}}var Y=Object.getPrototypeOf&&Object.getPrototypeOf(r);Y=Y&&Y.setTimeout?Y:r,{}.toString.call(r.process)==="[object process]"?v():x()?S():r.MessageChannel?C():s&&"onreadystatechange"in s.createElement("script")?B():$(),Y.setImmediate=u,Y.clearImmediate=l})(typeof self>"u"?mr:self);var wt=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};function f7(r){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_protocolVersion",params:[]})})}function E2(r){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_syncing",params:[]})})}function l7(r){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_coinbase",params:[]})})}function h7(r){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_mining",params:[]})})}function d7(r){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_hashrate",params:[]})})}function p7(r){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_gasPrice",params:[]})})}function g7(r){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_accounts",params:[]})})}function m7(r){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_blockNumber",params:[]})})}function y7(r,e,t){return wt(this,void 0,void 0,function*(){return rt.validate(["address","blockNumberOrTag"],[e,t]),r.send({method:"eth_getBalance",params:[e,t]})})}function v7(r,e,t,n){return wt(this,void 0,void 0,function*(){return rt.validate(["address","hex","blockNumberOrTag"],[e,t,n]),r.send({method:"eth_getStorageAt",params:[e,t,n]})})}function b7(r,e,t){return wt(this,void 0,void 0,function*(){return rt.validate(["address","blockNumberOrTag"],[e,t]),r.send({method:"eth_getTransactionCount",params:[e,t]})})}function w7(r,e){return wt(this,void 0,void 0,function*(){return rt.validate(["bytes32"],[e]),r.send({method:"eth_getBlockTransactionCountByHash",params:[e]})})}function _7(r,e){return wt(this,void 0,void 0,function*(){return rt.validate(["blockNumberOrTag"],[e]),r.send({method:"eth_getBlockTransactionCountByNumber",params:[e]})})}function E7(r,e){return wt(this,void 0,void 0,function*(){return rt.validate(["bytes32"],[e]),r.send({method:"eth_getUncleCountByBlockHash",params:[e]})})}function A7(r,e){return wt(this,void 0,void 0,function*(){return rt.validate(["blockNumberOrTag"],[e]),r.send({method:"eth_getUncleCountByBlockNumber",params:[e]})})}function x7(r,e,t){return wt(this,void 0,void 0,function*(){return rt.validate(["address","blockNumberOrTag"],[e,t]),r.send({method:"eth_getCode",params:[e,t]})})}function S7(r,e,t){return wt(this,void 0,void 0,function*(){return rt.validate(["address","hex"],[e,t]),r.send({method:"eth_sign",params:[e,t]})})}function I7(r,e){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_signTransaction",params:[e]})})}function T7(r,e){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_sendTransaction",params:[e]})})}function A2(r,e){return wt(this,void 0,void 0,function*(){return rt.validate(["hex"],[e]),r.send({method:"eth_sendRawTransaction",params:[e]})})}function C7(r,e,t){return wt(this,void 0,void 0,function*(){return rt.validate(["blockNumberOrTag"],[t]),r.send({method:"eth_call",params:[e,t]})})}function P7(r,e,t){return wt(this,void 0,void 0,function*(){return rt.validate(["blockNumberOrTag"],[t]),r.send({method:"eth_estimateGas",params:[e,t]})})}function O7(r,e,t){return wt(this,void 0,void 0,function*(){return rt.validate(["bytes32","bool"],[e,t]),r.send({method:"eth_getBlockByHash",params:[e,t]})})}function x2(r,e,t){return wt(this,void 0,void 0,function*(){return rt.validate(["blockNumberOrTag","bool"],[e,t]),r.send({method:"eth_getBlockByNumber",params:[e,t]})})}function D7(r,e){return wt(this,void 0,void 0,function*(){return rt.validate(["bytes32"],[e]),r.send({method:"eth_getTransactionByHash",params:[e]})})}function R7(r,e,t){return wt(this,void 0,void 0,function*(){return rt.validate(["bytes32","hex"],[e,t]),r.send({method:"eth_getTransactionByBlockHashAndIndex",params:[e,t]})})}function M7(r,e,t){return wt(this,void 0,void 0,function*(){return rt.validate(["blockNumberOrTag","hex"],[e,t]),r.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[e,t]})})}function N7(r,e){return wt(this,void 0,void 0,function*(){return rt.validate(["bytes32"],[e]),r.send({method:"eth_getTransactionReceipt",params:[e]})})}function B7(r,e,t){return wt(this,void 0,void 0,function*(){return rt.validate(["bytes32","hex"],[e,t]),r.send({method:"eth_getUncleByBlockHashAndIndex",params:[e,t]})})}function k7(r,e,t){return wt(this,void 0,void 0,function*(){return rt.validate(["blockNumberOrTag","hex"],[e,t]),r.send({method:"eth_getUncleByBlockNumberAndIndex",params:[e,t]})})}function L7(r,e){return wt(this,void 0,void 0,function*(){return rt.validate(["filter"],[e]),r.send({method:"eth_getLogs",params:[e]})})}function F7(r){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_getWork",params:[]})})}function U7(r,e,t,n){return wt(this,void 0,void 0,function*(){return rt.validate(["bytes8","bytes32","bytes32"],[e,t,n]),r.send({method:"eth_submitWork",params:[e,t,n]})})}function j7(r,e,t,n){return wt(this,void 0,void 0,function*(){rt.validate(["hex","blockNumberOrTag"],[e,t]);for(const i of n)rt.validate(["number"],[i]);return r.send({method:"eth_feeHistory",params:[e,t,n]})})}function H7(r){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_pendingTransactions",params:[]})})}function $7(r){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_requestAccounts",params:[]})})}function q7(r){return wt(this,void 0,void 0,function*(){return r.send({method:"eth_chainId",params:[]})})}function G7(r,e,t,n){return wt(this,void 0,void 0,function*(){return rt.validate(["address","bytes32[]","blockNumberOrTag"],[e,t,n]),r.send({method:"eth_getProof",params:[e,t,n]})})}function z7(r){return wt(this,void 0,void 0,function*(){return r.send({method:"web3_clientVersion",params:[]})})}function V7(r,e,t){return wt(this,void 0,void 0,function*(){return rt.validate(["blockNumberOrTag"],[t]),r.send({method:"eth_createAccessList",params:[e,t]})})}var Og=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};function K7(r){return Og(this,void 0,void 0,function*(){return r.send({method:"net_version",params:[]})})}function W7(r){return Og(this,void 0,void 0,function*(){return r.send({method:"net_peerCount",params:[]})})}function Q7(r){return Og(this,void 0,void 0,function*(){return r.send({method:"net_listening",params:[]})})}var us=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const J7=r=>us(void 0,void 0,void 0,function*(){return r.send({method:"personal_listAccounts",params:[]})}),Y7=(r,e)=>us(void 0,void 0,void 0,function*(){return r.send({method:"personal_newAccount",params:[e]})}),X7=(r,e,t,n)=>us(void 0,void 0,void 0,function*(){return r.send({method:"personal_unlockAccount",params:[e,t,n]})}),Z7=(r,e)=>us(void 0,void 0,void 0,function*(){return r.send({method:"personal_lockAccount",params:[e]})}),eU=(r,e,t)=>us(void 0,void 0,void 0,function*(){return r.send({method:"personal_importRawKey",params:[e,t]})}),tU=(r,e,t)=>us(void 0,void 0,void 0,function*(){return r.send({method:"personal_sendTransaction",params:[e,t]})}),rU=(r,e,t)=>us(void 0,void 0,void 0,function*(){return r.send({method:"personal_signTransaction",params:[e,t]})}),nU=(r,e,t,n)=>us(void 0,void 0,void 0,function*(){return r.send({method:"personal_sign",params:[e,t,n]})}),iU=(r,e,t)=>us(void 0,void 0,void 0,function*(){return r.send({method:"personal_ecRecover",params:[e,t]})});var ua=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};class hl extends lF{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch(t){return t&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!le(e)&&e.length!==0?e:void 0}}create(e){for(let t=0;t<e;t+=1)this.add(this._accountProvider.create());return this}add(e){var t;if(typeof e=="string")return this.add(this._accountProvider.privateKeyToAccount(e));let n=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),n=(t=this._addressMap.get(e.address.toLowerCase()))!==null&&t!==void 0?t:n),this._addressMap.set(e.address.toLowerCase(),n),this[n]=e,this}get(e){if(typeof e=="string"){const t=this._addressMap.get(e.toLowerCase());return le(t)?void 0:this[t]}return this[e]}remove(e){if(typeof e=="string"){const t=this._addressMap.get(e.toLowerCase());return le(t)?!1:(this._addressMap.delete(e.toLowerCase()),this.splice(t,1),!0)}return this[e]?(this.splice(e,1),!0):!1}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,t){return ua(this,void 0,void 0,function*(){return Promise.all(this.map(n=>ua(this,void 0,void 0,function*(){return n.encrypt(e,t)})))})}decrypt(e,t,n){return ua(this,void 0,void 0,function*(){const i=yield Promise.all(e.map(s=>ua(this,void 0,void 0,function*(){return this._accountProvider.decrypt(s,t,n)})));for(const s of i)this.add(s);return this})}save(e,t){return ua(this,void 0,void 0,function*(){const n=hl.getStorage();if(!n)throw new Error("Local storage not available.");return n.setItem(t??this._defaultKeyName,JSON.stringify(yield this.encrypt(e))),!0})}load(e,t){return ua(this,void 0,void 0,function*(){const n=hl.getStorage();if(!n)throw new Error("Local storage not available.");const i=n.getItem(t??this._defaultKeyName);return i&&(yield this.decrypt(JSON.parse(i)||[],e)),this})}}const Ri={web:Bf};function S2(r,e,t){if(!t.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${t}`);if(e.length!==16)throw new Error("AES: wrong IV length");if(t.startsWith("aes-128")&&r.length!==16||t.startsWith("aes-256")&&r.length!==32)throw new Error("AES: wrong key length")}async function I2(r,e,t){if(!Ri.web)throw new Error("Browser crypto not available.");let n;if(["aes-128-cbc","aes-256-cbc"].includes(r)&&(n="cbc"),["aes-128-ctr","aes-256-ctr"].includes(r)&&(n="ctr"),!n)throw new Error("AES: unsupported mode");return[await Ri.web.subtle.importKey("raw",e,{name:`AES-${n.toUpperCase()}`,length:e.length*8},!0,["encrypt","decrypt"]),{name:`aes-${n}`,iv:t,counter:t,length:128}]}async function Dg(r,e,t,n="aes-128-ctr",i=!0){if(S2(e,t,n),Ri.web){const[s,a]=await I2(n,e,t),u=await Ri.web.subtle.encrypt(a,s,r);let l=new Uint8Array(u);return!i&&a.name==="aes-cbc"&&!(r.length%16)&&(l=l.slice(0,-16)),l}else if(Ri.node){const s=Ri.node.createCipheriv(n,e,t);return s.setAutoPadding(i),Zf(s.update(r),s.final())}else throw new Error("The environment doesn't have AES module")}async function sU(r,e,t,n){const i=r.slice(-16);for(let a=0;a<16;a++)i[a]^=t[a]^16;return(await Dg(i,e,t,n)).slice(0,16)}async function oU(r,e,t,n="aes-128-ctr",i=!0){if(S2(e,t,n),Ri.web){const[s,a]=await I2(n,e,t);if(!i&&a.name==="aes-cbc"){const d=await sU(r,e,t,n);r=Zf(r,d)}const u=await Ri.web.subtle.decrypt(a,s,r),l=new Uint8Array(u);if(a.name==="aes-cbc"){const d=await Dg(l,e,t,n);if(!O9(d,r))throw new Error("AES: wrong padding")}return l}else if(Ri.node){const s=Ri.node.createDecipheriv(n,e,t);return s.setAutoPadding(i),Zf(s.update(r),s.final())}else throw new Error("The environment doesn't have AES module")}class T2 extends ql{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ut.hash(e);const n=ei(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return Ut.exists(this),this.iHash.update(e),this}digestInto(e){Ut.exists(this),Ut.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Rg=(r,e,t)=>new T2(r,e).update(t).digest();Rg.create=(r,e)=>new T2(r,e);function aU(r,e,t,n){Ut.hash(r);const i=dE({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:u}=i;if(Ut.number(s),Ut.number(a),Ut.number(u),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=ei(e),d=ei(t),p=new Uint8Array(a),v=Rg.create(r,l),x=v._cloneInto().update(d);return{c:s,dkLen:a,asyncTick:u,DK:p,PRF:v,PRFSalt:x}}function cU(r,e,t,n,i){return r.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),t}function Mg(r,e,t,n){const{c:i,dkLen:s,DK:a,PRF:u,PRFSalt:l}=aU(r,e,t,n);let d;const p=new Uint8Array(4),v=kf(p),x=new Uint8Array(u.outputLen);for(let S=1,C=0;C<s;S++,C+=u.outputLen){const B=a.subarray(C,C+u.outputLen);v.setInt32(0,S,!1),(d=l._cloneInto(d)).update(p).digestInto(x),B.set(x.subarray(0,B.length));for(let $=1;$<i;$++){u._cloneInto(d).update(x).digestInto(x);for(let Y=0;Y<B.length;Y++)B[Y]^=x[Y]}}return cU(u,l,a,d,x)}function uU(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(t>>i&s),u=Number(t&s),l=n?4:0,d=n?0:4;r.setUint32(e+l,a,n),r.setUint32(e+d,u,n)}class C2 extends ql{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=kf(this.buffer)}update(e){Ut.exists(this);const{view:t,buffer:n,blockLen:i}=this;e=ei(e);const s=e.length;for(let a=0;a<s;){const u=Math.min(i-this.pos,s-a);if(u===i){const l=kf(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+u),this.pos),this.pos+=u,a+=u,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ut.exists(this),Ut.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let v=a;v<i;v++)t[v]=0;uU(n,i-8,BigInt(this.length*8),s),this.process(n,0);const u=kf(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=l/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<d;v++)u.setUint32(4*v,p[v],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:i,finished:s,destroyed:a,pos:u}=this;return e.length=i,e.pos=u,e.finished=s,e.destroyed=a,i%t&&e.buffer.set(n),e}}const fU=(r,e,t)=>r&e^~r&t,lU=(r,e,t)=>r&e^r&t^e&t,hU=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ts=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cs=new Uint32Array(64);class P2 extends C2{constructor(){super(64,32,8,!1),this.A=Ts[0]|0,this.B=Ts[1]|0,this.C=Ts[2]|0,this.D=Ts[3]|0,this.E=Ts[4]|0,this.F=Ts[5]|0,this.G=Ts[6]|0,this.H=Ts[7]|0}get(){const{A:e,B:t,C:n,D:i,E:s,F:a,G:u,H:l}=this;return[e,t,n,i,s,a,u,l]}set(e,t,n,i,s,a,u,l){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=u|0,this.H=l|0}process(e,t){for(let v=0;v<16;v++,t+=4)Cs[v]=e.getUint32(t,!1);for(let v=16;v<64;v++){const x=Cs[v-15],S=Cs[v-2],C=Pi(x,7)^Pi(x,18)^x>>>3,B=Pi(S,17)^Pi(S,19)^S>>>10;Cs[v]=B+Cs[v-7]+C+Cs[v-16]|0}let{A:n,B:i,C:s,D:a,E:u,F:l,G:d,H:p}=this;for(let v=0;v<64;v++){const x=Pi(u,6)^Pi(u,11)^Pi(u,25),S=p+x+fU(u,l,d)+hU[v]+Cs[v]|0,B=(Pi(n,2)^Pi(n,13)^Pi(n,22))+lU(n,i,s)|0;p=d,d=l,l=u,u=a+S|0,a=s,s=i,i=n,n=S+B|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,u=u+this.E|0,l=l+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(n,i,s,a,u,l,d,p)}roundClean(){Cs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class dU extends P2{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const rh=Ho(()=>new P2);Ho(()=>new dU);const[pU,gU]=je.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Ps=new Uint32Array(80),Os=new Uint32Array(80);class nh extends C2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:i,Ch:s,Cl:a,Dh:u,Dl:l,Eh:d,El:p,Fh:v,Fl:x,Gh:S,Gl:C,Hh:B,Hl:$}=this;return[e,t,n,i,s,a,u,l,d,p,v,x,S,C,B,$]}set(e,t,n,i,s,a,u,l,d,p,v,x,S,C,B,$){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=u|0,this.Dl=l|0,this.Eh=d|0,this.El=p|0,this.Fh=v|0,this.Fl=x|0,this.Gh=S|0,this.Gl=C|0,this.Hh=B|0,this.Hl=$|0}process(e,t){for(let z=0;z<16;z++,t+=4)Ps[z]=e.getUint32(t),Os[z]=e.getUint32(t+=4);for(let z=16;z<80;z++){const L=Ps[z-15]|0,k=Os[z-15]|0,D=je.rotrSH(L,k,1)^je.rotrSH(L,k,8)^je.shrSH(L,k,7),y=je.rotrSL(L,k,1)^je.rotrSL(L,k,8)^je.shrSL(L,k,7),A=Ps[z-2]|0,ne=Os[z-2]|0,U=je.rotrSH(A,ne,19)^je.rotrBH(A,ne,61)^je.shrSH(A,ne,6),Q=je.rotrSL(A,ne,19)^je.rotrBL(A,ne,61)^je.shrSL(A,ne,6),Z=je.add4L(y,Q,Os[z-7],Os[z-16]),N=je.add4H(Z,D,U,Ps[z-7],Ps[z-16]);Ps[z]=N|0,Os[z]=Z|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:u,Cl:l,Dh:d,Dl:p,Eh:v,El:x,Fh:S,Fl:C,Gh:B,Gl:$,Hh:Y,Hl:F}=this;for(let z=0;z<80;z++){const L=je.rotrSH(v,x,14)^je.rotrSH(v,x,18)^je.rotrBH(v,x,41),k=je.rotrSL(v,x,14)^je.rotrSL(v,x,18)^je.rotrBL(v,x,41),D=v&S^~v&B,y=x&C^~x&$,A=je.add5L(F,k,y,gU[z],Os[z]),ne=je.add5H(A,Y,L,D,pU[z],Ps[z]),U=A|0,Q=je.rotrSH(n,i,28)^je.rotrBH(n,i,34)^je.rotrBH(n,i,39),Z=je.rotrSL(n,i,28)^je.rotrBL(n,i,34)^je.rotrBL(n,i,39),N=n&s^n&u^s&u,f=i&a^i&l^a&l;Y=B|0,F=$|0,B=S|0,$=C|0,S=v|0,C=x|0,{h:v,l:x}=je.add(d|0,p|0,ne|0,U|0),d=u|0,p=l|0,u=s|0,l=a|0,s=n|0,a=i|0;const g=je.add3L(U,Z,f);n=je.add3H(g,ne,Q,N),i=g|0}({h:n,l:i}=je.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=je.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:u,l}=je.add(this.Ch|0,this.Cl|0,u|0,l|0),{h:d,l:p}=je.add(this.Dh|0,this.Dl|0,d|0,p|0),{h:v,l:x}=je.add(this.Eh|0,this.El|0,v|0,x|0),{h:S,l:C}=je.add(this.Fh|0,this.Fl|0,S|0,C|0),{h:B,l:$}=je.add(this.Gh|0,this.Gl|0,B|0,$|0),{h:Y,l:F}=je.add(this.Hh|0,this.Hl|0,Y|0,F|0),this.set(n,i,s,a,u,l,d,p,v,x,S,C,B,$,Y,F)}roundClean(){Ps.fill(0),Os.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class mU extends nh{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class yU extends nh{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class vU extends nh{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const bU=Ho(()=>new nh);Ho(()=>new mU);Ho(()=>new yU);Ho(()=>new vU);function O2(r,e,t,n,i){if(!["sha256","sha512"].includes(i))throw new Error("Only sha256 and sha512 are supported");return Kc(r),Kc(e),Mg(i==="sha256"?rh:bU,r,e,{c:t,dkLen:n})}const Lt=(r,e)=>r<<e|r>>>32-e;function xb(r,e,t,n,i,s){let a=r[e++]^t[n++],u=r[e++]^t[n++],l=r[e++]^t[n++],d=r[e++]^t[n++],p=r[e++]^t[n++],v=r[e++]^t[n++],x=r[e++]^t[n++],S=r[e++]^t[n++],C=r[e++]^t[n++],B=r[e++]^t[n++],$=r[e++]^t[n++],Y=r[e++]^t[n++],F=r[e++]^t[n++],z=r[e++]^t[n++],L=r[e++]^t[n++],k=r[e++]^t[n++],D=a,y=u,A=l,ne=d,U=p,Q=v,Z=x,N=S,f=C,g=B,w=$,T=Y,O=F,R=z,H=L,P=k;for(let m=0;m<8;m+=2)U^=Lt(D+O|0,7),f^=Lt(U+D|0,9),O^=Lt(f+U|0,13),D^=Lt(O+f|0,18),g^=Lt(Q+y|0,7),R^=Lt(g+Q|0,9),y^=Lt(R+g|0,13),Q^=Lt(y+R|0,18),H^=Lt(w+Z|0,7),A^=Lt(H+w|0,9),Z^=Lt(A+H|0,13),w^=Lt(Z+A|0,18),ne^=Lt(P+T|0,7),N^=Lt(ne+P|0,9),T^=Lt(N+ne|0,13),P^=Lt(T+N|0,18),y^=Lt(D+ne|0,7),A^=Lt(y+D|0,9),ne^=Lt(A+y|0,13),D^=Lt(ne+A|0,18),Z^=Lt(Q+U|0,7),N^=Lt(Z+Q|0,9),U^=Lt(N+Z|0,13),Q^=Lt(U+N|0,18),T^=Lt(w+g|0,7),f^=Lt(T+w|0,9),g^=Lt(f+T|0,13),w^=Lt(g+f|0,18),O^=Lt(P+H|0,7),R^=Lt(O+P|0,9),H^=Lt(R+O|0,13),P^=Lt(H+R|0,18);i[s++]=a+D|0,i[s++]=u+y|0,i[s++]=l+A|0,i[s++]=d+ne|0,i[s++]=p+U|0,i[s++]=v+Q|0,i[s++]=x+Z|0,i[s++]=S+N|0,i[s++]=C+f|0,i[s++]=B+g|0,i[s++]=$+w|0,i[s++]=Y+T|0,i[s++]=F+O|0,i[s++]=z+R|0,i[s++]=L+H|0,i[s++]=k+P|0}function u0(r,e,t,n,i){let s=n+0,a=n+16*i;for(let u=0;u<16;u++)t[a+u]=r[e+(2*i-1)*16+u];for(let u=0;u<i;u++,s+=16,e+=16)xb(t,a,r,e,t,s),u>0&&(a+=16),xb(t,s,r,e+=16,t,a)}function wU(r,e,t){const n=dE({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:s,p:a,dkLen:u,asyncTick:l,maxmem:d,onProgress:p}=n;if(Ut.number(i),Ut.number(s),Ut.number(a),Ut.number(u),Ut.number(l),Ut.number(d),p!==void 0&&typeof p!="function")throw new Error("progressCb should be function");const v=128*s,x=v/4;if(i<=1||i&i-1||i>=2**(v/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/v)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(u<0||u>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const S=v*(i+a);if(S>d)throw new Error(`Scrypt: parameters too large, ${S} (128 * r * (N + p)) > ${d} (maxmem)`);const C=Mg(rh,r,e,{c:1,dkLen:v*a}),B=Bs(C),$=Bs(new Uint8Array(v*i)),Y=Bs(new Uint8Array(v));let F=()=>{};if(p){const z=2*i*a,L=Math.max(Math.floor(z/1e4),1);let k=0;F=()=>{k++,p&&(!(k%L)||k===z)&&p(k/z)}}return{N:i,r:s,p:a,dkLen:u,blockSize32:x,V:$,B32:B,B:C,tmp:Y,blockMixCb:F,asyncTick:l}}function _U(r,e,t,n,i){const s=Mg(rh,r,t,{c:1,dkLen:e});return t.fill(0),n.fill(0),i.fill(0),s}function EU(r,e,t){const{N:n,r:i,p:s,dkLen:a,blockSize32:u,V:l,B32:d,B:p,tmp:v,blockMixCb:x}=wU(r,e,t);for(let S=0;S<s;S++){const C=u*S;for(let B=0;B<u;B++)l[B]=d[C+B];for(let B=0,$=0;B<n-1;B++)u0(l,$,l,$+=u,i),x();u0(l,(n-1)*u,d,C,i),x();for(let B=0;B<n;B++){const $=d[C+u-16]%n;for(let Y=0;Y<u;Y++)v[Y]=d[C+Y]^l[$*u+Y];u0(v,0,d,C,i),x()}}return _U(r,a,p,l,v)}function D2(r,e,t,n,i,s,a){return Kc(r),Kc(e),EU(r,e,{N:t,r:i,p:n,dkLen:s,onProgress:a})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const R2=BigInt(0),ih=BigInt(1),AU=BigInt(2),sh=r=>r instanceof Uint8Array,xU=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function La(r){if(!sh(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=xU[r[t]];return e}function M2(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function Ng(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function Fa(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){const i=n*2,s=r.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");t[n]=a}return t}function Oo(r){return Ng(La(r))}function Bg(r){if(!sh(r))throw new Error("Uint8Array expected");return Ng(La(Uint8Array.from(r).reverse()))}function Ca(r,e){return Fa(r.toString(16).padStart(e*2,"0"))}function N2(r,e){return Ca(r,e).reverse()}function SU(r){return Fa(M2(r))}function Jn(r,e,t){let n;if(typeof e=="string")try{n=Fa(e)}catch(s){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${s}`)}else if(sh(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);const i=n.length;if(typeof t=="number"&&i!==t)throw new Error(`${r} expected ${t} bytes, got ${i}`);return n}function Xc(...r){const e=new Uint8Array(r.reduce((n,i)=>n+i.length,0));let t=0;return r.forEach(n=>{if(!sh(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}function IU(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function TU(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function CU(r){let e;for(e=0;r>R2;r>>=ih,e+=1);return e}function PU(r,e){return r>>BigInt(e)&ih}const OU=(r,e,t)=>r|(t?ih:R2)<<BigInt(e),kg=r=>(AU<<BigInt(r-1))-ih,f0=r=>new Uint8Array(r),Sb=r=>Uint8Array.from(r);function B2(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=f0(r),i=f0(r),s=0;const a=()=>{n.fill(1),i.fill(0),s=0},u=(...v)=>t(i,n,...v),l=(v=f0())=>{i=u(Sb([0]),v),n=u(),v.length!==0&&(i=u(Sb([1]),v),n=u())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const x=[];for(;v<e;){n=u();const S=n.slice();x.push(S),v+=n.length}return Xc(...x)};return(v,x)=>{a(),l(v);let S;for(;!(S=x(d()));)l();return a(),S}}const DU={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function vu(r,e,t={}){const n=(i,s,a)=>{const u=DU[s];if(typeof u!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=r[i];if(!(a&&l===void 0)&&!u(l,r))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(t))n(i,s,!0);return r}const RU=Object.freeze(Object.defineProperty({__proto__:null,bitGet:PU,bitLen:CU,bitMask:kg,bitSet:OU,bytesToHex:La,bytesToNumberBE:Oo,bytesToNumberLE:Bg,concatBytes:Xc,createHmacDrbg:B2,ensureBytes:Jn,equalBytes:IU,hexToBytes:Fa,hexToNumber:Ng,numberToBytesBE:Ca,numberToBytesLE:N2,numberToHexUnpadded:M2,numberToVarBytesBE:SU,utf8ToBytes:TU,validateObject:vu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jr=BigInt(0),xr=BigInt(1),wo=BigInt(2),MU=BigInt(3),rp=BigInt(4),Ib=BigInt(5),Tb=BigInt(8);BigInt(9);BigInt(16);function yn(r,e){const t=r%e;return t>=jr?t:e+t}function NU(r,e,t){if(t<=jr||e<jr)throw new Error("Expected power/modulo > 0");if(t===xr)return jr;let n=xr;for(;e>jr;)e&xr&&(n=n*r%t),r=r*r%t,e>>=xr;return n}function Kn(r,e,t){let n=r;for(;e-- >jr;)n*=n,n%=t;return n}function np(r,e){if(r===jr||e<=jr)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=yn(r,e),n=e,i=jr,s=xr;for(;t!==jr;){const u=n/t,l=n%t,d=i-s*u;n=t,t=l,i=s,s=d}if(n!==xr)throw new Error("invert: does not exist");return yn(i,e)}function BU(r){const e=(r-xr)/wo;let t,n,i;for(t=r-xr,n=0;t%wo===jr;t/=wo,n++);for(i=wo;i<r&&NU(i,e,r)!==r-xr;i++);if(n===1){const a=(r+xr)/rp;return function(l,d){const p=l.pow(d,a);if(!l.eql(l.sqr(p),d))throw new Error("Cannot find square root");return p}}const s=(t+xr)/wo;return function(u,l){if(u.pow(l,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let d=n,p=u.pow(u.mul(u.ONE,i),t),v=u.pow(l,s),x=u.pow(l,t);for(;!u.eql(x,u.ONE);){if(u.eql(x,u.ZERO))return u.ZERO;let S=1;for(let B=u.sqr(x);S<d&&!u.eql(B,u.ONE);S++)B=u.sqr(B);const C=u.pow(p,xr<<BigInt(d-S-1));p=u.sqr(C),v=u.mul(v,C),x=u.mul(x,p),d=S}return v}}function kU(r){if(r%rp===MU){const e=(r+xr)/rp;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(r%Tb===Ib){const e=(r-Ib)/Tb;return function(n,i){const s=n.mul(i,wo),a=n.pow(s,e),u=n.mul(i,a),l=n.mul(n.mul(u,wo),a),d=n.mul(u,n.sub(l,n.ONE));if(!n.eql(n.sqr(d),i))throw new Error("Cannot find square root");return d}}return BU(r)}const LU=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function FU(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=LU.reduce((n,i)=>(n[i]="function",n),e);return vu(r,t)}function UU(r,e,t){if(t<jr)throw new Error("Expected power > 0");if(t===jr)return r.ONE;if(t===xr)return e;let n=r.ONE,i=e;for(;t>jr;)t&xr&&(n=r.mul(n,i)),i=r.sqr(i),t>>=xr;return n}function jU(r,e){const t=new Array(e.length),n=e.reduce((s,a,u)=>r.is0(a)?s:(t[u]=s,r.mul(s,a)),r.ONE),i=r.inv(n);return e.reduceRight((s,a,u)=>r.is0(a)?s:(t[u]=r.mul(s,t[u]),r.mul(s,a)),i),t}function Lg(r,e){const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function HU(r,e,t=!1,n={}){if(r<=jr)throw new Error(`Expected Fp ORDER > 0, got ${r}`);const{nBitLength:i,nByteLength:s}=Lg(r,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=kU(r),u=Object.freeze({ORDER:r,BITS:i,BYTES:s,MASK:kg(i),ZERO:jr,ONE:xr,create:l=>yn(l,r),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return jr<=l&&l<r},is0:l=>l===jr,isOdd:l=>(l&xr)===xr,neg:l=>yn(-l,r),eql:(l,d)=>l===d,sqr:l=>yn(l*l,r),add:(l,d)=>yn(l+d,r),sub:(l,d)=>yn(l-d,r),mul:(l,d)=>yn(l*d,r),pow:(l,d)=>UU(u,l,d),div:(l,d)=>yn(l*np(d,r),r),sqrN:l=>l*l,addN:(l,d)=>l+d,subN:(l,d)=>l-d,mulN:(l,d)=>l*d,inv:l=>np(l,r),sqrt:n.sqrt||(l=>a(u,l)),invertBatch:l=>jU(u,l),cmov:(l,d,p)=>p?d:l,toBytes:l=>t?N2(l,s):Ca(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return t?Bg(l):Oo(l)}});return Object.freeze(u)}function $U(r,e,t=!1){r=Jn("privateHash",r);const n=r.length,i=Lg(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const s=t?Bg(r):Oo(r);return yn(s,e-xr)+xr}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qU=BigInt(0),l0=BigInt(1);function GU(r,e){const t=(i,s)=>{const a=s.negate();return i?a:s},n=i=>{const s=Math.ceil(e/i)+1,a=2**(i-1);return{windows:s,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,s){let a=r.ZERO,u=i;for(;s>qU;)s&l0&&(a=a.add(u)),u=u.double(),s>>=l0;return a},precomputeWindow(i,s){const{windows:a,windowSize:u}=n(s),l=[];let d=i,p=d;for(let v=0;v<a;v++){p=d,l.push(p);for(let x=1;x<u;x++)p=p.add(d),l.push(p);d=p.double()}return l},wNAF(i,s,a){const{windows:u,windowSize:l}=n(i);let d=r.ZERO,p=r.BASE;const v=BigInt(2**i-1),x=2**i,S=BigInt(i);for(let C=0;C<u;C++){const B=C*l;let $=Number(a&v);a>>=S,$>l&&($-=x,a+=l0);const Y=B,F=B+Math.abs($)-1,z=C%2!==0,L=$<0;$===0?p=p.add(t(z,s[Y])):d=d.add(t(L,s[F]))}return{p:d,f:p}},wNAFCached(i,s,a,u){const l=i._WINDOW_SIZE||1;let d=s.get(i);return d||(d=this.precomputeWindow(i,l),l!==1&&s.set(i,u(d))),this.wNAF(l,d,a)}}}function k2(r){return FU(r.Fp),vu(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Lg(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zU(r){const e=k2(r);vu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:n,a:i}=e;if(t){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:VU,hexToBytes:KU}=RU,Eo={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){const{Err:e}=Eo;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");const t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:VU(n),l:r.subarray(t+2)}},toSig(r){const{Err:e}=Eo,t=typeof r=="string"?KU(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Eo._parseInt(t.subarray(2)),{d:a,l:u}=Eo._parseInt(s);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(r){const e=d=>Number.parseInt(d[0],16)&8?"00"+d:d,t=d=>{const p=d.toString(16);return p.length&1?`0${p}`:p},n=e(t(r.s)),i=e(t(r.r)),s=n.length/2,a=i.length/2,u=t(s),l=t(a);return`30${t(a+s+4)}02${l}${i}02${u}${n}`}},es=BigInt(0),Yn=BigInt(1);BigInt(2);const Cb=BigInt(3);BigInt(4);function WU(r){const e=zU(r),{Fp:t}=e,n=e.toBytes||((C,B,$)=>{const Y=B.toAffine();return Xc(Uint8Array.from([4]),t.toBytes(Y.x),t.toBytes(Y.y))}),i=e.fromBytes||(C=>{const B=C.subarray(1),$=t.fromBytes(B.subarray(0,t.BYTES)),Y=t.fromBytes(B.subarray(t.BYTES,2*t.BYTES));return{x:$,y:Y}});function s(C){const{a:B,b:$}=e,Y=t.sqr(C),F=t.mul(Y,C);return t.add(t.add(F,t.mul(C,B)),$)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(C){return typeof C=="bigint"&&es<C&&C<e.n}function u(C){if(!a(C))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(C){const{allowedPrivateKeyLengths:B,nByteLength:$,wrapPrivateKey:Y,n:F}=e;if(B&&typeof C!="bigint"){if(C instanceof Uint8Array&&(C=La(C)),typeof C!="string"||!B.includes(C.length))throw new Error("Invalid key");C=C.padStart($*2,"0")}let z;try{z=typeof C=="bigint"?C:Oo(Jn("private key",C,$))}catch{throw new Error(`private key must be ${$} bytes, hex or bigint, not ${typeof C}`)}return Y&&(z=yn(z,F)),u(z),z}const d=new Map;function p(C){if(!(C instanceof v))throw new Error("ProjectivePoint expected")}class v{constructor(B,$,Y){if(this.px=B,this.py=$,this.pz=Y,B==null||!t.isValid(B))throw new Error("x required");if($==null||!t.isValid($))throw new Error("y required");if(Y==null||!t.isValid(Y))throw new Error("z required")}static fromAffine(B){const{x:$,y:Y}=B||{};if(!B||!t.isValid($)||!t.isValid(Y))throw new Error("invalid affine point");if(B instanceof v)throw new Error("projective point not allowed");const F=z=>t.eql(z,t.ZERO);return F($)&&F(Y)?v.ZERO:new v($,Y,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(B){const $=t.invertBatch(B.map(Y=>Y.pz));return B.map((Y,F)=>Y.toAffine($[F])).map(v.fromAffine)}static fromHex(B){const $=v.fromAffine(i(Jn("pointHex",B)));return $.assertValidity(),$}static fromPrivateKey(B){return v.BASE.multiply(l(B))}_setWindowSize(B){this._WINDOW_SIZE=B,d.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:B,y:$}=this.toAffine();if(!t.isValid(B)||!t.isValid($))throw new Error("bad point: x or y not FE");const Y=t.sqr($),F=s(B);if(!t.eql(Y,F))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:B}=this.toAffine();if(t.isOdd)return!t.isOdd(B);throw new Error("Field doesn't support isOdd")}equals(B){p(B);const{px:$,py:Y,pz:F}=this,{px:z,py:L,pz:k}=B,D=t.eql(t.mul($,k),t.mul(z,F)),y=t.eql(t.mul(Y,k),t.mul(L,F));return D&&y}negate(){return new v(this.px,t.neg(this.py),this.pz)}double(){const{a:B,b:$}=e,Y=t.mul($,Cb),{px:F,py:z,pz:L}=this;let k=t.ZERO,D=t.ZERO,y=t.ZERO,A=t.mul(F,F),ne=t.mul(z,z),U=t.mul(L,L),Q=t.mul(F,z);return Q=t.add(Q,Q),y=t.mul(F,L),y=t.add(y,y),k=t.mul(B,y),D=t.mul(Y,U),D=t.add(k,D),k=t.sub(ne,D),D=t.add(ne,D),D=t.mul(k,D),k=t.mul(Q,k),y=t.mul(Y,y),U=t.mul(B,U),Q=t.sub(A,U),Q=t.mul(B,Q),Q=t.add(Q,y),y=t.add(A,A),A=t.add(y,A),A=t.add(A,U),A=t.mul(A,Q),D=t.add(D,A),U=t.mul(z,L),U=t.add(U,U),A=t.mul(U,Q),k=t.sub(k,A),y=t.mul(U,ne),y=t.add(y,y),y=t.add(y,y),new v(k,D,y)}add(B){p(B);const{px:$,py:Y,pz:F}=this,{px:z,py:L,pz:k}=B;let D=t.ZERO,y=t.ZERO,A=t.ZERO;const ne=e.a,U=t.mul(e.b,Cb);let Q=t.mul($,z),Z=t.mul(Y,L),N=t.mul(F,k),f=t.add($,Y),g=t.add(z,L);f=t.mul(f,g),g=t.add(Q,Z),f=t.sub(f,g),g=t.add($,F);let w=t.add(z,k);return g=t.mul(g,w),w=t.add(Q,N),g=t.sub(g,w),w=t.add(Y,F),D=t.add(L,k),w=t.mul(w,D),D=t.add(Z,N),w=t.sub(w,D),A=t.mul(ne,g),D=t.mul(U,N),A=t.add(D,A),D=t.sub(Z,A),A=t.add(Z,A),y=t.mul(D,A),Z=t.add(Q,Q),Z=t.add(Z,Q),N=t.mul(ne,N),g=t.mul(U,g),Z=t.add(Z,N),N=t.sub(Q,N),N=t.mul(ne,N),g=t.add(g,N),Q=t.mul(Z,g),y=t.add(y,Q),Q=t.mul(w,g),D=t.mul(f,D),D=t.sub(D,Q),Q=t.mul(f,Z),A=t.mul(w,A),A=t.add(A,Q),new v(D,y,A)}subtract(B){return this.add(B.negate())}is0(){return this.equals(v.ZERO)}wNAF(B){return S.wNAFCached(this,d,B,$=>{const Y=t.invertBatch($.map(F=>F.pz));return $.map((F,z)=>F.toAffine(Y[z])).map(v.fromAffine)})}multiplyUnsafe(B){const $=v.ZERO;if(B===es)return $;if(u(B),B===Yn)return this;const{endo:Y}=e;if(!Y)return S.unsafeLadder(this,B);let{k1neg:F,k1:z,k2neg:L,k2:k}=Y.splitScalar(B),D=$,y=$,A=this;for(;z>es||k>es;)z&Yn&&(D=D.add(A)),k&Yn&&(y=y.add(A)),A=A.double(),z>>=Yn,k>>=Yn;return F&&(D=D.negate()),L&&(y=y.negate()),y=new v(t.mul(y.px,Y.beta),y.py,y.pz),D.add(y)}multiply(B){u(B);let $=B,Y,F;const{endo:z}=e;if(z){const{k1neg:L,k1:k,k2neg:D,k2:y}=z.splitScalar($);let{p:A,f:ne}=this.wNAF(k),{p:U,f:Q}=this.wNAF(y);A=S.constTimeNegate(L,A),U=S.constTimeNegate(D,U),U=new v(t.mul(U.px,z.beta),U.py,U.pz),Y=A.add(U),F=ne.add(Q)}else{const{p:L,f:k}=this.wNAF($);Y=L,F=k}return v.normalizeZ([Y,F])[0]}multiplyAndAddUnsafe(B,$,Y){const F=v.BASE,z=(k,D)=>D===es||D===Yn||!k.equals(F)?k.multiplyUnsafe(D):k.multiply(D),L=z(this,$).add(z(B,Y));return L.is0()?void 0:L}toAffine(B){const{px:$,py:Y,pz:F}=this,z=this.is0();B==null&&(B=z?t.ONE:t.inv(F));const L=t.mul($,B),k=t.mul(Y,B),D=t.mul(F,B);if(z)return{x:t.ZERO,y:t.ZERO};if(!t.eql(D,t.ONE))throw new Error("invZ was invalid");return{x:L,y:k}}isTorsionFree(){const{h:B,isTorsionFree:$}=e;if(B===Yn)return!0;if($)return $(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:B,clearCofactor:$}=e;return B===Yn?this:$?$(v,this):this.multiplyUnsafe(e.h)}toRawBytes(B=!0){return this.assertValidity(),n(v,this,B)}toHex(B=!0){return La(this.toRawBytes(B))}}v.BASE=new v(e.Gx,e.Gy,t.ONE),v.ZERO=new v(t.ZERO,t.ONE,t.ZERO);const x=e.nBitLength,S=GU(v,e.endo?Math.ceil(x/2):x);return{CURVE:e,ProjectivePoint:v,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}function QU(r){const e=k2(r);return vu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function JU(r){const e=QU(r),{Fp:t,n}=e,i=t.BYTES+1,s=2*t.BYTES+1;function a(g){return es<g&&g<t.ORDER}function u(g){return yn(g,n)}function l(g){return np(g,n)}const{ProjectivePoint:d,normPrivateKeyToScalar:p,weierstrassEquation:v,isWithinCurveOrder:x}=WU({...e,toBytes(g,w,T){const O=w.toAffine(),R=t.toBytes(O.x),H=Xc;return T?H(Uint8Array.from([w.hasEvenY()?2:3]),R):H(Uint8Array.from([4]),R,t.toBytes(O.y))},fromBytes(g){const w=g.length,T=g[0],O=g.subarray(1);if(w===i&&(T===2||T===3)){const R=Oo(O);if(!a(R))throw new Error("Point is not on curve");const H=v(R);let P=t.sqrt(H);const m=(P&Yn)===Yn;return(T&1)===1!==m&&(P=t.neg(P)),{x:R,y:P}}else if(w===s&&T===4){const R=t.fromBytes(O.subarray(0,t.BYTES)),H=t.fromBytes(O.subarray(t.BYTES,2*t.BYTES));return{x:R,y:H}}else throw new Error(`Point of length ${w} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),S=g=>La(Ca(g,e.nByteLength));function C(g){const w=n>>Yn;return g>w}function B(g){return C(g)?u(-g):g}const $=(g,w,T)=>Oo(g.slice(w,T));class Y{constructor(w,T,O){this.r=w,this.s=T,this.recovery=O,this.assertValidity()}static fromCompact(w){const T=e.nByteLength;return w=Jn("compactSignature",w,T*2),new Y($(w,0,T),$(w,T,2*T))}static fromDER(w){const{r:T,s:O}=Eo.toSig(Jn("DER",w));return new Y(T,O)}assertValidity(){if(!x(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!x(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(w){return new Y(this.r,this.s,w)}recoverPublicKey(w){const{r:T,s:O,recovery:R}=this,H=y(Jn("msgHash",w));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const P=R===2||R===3?T+e.n:T;if(P>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const m=R&1?"03":"02",I=d.fromHex(m+S(P)),te=l(P),E=u(-H*te),X=u(O*te),G=d.BASE.multiplyAndAddUnsafe(I,E,X);if(!G)throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return C(this.s)}normalizeS(){return this.hasHighS()?new Y(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Fa(this.toDERHex())}toDERHex(){return Eo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Fa(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}const F={isValidPrivateKey(g){try{return p(g),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const g=e.randomBytes(t.BYTES+8),w=$U(g,n);return Ca(w,e.nByteLength)},precompute(g=8,w=d.BASE){return w._setWindowSize(g),w.multiply(BigInt(3)),w}};function z(g,w=!0){return d.fromPrivateKey(g).toRawBytes(w)}function L(g){const w=g instanceof Uint8Array,T=typeof g=="string",O=(w||T)&&g.length;return w?O===i||O===s:T?O===2*i||O===2*s:g instanceof d}function k(g,w,T=!0){if(L(g))throw new Error("first arg must be private key");if(!L(w))throw new Error("second arg must be public key");return d.fromHex(w).multiply(p(g)).toRawBytes(T)}const D=e.bits2int||function(g){const w=Oo(g),T=g.length*8-e.nBitLength;return T>0?w>>BigInt(T):w},y=e.bits2int_modN||function(g){return u(D(g))},A=kg(e.nBitLength);function ne(g){if(typeof g!="bigint")throw new Error("bigint expected");if(!(es<=g&&g<A))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ca(g,e.nByteLength)}function U(g,w,T=Q){if(["recovered","canonical"].some(W=>W in T))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:R}=e;let{lowS:H,prehash:P,extraEntropy:m}=T;H==null&&(H=!0),g=Jn("msgHash",g),P&&(g=Jn("prehashed msgHash",O(g)));const I=y(g),te=p(w),E=[ne(te),ne(I)];if(m!=null){const W=m===!0?R(t.BYTES):m;E.push(Jn("extraEntropy",W,t.BYTES))}const X=Xc(...E),G=I;function V(W){const b=D(W);if(!x(b))return;const q=l(b),oe=d.BASE.multiply(b).toAffine(),pe=u(oe.x);if(pe===es)return;const fe=u(q*u(G+pe*te));if(fe===es)return;let we=(oe.x===pe?0:2)|Number(oe.y&Yn),He=fe;return H&&C(fe)&&(He=B(fe),we^=1),new Y(pe,He,we)}return{seed:X,k2sig:V}}const Q={lowS:e.lowS,prehash:!1},Z={lowS:e.lowS,prehash:!1};function N(g,w,T=Q){const{seed:O,k2sig:R}=U(g,w,T),H=e;return B2(H.hash.outputLen,H.nByteLength,H.hmac)(O,R)}d.BASE._setWindowSize(8);function f(g,w,T,O=Z){var oe;const R=g;if(w=Jn("msgHash",w),T=Jn("publicKey",T),"strict"in O)throw new Error("options.strict was renamed to lowS");const{lowS:H,prehash:P}=O;let m,I;try{if(typeof R=="string"||R instanceof Uint8Array)try{m=Y.fromDER(R)}catch(pe){if(!(pe instanceof Eo.Err))throw pe;m=Y.fromCompact(R)}else if(typeof R=="object"&&typeof R.r=="bigint"&&typeof R.s=="bigint"){const{r:pe,s:fe}=R;m=new Y(pe,fe)}else throw new Error("PARSE");I=d.fromHex(T)}catch(pe){if(pe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(H&&m.hasHighS())return!1;P&&(w=e.hash(w));const{r:te,s:E}=m,X=y(w),G=l(E),V=u(X*G),W=u(te*G),b=(oe=d.BASE.multiplyAndAddUnsafe(I,V,W))==null?void 0:oe.toAffine();return b?u(b.x)===te:!1}return{CURVE:e,getPublicKey:z,getSharedSecret:k,sign:N,verify:f,ProjectivePoint:d,Signature:Y,utils:F}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function YU(r){return{hash:r,hmac:(e,...t)=>Rg(r,e,Zf(...t)),randomBytes:pE}}function XU(r,e){const t=n=>JU({...r,...YU(n)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L2=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Pb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ZU=BigInt(1),ip=BigInt(2),Ob=(r,e)=>(r+e/ip)/e;function ej(r){const e=L2,t=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),u=BigInt(44),l=BigInt(88),d=r*r*r%e,p=d*d*r%e,v=Kn(p,t,e)*p%e,x=Kn(v,t,e)*p%e,S=Kn(x,ip,e)*d%e,C=Kn(S,i,e)*S%e,B=Kn(C,s,e)*C%e,$=Kn(B,u,e)*B%e,Y=Kn($,l,e)*$%e,F=Kn(Y,u,e)*B%e,z=Kn(F,t,e)*p%e,L=Kn(z,a,e)*C%e,k=Kn(L,n,e)*d%e,D=Kn(k,ip,e);if(!sp.eql(sp.sqr(D),r))throw new Error("Cannot find square root");return D}const sp=HU(L2,void 0,void 0,{sqrt:ej}),Fg=XU({a:BigInt(0),b:BigInt(7),Fp:sp,n:Pb,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=Pb,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ZU*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,a=BigInt("0x100000000000000000000000000000000"),u=Ob(s*r,e),l=Ob(-n*r,e);let d=yn(r-u*t-l*i,e),p=yn(-u*n-l*s,e);const v=d>a,x=p>a;if(v&&(d=e-d),x&&(p=e-p),d>a||p>a)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:v,k1:d,k2neg:x,k2:p}}}},rh);BigInt(0);Fg.ProjectivePoint;const tj=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Fg},Symbol.toStringTag,{value:"Module"}));var h0;const zs=(h0=Fg)!==null&&h0!==void 0?h0:tj,Db=BigInt("0xffffffffffffffff"),Zc=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),rj=zs.CURVE.n,nj=rj/BigInt(2),ij={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var dl;(function(r){r[r.Mainnet=1]="Mainnet",r[r.Goerli=5]="Goerli",r[r.Sepolia=11155111]="Sepolia"})(dl||(dl={}));var or;(function(r){r.Chainstart="chainstart",r.Homestead="homestead",r.Dao="dao",r.TangerineWhistle="tangerineWhistle",r.SpuriousDragon="spuriousDragon",r.Byzantium="byzantium",r.Constantinople="constantinople",r.Petersburg="petersburg",r.Istanbul="istanbul",r.MuirGlacier="muirGlacier",r.Berlin="berlin",r.London="london",r.ArrowGlacier="arrowGlacier",r.GrayGlacier="grayGlacier",r.MergeForkIdTransition="mergeForkIdTransition",r.Merge="merge",r.Shanghai="shanghai",r.ShardingForkDev="shardingFork"})(or||(or={}));var Rb;(function(r){r.ProofOfStake="pos",r.ProofOfWork="pow",r.ProofOfAuthority="poa"})(Rb||(Rb={}));var Mb;(function(r){r.Ethash="ethash",r.Clique="clique",r.Casper="casper"})(Mb||(Mb={}));var Qr;(function(r){r.PolygonMainnet="polygon-mainnet",r.PolygonMumbai="polygon-mumbai",r.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",r.ArbitrumOne="arbitrum-one",r.xDaiChain="x-dai-chain",r.OptimisticKovan="optimistic-kovan",r.OptimisticEthereum="optimistic-ethereum"})(Qr||(Qr={}));var Xn;(function(r){r[r.Number=0]="Number",r[r.BigInt=1]="BigInt",r[r.Uint8Array=2]="Uint8Array",r[r.PrefixedHexString=3]="PrefixedHexString"})(Xn||(Xn={}));const F2=r=>{if(typeof r!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof r}`);return pg(r)?r.slice(2):r};function sj(r){return!r||r==="0x0"?"0x0000000000000000":pg(r)?`0x${F2(r).padStart(16,"0")}`:`0x${r.padStart(16,"0")}`}const U2=function(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Received an invalid integer type: ${r}`);return`0x${r.toString(16)}`};function oj(r,e=!0){var t,n;const{name:i,config:s,difficulty:a,mixHash:u,gasLimit:l,coinbase:d,baseFeePerGas:p}=r;let{extraData:v,timestamp:x,nonce:S}=r;const C=Number(x),{chainId:B}=s;if(v===""&&(v="0x"),pg(x)||(x=U2(parseInt(x))),S.length!==18&&(S=sj(S)),s.eip155Block!==s.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const $={name:i,chainId:B,networkId:B,genesis:{timestamp:x,gasLimit:parseInt(l),difficulty:parseInt(a),nonce:S,extraData:v,mixHash:u,coinbase:d,baseFeePerGas:p},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:s.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:(t=s.clique.period)!==null&&t!==void 0?t:s.clique.blockperiodseconds,epoch:(n=s.clique.epoch)!==null&&n!==void 0?n:s.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},Y={[or.Homestead]:{name:"homesteadBlock"},[or.Dao]:{name:"daoForkBlock"},[or.TangerineWhistle]:{name:"eip150Block"},[or.SpuriousDragon]:{name:"eip155Block"},[or.Byzantium]:{name:"byzantiumBlock"},[or.Constantinople]:{name:"constantinopleBlock"},[or.Petersburg]:{name:"petersburgBlock"},[or.Istanbul]:{name:"istanbulBlock"},[or.MuirGlacier]:{name:"muirGlacierBlock"},[or.Berlin]:{name:"berlinBlock"},[or.London]:{name:"londonBlock"},[or.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[or.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[or.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},F=Object.keys(Y).reduce((k,D)=>(k[Y[D].name]=D,k),{}),z=Object.keys(s).filter(k=>F[k]!==void 0&&s[k]!==void 0&&s[k]!==null);if($.hardforks=z.map(k=>({name:F[k],block:Y[F[k]].isTimestamp===!0||typeof s[k]!="number"?null:s[k],timestamp:Y[F[k]].isTimestamp===!0&&typeof s[k]=="number"?s[k]:void 0})).filter(k=>k.block!==null||k.timestamp!==void 0),$.hardforks.sort((k,D)=>{var y,A;return((y=k.block)!==null&&y!==void 0?y:1/0)-((A=D.block)!==null&&A!==void 0?A:1/0)}),$.hardforks.sort((k,D)=>{var y,A;return((y=k.timestamp)!==null&&y!==void 0?y:C)-((A=D.timestamp)!==null&&A!==void 0?A:C)}),s.terminalTotalDifficulty!==void 0){const k={name:or.Merge,ttd:s.terminalTotalDifficulty,block:null},D=$.hardforks.findIndex(y=>{var A;return((A=Y[y.name])===null||A===void 0?void 0:A.postMerge)===!0});D!==-1?$.hardforks.splice(D,0,k):$.hardforks.push(k)}const L=$.hardforks.length>0?$.hardforks.slice(-1)[0]:void 0;return $.hardfork=L==null?void 0:L.name,$.hardforks.unshift({name:or.Chainstart,block:0}),$}function aj(r,e,t){try{if(["config","difficulty","gasLimit","alloc"].some(n=>!(n in r)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(r.name=e),oj(r,t)}catch(n){throw new Error(`Error parsing parameters file: ${n.message}`)}}function j2(r){let e=r;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}const cj=function(r){const e=U2(r);return cr(`0x${j2(e.slice(2))}`)},dr=function(r){if(r==null)return new Uint8Array;if(r instanceof Uint8Array)return r;if(Array.isArray(r))return Uint8Array.from(r);if(typeof r=="string"){if(!VE(r))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${r}`);return cr(j2(F2(r)))}if(typeof r=="number")return dr(On(r));if(typeof r=="bigint"){if(r<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${r}`);let e=r.toString(16);return e.length%2&&(e=`0${e}`),dr(`0x${e}`)}if(r.toArray)return Uint8Array.from(r.toArray());throw new Error("invalid type")};function sr(r){const e=St(r);return BigInt(e==="0x"?0:e)}function uj(r){return dr(`0x${r.toString(16)}`)}const H2=function(r){return new Uint8Array(r).fill(0)},fj=function(r,e,t){const n=H2(e);return t?r.length<e?(n.set(r),n):r.subarray(0,e):r.length<e?(n.set(r,e-r.length),n):r.subarray(-e)};function Ug(r){if(!(r instanceof Uint8Array)){const e=`This method only supports Uint8Array but input was: ${r}`;throw new Error(e)}}const Nb=function(r,e){return Ug(r),fj(r,e,!1)};function lj(r){let e=r[0];for(;r.length>0&&e.toString()==="0";)r=r.slice(1),e=r[0];return r}const pl=function(r){return Ug(r),lj(r)},pr=r=>`0x${r.toString(16)}`;function Bt(r){return pl(uj(r))}function hj(r,e){return r===BigInt(0)||r===BigInt(1)?r:e===void 0?r-BigInt(27):r-(e*BigInt(2)+BigInt(35))}function dj(r){return r===BigInt(0)||r===BigInt(1)}const jg=function(r,e,t,n,i){const s=hj(e,i);if(!dj(s))throw new Error("Invalid signature v value");return new zs.Signature(sr(t),sr(n)).addRecoveryBit(Number(s)).recoverPublicKey(r).toRawBytes(!1).slice(1)};function fa(r,e){if(r===null)return null;if(r===void 0)return;if(typeof r=="string"&&!VE(r))throw new Error(`A string must be provided with a 0x-prefix, given: ${r}`);if(typeof r=="number"&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const t=dr(r);switch(e){case Xn.Uint8Array:return t;case Xn.BigInt:return sr(t);case Xn.Number:{const n=sr(t);if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(n)}case Xn.PrefixedHexString:return St(t);default:throw new Error("unknown outputType")}}var ns={};Object.defineProperty(ns,"__esModule",{value:!0});var Tn=ns.RLP=ns.utils=ns.decode=ns.encode=void 0;function Hg(r){if(Array.isArray(r)){const t=[];let n=0;for(let i=0;i<r.length;i++){const s=Hg(r[i]);t.push(s),n+=s.length}return ap(kb(n,192),...t)}const e=K2(r);return e.length===1&&e[0]<128?e:ap(kb(e.length,128),e)}ns.encode=Hg;function la(r,e,t){if(t>r.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return r.slice(e,t)}function Bb(r){if(r[0]===0)throw new Error("invalid RLP: extra zeros");return G2(q2(r))}function kb(r,e){if(r<56)return Uint8Array.from([r+e]);const t=cp(r),n=t.length/2,i=cp(e+55+n);return Uint8Array.from(gl(i+t))}function $2(r,e=!1){if(typeof r>"u"||r===null||r.length===0)return Uint8Array.from([]);const t=K2(r),n=op(t);if(e)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}ns.decode=$2;function op(r){let e,t,n,i,s;const a=[],u=r[0];if(u<=127)return{data:r.slice(0,1),remainder:r.slice(1)};if(u<=183){if(e=u-127,u===128?n=Uint8Array.from([]):n=la(r,1,e),e===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:r.slice(e)}}else if(u<=191){if(t=u-182,r.length-1<t)throw new Error("invalid RLP: not enough bytes for string length");if(e=Bb(la(r,1,t)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=la(r,t,e+t),{data:n,remainder:r.slice(e+t)}}else if(u<=247){for(e=u-191,i=la(r,1,e);i.length;)s=op(i),a.push(s.data),i=s.remainder;return{data:a,remainder:r.slice(e)}}else{if(t=u-246,e=Bb(la(r,1,t)),e<56)throw new Error("invalid RLP: encoded list too short");const l=t+e;if(l>r.length)throw new Error("invalid RLP: total length is larger than the data");for(i=la(r,t,l);i.length;)s=op(i),a.push(s.data),i=s.remainder;return{data:a,remainder:r.slice(l)}}}const pj=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function q2(r){let e="";for(let t=0;t<r.length;t++)e+=pj[r[t]];return e}function G2(r){const e=Number.parseInt(r,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function gl(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2;e[t]=G2(r.slice(n,n+2))}return e}function ap(...r){if(r.length===1)return r[0];const e=r.reduce((n,i)=>n+i.length,0),t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){const s=r[n];t.set(s,i),i+=s.length}return t}function z2(r){return new TextEncoder().encode(r)}function cp(r){if(r<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=r.toString(16);return e.length%2?`0${e}`:e}function gj(r){return r.length%2?`0${r}`:r}function V2(r){return r.length>=2&&r[0]==="0"&&r[1]==="x"}function mj(r){return typeof r!="string"?r:V2(r)?r.slice(2):r}function K2(r){if(r instanceof Uint8Array)return r;if(typeof r=="string")return V2(r)?gl(gj(mj(r))):z2(r);if(typeof r=="number"||typeof r=="bigint")return r?gl(cp(r)):Uint8Array.from([]);if(r==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof r)}ns.utils={bytesToHex:q2,concatBytes:ap,hexToBytes:gl,utf8ToBytes:z2};Tn=ns.RLP={encode:Hg,decode:$2};var W2={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(r){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?r:{})})(function(e){e.version="1.2.2";function t(){for(var A=0,ne=new Array(256),U=0;U!=256;++U)A=U,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,ne[U]=A;return typeof Int32Array<"u"?new Int32Array(ne):ne}var n=t();function i(A){var ne=0,U=0,Q=0,Z=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Q=0;Q!=256;++Q)Z[Q]=A[Q];for(Q=0;Q!=256;++Q)for(U=A[Q],ne=256+Q;ne<4096;ne+=256)U=Z[ne]=U>>>8^A[U&255];var N=[];for(Q=1;Q!=16;++Q)N[Q-1]=typeof Int32Array<"u"?Z.subarray(Q*256,Q*256+256):Z.slice(Q*256,Q*256+256);return N}var s=i(n),a=s[0],u=s[1],l=s[2],d=s[3],p=s[4],v=s[5],x=s[6],S=s[7],C=s[8],B=s[9],$=s[10],Y=s[11],F=s[12],z=s[13],L=s[14];function k(A,ne){for(var U=ne^-1,Q=0,Z=A.length;Q<Z;)U=U>>>8^n[(U^A.charCodeAt(Q++))&255];return~U}function D(A,ne){for(var U=ne^-1,Q=A.length-15,Z=0;Z<Q;)U=L[A[Z++]^U&255]^z[A[Z++]^U>>8&255]^F[A[Z++]^U>>16&255]^Y[A[Z++]^U>>>24]^$[A[Z++]]^B[A[Z++]]^C[A[Z++]]^S[A[Z++]]^x[A[Z++]]^v[A[Z++]]^p[A[Z++]]^d[A[Z++]]^l[A[Z++]]^u[A[Z++]]^a[A[Z++]]^n[A[Z++]];for(Q+=15;Z<Q;)U=U>>>8^n[(U^A[Z++])&255];return~U}function y(A,ne){for(var U=ne^-1,Q=0,Z=A.length,N=0,f=0;Q<Z;)N=A.charCodeAt(Q++),N<128?U=U>>>8^n[(U^N)&255]:N<2048?(U=U>>>8^n[(U^(192|N>>6&31))&255],U=U>>>8^n[(U^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,f=A.charCodeAt(Q++)&1023,U=U>>>8^n[(U^(240|N>>8&7))&255],U=U>>>8^n[(U^(128|N>>2&63))&255],U=U>>>8^n[(U^(128|f>>6&15|(N&3)<<4))&255],U=U>>>8^n[(U^(128|f&63))&255]):(U=U>>>8^n[(U^(224|N>>12&15))&255],U=U>>>8^n[(U^(128|N>>6&63))&255],U=U>>>8^n[(U^(128|N&63))&255]);return~U}e.table=n,e.bstr=k,e.buf=D,e.str=y})})(W2);const yj=ko(W2),vj={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},bj={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},wj={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},_j={name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},Ej={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},Aj={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},xj={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},Sj={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},Ij={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},Tj={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},Cj={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},Pj={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},Oj={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},Dj={name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},Rj={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},Mj={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},Nj={name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},Bj={name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},kj={name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},Lj={name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},Fj={name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},Uj={name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},jj={name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},Hj={name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},$j={name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},ha={1153:_j,1559:Ej,2315:Aj,2537:xj,2565:Sj,2718:Ij,2929:Tj,2930:Cj,3198:Pj,3529:Oj,3540:Dj,3541:Rj,3554:Mj,3607:Nj,3651:Bj,3670:kj,3675:Lj,3855:Fj,3860:Uj,4345:jj,4399:Hj,5133:$j},qj={name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},Gj={name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},zj={name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},Vj={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},Kj={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},Wj={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},Qj={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},Jj={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},Yj={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},Xj={name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},Zj={name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},eH={name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},tH={name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},rH={name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},nH={name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},iH={name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},sH={name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},oH={chainstart:qj,homestead:zj,dao:Gj,tangerineWhistle:Vj,spuriousDragon:Kj,byzantium:Wj,constantinople:Qj,petersburg:Jj,istanbul:Yj,muirGlacier:Xj,berlin:Zj,london:eH,shanghai:tH,arrowGlacier:rH,grayGlacier:nH,mergeForkIdTransition:iH,merge:sH},{buf:aH}=yj;class Fr extends Yr.EventEmitter{constructor(e){var t,n;super(),this._eips=[],this._customChains=(t=e.customChains)!==null&&t!==void 0?t:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=(n=this._chainParams.defaultHardfork)!==null&&n!==void 0?n:or.Merge,this.HARDFORK_CHANGES=this.hardforks().map(i=>[i.name,oH[i.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}static custom(e,t={}){var n;const i=(n=t.baseChain)!==null&&n!==void 0?n:"mainnet",s=Object.assign({},Fr._getChainParams(i));if(s.name="custom-chain",typeof e!="string")return new Fr(Object.assign({chain:Object.assign(Object.assign({},s),e)},t));if(e===Qr.PolygonMainnet)return Fr.custom({name:Qr.PolygonMainnet,chainId:137,networkId:137},t);if(e===Qr.PolygonMumbai)return Fr.custom({name:Qr.PolygonMumbai,chainId:80001,networkId:80001},t);if(e===Qr.ArbitrumRinkebyTestnet)return Fr.custom({name:Qr.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},t);if(e===Qr.ArbitrumOne)return Fr.custom({name:Qr.ArbitrumOne,chainId:42161,networkId:42161},t);if(e===Qr.xDaiChain)return Fr.custom({name:Qr.xDaiChain,chainId:100,networkId:100},t);if(e===Qr.OptimisticKovan)return Fr.custom({name:Qr.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:or.Berlin},t));if(e===Qr.OptimisticEthereum)return Fr.custom({name:Qr.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:or.Berlin},t));throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:t,eips:n,genesisHash:i,hardfork:s,mergeForkIdPostMerge:a}){var u;const l=aj(e,t,a),d=new Fr({chain:(u=l.name)!==null&&u!==void 0?u:"custom",customChains:[l],eips:n,hardfork:s??l.hardfork});return i!==void 0&&d.setForkHashes(i),d}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,t){let n=e;const i=this._getInitializedChains(t);if(typeof n=="number"||typeof n=="bigint"){if(n=n.toString(),i.names[n]){const s=i.names[n];return i[s]}throw new Error(`Chain with ID ${n} not supported`)}if(i[n]!==void 0)return i[n];throw new Error(`Chain with name ${n} not supported`)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=Fr._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const t=["networkId","genesis","hardforks","bootstrapNodes"];for(const n of t)if(!(n in e))throw new Error(`Missing required chain parameter: ${n}`);this._chainParams=e}else throw new Error("Wrong input format");for(const t of this.hardforks())if(t.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let t=!1;for(const n of this.HARDFORK_CHANGES)n[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),t=!0);if(!t)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,t,n){const i=fa(e,Xn.BigInt),s=fa(t,Xn.BigInt),a=fa(n,Xn.Number),u=this.hardforks().filter(S=>S.block!==null||S.ttd!==null&&S.ttd!==void 0||S.timestamp!==void 0),l=u.findIndex(S=>S.ttd!==null&&S.ttd!==void 0);if(u.slice(l+1).findIndex(S=>S.ttd!==null&&S.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let p=u.findIndex(S=>S.block!==null&&S.block>i||a!==void 0&&Number(S.timestamp)>a);if(p===-1)p=u.length;else if(p===0)throw Error("Must have at least one hardfork at block 0");if(a===void 0){const S=u.slice(0,p).reverse().findIndex(C=>C.block!==null||C.ttd!==void 0);p-=S}if(p-=1,u[p].block===null&&u[p].timestamp===void 0)(s==null||BigInt(u[p].ttd)>s)&&(p-=1);else if(l>=0&&s!==void 0&&s!==null){if(p>=l&&BigInt(u[l].ttd)>s)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(p<l&&BigInt(u[l].ttd)<=s)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const v=p;for(;p<u.length-1&&!(u[p].block!==u[p+1].block||u[p].timestamp!==u[p+1].timestamp);p+=1);if(a){if(u.slice(0,v).reduce((B,$)=>{var Y;return Math.max(Number((Y=$.timestamp)!==null&&Y!==void 0?Y:"0"),B)},0)>a)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(u.slice(p+1).reduce((B,$)=>{var Y;return Math.min(Number((Y=$.timestamp)!==null&&Y!==void 0?Y:a),B)},a)<a)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return u[p].name}setHardforkByBlockNumber(e,t,n){const i=this.getHardforkByBlockNumber(e,t,n);return this.setHardfork(i),i}_getHardfork(e){const t=this.hardforks();for(const n of t)if(n.name===e)return n;return null}setEIPs(e=[]){for(const t of e){if(!(t in ha))throw new Error(`${t} not supported`);const n=this.gteHardfork(ha[t].minimumHardfork);if(!n)throw new Error(`${t} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${n}`);if(ha[t].requiredEIPs!==void 0){for(const i of ha[t].requiredEIPs)if(!(e.includes(i)||this.isActivatedEIP(i)))throw new Error(`${t} requires EIP ${i}, but is not included in the EIP list`)}}this._eips=e}param(e,t){let n;for(const i of this._eips)if(n=this.paramByEIP(e,t,i),n!==void 0)return n;return this.paramByHardfork(e,t,this._hardfork)}paramByHardfork(e,t,n){let i=null;for(const s of this.HARDFORK_CHANGES){if("eips"in s[1]){const a=s[1].eips;for(const u of a){const l=this.paramByEIP(e,t,u);i=typeof l=="bigint"?l:i}}else{if(s[1][e]===void 0)throw new Error(`Topic ${e} not defined`);s[1][e][t]!==void 0&&(i=s[1][e][t].v)}if(s[0]===n)break}return BigInt(i??0)}paramByEIP(e,t,n){if(!(n in ha))throw new Error(`${n} not supported`);const i=ha[n];if(!(e in i))throw new Error(`Topic ${e} not defined`);if(i[e][t]===void 0)return;const s=i[e][t].v;return BigInt(s)}paramByBlock(e,t,n,i,s){const a=this.getHardforkByBlockNumber(n,i,s);return this.paramByHardfork(e,t,a)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const t of this.HARDFORK_CHANGES){const n=t[1];if(this.gteHardfork(n.name)&&"eips"in n&&n.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,t){const n=fa(t,Xn.BigInt),i=e??this._hardfork,s=this.hardforkBlock(i);return typeof s=="bigint"&&s!==BigInt(0)&&n>=s}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,t){const n=e??this._hardfork,i=this.hardforks();let s=-1,a=-1,u=0;for(const l of i)l.name===n&&(s=u),l.name===t&&(a=u),u+=1;return s>=a&&a!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var t;const n=e??this._hardfork,i=(t=this._getHardfork(n))===null||t===void 0?void 0:t.block;return i==null?null:BigInt(i)}hardforkTimestamp(e){var t;const n=e??this._hardfork,i=(t=this._getHardfork(n))===null||t===void 0?void 0:t.timestamp;return i==null?null:BigInt(i)}eipBlock(e){for(const t of this.HARDFORK_CHANGES){const n=t[1];if("eips"in n&&n.eips.includes(e))return this.hardforkBlock(typeof t[0]=="number"?String(t[0]):t[0])}return null}hardforkTTD(e){var t;const n=e??this._hardfork,i=(t=this._getHardfork(n))===null||t===void 0?void 0:t.ttd;return i==null?null:BigInt(i)}isHardforkBlock(e,t){const n=fa(e,Xn.BigInt),i=t??this._hardfork,s=this.hardforkBlock(i);return typeof s=="bigint"&&s!==BigInt(0)?s===n:!1}nextHardforkBlockOrTimestamp(e){var t,n;const i=e??this._hardfork,s=this.hardforks();let a=s.findIndex(p=>p.name===i);if(i===or.Merge&&(a-=1),a<0)return null;let u=(t=s[a].timestamp)!==null&&t!==void 0?t:s[a].block;u=u!=null?Number(u):null;const l=s.slice(a+1).find(p=>{var v;let x=(v=p.timestamp)!==null&&v!==void 0?v:p.block;return x=x!=null?Number(x):null,p.name!==or.Merge&&x!==null&&x!==void 0&&x!==u});if(l===void 0)return null;const d=(n=l.timestamp)!==null&&n!==void 0?n:l.block;return d==null?null:BigInt(d)}nextHardforkBlock(e){const t=e??this._hardfork;let n=this.hardforkBlock(t);if(n===null&&t===or.Merge){const s=this.hardforks(),a=s.findIndex(u=>u.ttd!==null&&u.ttd!==void 0);if(a<0)throw Error("Merge hardfork should have been found");n=this.hardforkBlock(s[a-1].name)}return n===null?null:this.hardforks().reduce((s,a)=>{const u=BigInt(a.block===null||a.ttd!==void 0&&a.ttd!==null?0:a.block);return u>n&&s===null?u:s},null)}isNextHardforkBlock(e,t){const n=fa(e,Xn.BigInt),i=t??this._hardfork,s=this.nextHardforkBlock(i);return s===null?!1:s===n}_calcForkHash(e,t){let n=new Uint8Array,i=0;for(const u of this.hardforks()){const{block:l,timestamp:d,name:p}=u;let v=d??l;if(v=v!==null?Number(v):null,typeof v=="number"&&v!==0&&v!==i&&p!==or.Merge){const x=cr(v.toString(16).padStart(16,"0"));n=mi(n,x),i=v}if(u.name===e)break}const s=mi(t,n);return St(cj(aH(s)>>>0))}forkHash(e,t){const n=e??this._hardfork,i=this._getHardfork(n);if(i===null||(i==null?void 0:i.block)===null&&(i==null?void 0:i.timestamp)===void 0&&(i==null?void 0:i.ttd)===void 0){const s="No fork hash calculation possible for future hardfork";throw new Error(s)}if((i==null?void 0:i.forkHash)!==null&&(i==null?void 0:i.forkHash)!==void 0)return i.forkHash;if(!t)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(n,t)}hardforkForForkHash(e){const t=this.hardforks().filter(n=>n.forkHash===e);return t.length>=1?t[t.length-1]:null}setForkHashes(e){var t;for(const n of this.hardforks()){const i=(t=n.timestamp)!==null&&t!==void 0?t:n.block;(n.forkHash===null||n.forkHash===void 0)&&(i!=null||typeof n.ttd<"u")&&(n.forkHash=this.forkHash(n.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus.type),n[0]===e)break;return t??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus.algorithm),n[0]===e)break;return t??this._chainParams.consensus.algorithm}consensusConfig(){var e;const t=this.hardfork();let n;for(const i of this.HARDFORK_CHANGES)if("consensus"in i[1]&&(n=i[1].consensus[i[1].consensus.algorithm]),i[0]===t)break;return(e=n??this._chainParams.consensus[this.consensusAlgorithm()])!==null&&e!==void 0?e:{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const t={};for(const[i,s]of Object.entries(dl))t[s]=i.toLowerCase();const n={mainnet:bj,goerli:vj,sepolia:wj};if(e)for(const i of e){const{name:s}=i;t[i.chainId.toString()]=s,n[s]=i}return n.names=t,n}}var Di;(function(r){r[r.EIP155ReplayProtection=155]="EIP155ReplayProtection",r[r.EIP1559FeeMarket=1559]="EIP1559FeeMarket",r[r.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",r[r.EIP2930AccessLists=2930]="EIP2930AccessLists"})(Di||(Di={}));function cH(r){if(r.length===0)return!0;const e=r[0];return!!Array.isArray(e)}function uH(r){return!cH(r)}class Pa{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new Pa(H2(20))}equals(e){return Zl(this.buf,e.buf)}isZero(){return this.equals(Pa.zero())}toString(){return St(this.buf)}toArray(){return this.buf}static publicToAddress(e,t=!1){let n=e;if(Ug(n),t&&n.length!==64&&(n=zs.ProjectivePoint.fromHex(n).toRawBytes(!1).slice(1)),n.length!==64)throw new Error("Expected pubKey to be of length 64");return Jr(n).slice(-20)}}const fH=(r,e)=>{const t=r.param("vm","maxInitCodeSize");if(t&&BigInt(e)>t)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${r.param("vm","maxInitCodeSize")}`)},Q2=r=>{let e,t;if(uH(r)){e=r;const n=[];for(let i=0;i<r.length;i+=1){const s=r[i],a=dr(s.address),u=[];for(let l=0;l<s.storageKeys.length;l+=1)u.push(dr(s.storageKeys[l]));n.push([a,u])}t=n}else{t=r??[];const n=[];for(let i=0;i<t.length;i+=1){const s=t[i],a=St(s[0]),u=[];for(let d=0;d<s[1].length;d+=1)u.push(St(s[1][d]));const l={address:a,storageKeys:u};n.push(l)}e=n}return{AccessListJSON:e,accessList:t}},J2=r=>{for(let e=0;e<r.length;e+=1){const t=r[e],n=t[0],i=t[1];if(t[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(n.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let s=0;s<i.length;s+=1)if(i[s].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},Y2=r=>{const e=[];for(let t=0;t<r.length;t+=1){const n=r[t],i={address:St(Nb(n[0],20)),storageKeys:[]},s=n&&n[1];for(let a=0;a<s.length;a+=1){const u=s[a];i.storageKeys.push(St(Nb(u,32)))}e.push(i)}return e},X2=(r,e)=>{const t=e.param("gasPrices","accessListStorageKeyCost"),n=e.param("gasPrices","accessListAddressCost");let i=0;for(let a=0;a<r.length;a+=1){const l=r[a][1];i+=l.length}return r.length*Number(n)+i*Number(t)};class Ua{constructor(e,t){var n,i;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=dl.Mainnet,this.DEFAULT_HARDFORK=or.Merge;const{nonce:s,gasLimit:a,to:u,value:l,data:d,v:p,r:v,s:x,type:S}=e;this._type=Number(sr(dr(S))),this.txOptions=t;const C=dr(u===""?"0x":u),B=dr(p===""?"0x":p),$=dr(v===""?"0x":v),Y=dr(x===""?"0x":x);this.nonce=sr(dr(s===""?"0x":s)),this.gasLimit=sr(dr(a===""?"0x":a)),this.to=C.length>0?new Pa(C):void 0,this.value=sr(dr(l===""?"0x":l)),this.data=dr(d===""?"0x":d),this.v=B.length>0?sr(B):void 0,this.r=$.length>0?sr($):void 0,this.s=Y.length>0?sr(Y):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const F=this.to===void 0||this.to===null,z=(n=t.allowUnlimitedInitCodeSize)!==null&&n!==void 0?n:!1,L=(i=t.common)!==null&&i!==void 0?i:this._getCommon();F&&L.isActivatedEIP(3860)&&!z&&fH(L,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const t=[];return this.getBaseFee()>this.gasLimit&&t.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&t.push("Invalid Signature"),e?t:t.length===0}_validateYParity(){const{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){const t=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(t)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>nj){const t=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(t)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let t=this.getDataFee();if(e&&(t+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const n=this.common.param("gasPrices","txCreation");n&&(t+=n)}return t}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero");let n=BigInt(0);for(let i=0;i<this.data.length;i+=1)this.data[i]===0?n+=e:n+=t;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const i=BigInt(Math.ceil(this.data.length/32)),s=this.common.param("gasPrices","initCodeWordCost")*i;n+=s}return n}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){const{v:e,r:t,s:n}=this;return!(e===void 0||t===void 0||n===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return pl(e).length!==0}catch{return!1}}getSenderAddress(){return new Pa(Pa.publicToAddress(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const l=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(l)}let t=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(Di.EIP155ReplayProtection)&&(this.activeCapabilities.push(Di.EIP155ReplayProtection),t=!0);const n=this.getMessageToSign(!0),{v:i,r:s,s:a}=this._ecsign(n,e),u=this._processSignature(i,s,a);if(t){const l=this.activeCapabilities.indexOf(Di.EIP155ReplayProtection);l>-1&&this.activeCapabilities.splice(l,1)}return u}_getCommon(e,t){var n;if(t!==void 0){const i=sr(dr(t));if(e){if(e.chainId()!==i){const s=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(s)}return e.copy()}return Fr.isSupportedChainId(i)?new Fr({chain:i,hardfork:this.DEFAULT_HARDFORK}):Fr.custom({name:"custom-chain",networkId:i,chainId:i},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}return(n=e==null?void 0:e.copy())!==null&&n!==void 0?n:new Fr({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,t=256,n=!1){for(const[i,s]of Object.entries(e))switch(t){case 64:if(n){if(s!==void 0&&s>=Db){const a=this._errorMsg(`${i} cannot equal or exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(a)}}else if(s!==void 0&&s>Db){const a=this._errorMsg(`${i} cannot exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(a)}break;case 256:if(n){if(s!==void 0&&s>=Zc){const a=this._errorMsg(`${i} cannot equal or exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(a)}}else if(s!==void 0&&s>Zc){const a=this._errorMsg(`${i} cannot exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(a)}break;default:{const a=this._errorMsg("unimplemented bits value");throw new Error(a)}}}static _validateNotArray(e){const t=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[n,i]of Object.entries(e))if(t.includes(n)&&Array.isArray(i))throw new Error(`${n} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?St(this.hash()):"not available (unsigned)"}catch{e="error"}let t="";try{t=this.isSigned().toString()}catch{e="error"}let n="";try{n=this.common.hardfork()}catch{n="error"}let i=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return i+=`signed=${t} hf=${n}`,i}_ecsign(e,t,n){const i=zs.sign(e,t),s=i.toCompactRawBytes(),a=s.subarray(0,32),u=s.subarray(32,64),l=n===void 0?BigInt(i.recovery+27):BigInt(i.recovery+35)+BigInt(n)*BigInt(2);return{r:a,s:u,v:l}}}const up=2,d0=cr(up.toString(16).padStart(2,"0"));class Ao extends Ua{constructor(e,t={}){var n;super(Object.assign(Object.assign({},e),{type:up}),t),this.DEFAULT_HARDFORK="london";const{chainId:i,accessList:s,maxFeePerGas:a,maxPriorityFeePerGas:u}=e;if(this.common=this._getCommon(t.common,i),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const l=Q2(s??[]);if(this.accessList=l.accessList,this.AccessListJSON=l.AccessListJSON,J2(this.accessList),this.maxFeePerGas=sr(dr(a===""?"0x":a)),this.maxPriorityFeePerGas=sr(dr(u===""?"0x":u)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),Ua._validateNotArray(e),this.gasLimit*this.maxFeePerGas>Zc){const p=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(p)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const p=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(p)}this._validateYParity(),this._validateHighS(),((n=t==null?void 0:t.freeze)!==null&&n!==void 0?n:!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new Ao(e,t)}static fromSerializedTx(e,t={}){if(!Zl(e.subarray(0,1),d0))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${up}, received: ${St(e.subarray(0,1))}`);const n=Tn.decode(e.subarray(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return Ao.fromValuesArray(n,t)}static fromValuesArray(e,t={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[n,i,s,a,u,l,d,p,v,x,S,C]=e;return this._validateNotArray({chainId:n,v:x}),gg({nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:a,gasLimit:u,value:d,v:x,r:S,s:C}),new Ao({chainId:sr(n),nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:a,gasLimit:u,to:l,value:d,data:p,accessList:v??[],v:x!==void 0?sr(x):void 0,r:S,s:C},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(X2(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const t=this.maxPriorityFeePerGas,n=this.maxFeePerGas-e,s=(t<n?t:n)+e;return this.gasLimit*s+this.value}raw(){return[Bt(this.chainId),Bt(this.nonce),Bt(this.maxPriorityFeePerGas),Bt(this.maxFeePerGas),Bt(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Bt(this.value),this.data,this.accessList,this.v!==void 0?Bt(this.v):Uint8Array.from([]),this.r!==void 0?Bt(this.r):Uint8Array.from([]),this.s!==void 0?Bt(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return mi(d0,Tn.encode(e))}getMessageToSign(e=!0){const t=this.raw().slice(0,9),n=mi(d0,Tn.encode(t));return e?Jr(n):n}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Jr(this.serialize())),this.cache.hash):Jr(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const s=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(s)}const e=this.getMessageToVerifySignature(),{v:t,r:n,s:i}=this;this._validateHighS();try{return jg(e,t+BigInt(27),Bt(n),Bt(i))}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,t,n){const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Ao.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:sr(t),s:sr(n)},i)}toJSON(){const e=Y2(this.accessList);return{chainId:pr(this.chainId),nonce:pr(this.nonce),maxPriorityFeePerGas:pr(this.maxPriorityFeePerGas),maxFeePerGas:pr(this.maxFeePerGas),gasLimit:pr(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:pr(this.value),data:St(this.data),accessList:e,v:this.v!==void 0?pr(this.v):void 0,r:this.r!==void 0?pr(this.r):void 0,s:this.s!==void 0?pr(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const fp=1,p0=cr(fp.toString(16).padStart(2,"0"));class xo extends Ua{constructor(e,t={}){var n;super(Object.assign(Object.assign({},e),{type:fp}),t),this.DEFAULT_HARDFORK="berlin";const{chainId:i,accessList:s,gasPrice:a}=e;if(this.common=this._getCommon(t.common,i),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const u=Q2(s??[]);if(this.accessList=u.accessList,this.AccessListJSON=u.AccessListJSON,J2(this.accessList),this.gasPrice=sr(dr(a===""?"0x":a)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Ua._validateNotArray(e),this.gasPrice*this.gasLimit>Zc){const d=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(d)}this._validateYParity(),this._validateHighS(),((n=t==null?void 0:t.freeze)!==null&&n!==void 0?n:!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new xo(e,t)}static fromSerializedTx(e,t={}){if(!Zl(e.subarray(0,1),p0))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${fp}, received: ${St(e.subarray(0,1))}`);const n=Tn.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return xo.fromValuesArray(n,t)}static fromValuesArray(e,t={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[n,i,s,a,u,l,d,p,v,x,S]=e;this._validateNotArray({chainId:n,v}),gg({nonce:i,gasPrice:s,gasLimit:a,value:l,v,r:x,s:S});const C=[];return new xo({chainId:sr(n),nonce:i,gasPrice:s,gasLimit:a,to:u,value:l,data:d,accessList:p??C,v:v!==void 0?sr(v):void 0,r:x,s:S},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(X2(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[Bt(this.chainId),Bt(this.nonce),Bt(this.gasPrice),Bt(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Bt(this.value),this.data,this.accessList,this.v!==void 0?Bt(this.v):Uint8Array.from([]),this.r!==void 0?Bt(this.r):Uint8Array.from([]),this.s!==void 0?Bt(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return mi(p0,Tn.encode(e))}getMessageToSign(e=!0){const t=this.raw().slice(0,8),n=mi(p0,Tn.encode(t));return e?Jr(n):n}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Jr(this.serialize())),this.cache.hash):Jr(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const s=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(s)}const e=this.getMessageToVerifySignature(),{v:t,r:n,s:i}=this;this._validateHighS();try{return jg(e,t+BigInt(27),Bt(n),Bt(i))}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,t,n){const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return xo.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:sr(t),s:sr(n)},i)}toJSON(){const e=Y2(this.accessList);return{chainId:pr(this.chainId),nonce:pr(this.nonce),gasPrice:pr(this.gasPrice),gasLimit:pr(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:pr(this.value),data:St(this.data),accessList:e,v:this.v!==void 0?pr(this.v):void 0,r:this.r!==void 0?pr(this.r):void 0,s:this.s!==void 0?pr(this.s):void 0}}errorStr(){var e,t;let n=this._getSharedErrorPostfix();return n+=` gasPrice=${this.gasPrice} accessListCount=${(t=(e=this.accessList)===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0}`,n}_errorMsg(e){return`${e} (${this.errorStr()})`}}const lH=0;function Lb(r,e){const t=Number(r),n=Number(e)*2;return t===n+35||t===n+36}class Ns extends Ua{constructor(e,t={}){var n;if(super(Object.assign(Object.assign({},e),{type:lH}),t),this.common=this._validateTxV(this.v,t.common),this.gasPrice=sr(dr(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>Zc){const s=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(s)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Ua._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?Lb(this.v,this.common.chainId())&&this.activeCapabilities.push(Di.EIP155ReplayProtection):this.activeCapabilities.push(Di.EIP155ReplayProtection)),((n=t==null?void 0:t.freeze)!==null&&n!==void 0?n:!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new Ns(e,t)}static fromSerializedTx(e,t={}){const n=Tn.decode(e);if(!Array.isArray(n))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(n,t)}static fromValuesArray(e,t={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[n,i,s,a,u,l,d,p,v]=e;return gg({nonce:n,gasPrice:i,gasLimit:s,value:u,v:d,r:p,s:v}),new Ns({nonce:n,gasPrice:i,gasLimit:s,to:a,value:u,data:l,v:d,r:p,s:v},t)}raw(){return[Bt(this.nonce),Bt(this.gasPrice),Bt(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Bt(this.value),this.data,this.v!==void 0?Bt(this.v):Uint8Array.from([]),this.r!==void 0?Bt(this.r):Uint8Array.from([]),this.s!==void 0?Bt(this.s):Uint8Array.from([])]}serialize(){return Tn.encode(this.raw())}_getMessageToSign(){const e=[Bt(this.nonce),Bt(this.gasPrice),Bt(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Bt(this.value),this.data];return this.supports(Di.EIP155ReplayProtection)&&(e.push(dr(this.common.chainId())),e.push(pl(dr(0))),e.push(pl(dr(0)))),e}getMessageToSign(e=!0){const t=this._getMessageToSign();return e?Jr(Tn.encode(t)):t}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Jr(Tn.encode(this.raw()))),this.cache.hash):Jr(Tn.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const t=this._errorMsg("This transaction is not signed");throw new Error(t)}const e=this._getMessageToSign();return Jr(Tn.encode(e))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:t,r:n,s:i}=this;this._validateHighS();try{return jg(e,t,Bt(n),Bt(i),this.supports(Di.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,t,n){let i=e;this.supports(Di.EIP155ReplayProtection)&&(i+=this.common.chainId()*BigInt(2)+BigInt(8));const s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Ns.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:i,r:sr(t),s:sr(n)},s)}toJSON(){return{nonce:pr(this.nonce),gasPrice:pr(this.gasPrice),gasLimit:pr(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:pr(this.value),data:St(this.data),v:this.v!==void 0?pr(this.v):void 0,r:this.r!==void 0?pr(this.r):void 0,s:this.s!==void 0?pr(this.s):void 0}}_validateTxV(e,t){let n;const i=e!==void 0?Number(e):void 0;if(i!==void 0&&i<37&&i!==27&&i!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${i}`);if(i!==void 0&&i!==0&&(!t||t.gteHardfork("spuriousDragon"))&&i!==27&&i!==28)if(t){if(!Lb(BigInt(i),t.chainId()))throw new Error(`Incompatible EIP155-based V ${i} and chain id ${t.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let s;(i-35)%2===0?s=35:s=36,n=BigInt(i-s)/BigInt(2)}return this._getCommon(t,n)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}class oh{constructor(){}static fromTxData(e,t={}){if(!("type"in e)||e.type===void 0)return Ns.fromTxData(e,t);const n=Number(sr(dr(e.type)));if(n===0)return Ns.fromTxData(e,t);if(n===1)return xo.fromTxData(e,t);if(n===2)return Ao.fromTxData(e,t);throw new Error(`Tx instantiation with type ${n} not supported`)}static fromSerializedData(e,t={}){if(e[0]<=127)switch(e[0]){case 1:return xo.fromSerializedTx(e,t);case 2:return Ao.fromSerializedTx(e,t);default:throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}else return Ns.fromSerializedTx(e,t)}static fromBlockBodyData(e,t={}){if(e instanceof Uint8Array)return this.fromSerializedData(e,t);if(Array.isArray(e))return Ns.fromValuesArray(e,t);throw new Error("Cannot decode transaction: unknown type input")}}var ah=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const ch=(r,e)=>{let t;if(!e&&typeof r=="string"&&Qt(r)&&r.length!==66)throw new K1;try{t=r instanceof Uint8Array?r:os(r)}catch{throw new jB}if(!e&&t.byteLength!==32)throw new K1;return t},$g=r=>{const e=Qt(r)?r:gi(r),t=cr(e),n=cr(XE(`Ethereum Signed Message:
${t.byteLength}`)),i=mi(n,t);return Dn(i)},Z2=(r,e)=>{const t=ch(e),n=$g(r),i=zs.sign(n.substring(2),t),s=i.toCompactRawBytes(),a=i.r.toString(16),u=i.s.toString(16),l=i.recovery+27;return{message:r,messageHash:n,v:On(l),r:`0x${a}`,s:`0x${u}`,signature:`${St(s)}${l.toString(16)}`}},hH=(r,e)=>ah(void 0,void 0,void 0,function*(){const t=r.sign(cr(e));if(le(t.v)||le(t.r)||le(t.s))throw new G0("Signer Error");const n=t.validate(!0);if(n.length>0){let a="Signer Error ";for(const u of n)a+=`${a} ${u}.`;throw new G0(a)}const i=St(t.serialize()),s=Dn(i);return{messageHash:St(t.getMessageToSign(!0)),v:`0x${t.v.toString(16)}`,r:`0x${t.r.toString(16).padStart(64,"0")}`,s:`0x${t.s.toString(16).padStart(64,"0")}`,rawTransaction:i,transactionHash:St(s)}}),dH=r=>{if(le(r))throw new nk;const e=oh.fromSerializedData(cr(r));return cs(e.getSenderAddress().toString())},lp=(r,e,t,n,i)=>{if(typeof r=="object"){const v=`${r.r}${r.s.slice(2)}${r.v.slice(2)}`;return lp(r.messageHash,v,t)}if(typeof e=="string"&&typeof t=="string"&&!le(n)){const v=`${t}${n.slice(2)}${e.slice(2)}`;return lp(r,v,i)}if(le(e))throw new HB("signature string undefined");const s=130,a=t?r:$g(r),u=e.substring(s),l=zs.Signature.fromCompact(e.slice(2,s)).addRecoveryBit(parseInt(u,16)-27).recoverPublicKey(a.replace("0x","")).toRawBytes(!1),d=Dn(l.subarray(1));return cs(`0x${d.slice(-40)}`)},qg=r=>{const e=ch(r),t=zs.getPublicKey(e,!1),i=Dn(t.slice(1)).slice(-40);return cs(`0x${i}`)},eA=(r,e,t)=>ah(void 0,void 0,void 0,function*(){var n,i,s,a,u,l,d;const p=ch(r);let v;if(t!=null&&t.salt?v=typeof t.salt=="string"?cr(t.salt):t.salt:v=Jc(32),!(hg(e)||e instanceof Uint8Array))throw new GB;const x=typeof e=="string"?cr(gi(e)):e;let S;if(t!=null&&t.iv){if(S=typeof t.iv=="string"?cr(t.iv):t.iv,S.length!==16)throw new zB}else S=Jc(16);const C=(n=t==null?void 0:t.kdf)!==null&&n!==void 0?n:"scrypt";let B,$;if(C==="pbkdf2"){if($={dklen:(i=t==null?void 0:t.dklen)!==null&&i!==void 0?i:32,salt:St(v).replace("0x",""),c:(s=t==null?void 0:t.c)!==null&&s!==void 0?s:262144,prf:"hmac-sha256"},$.c<1e3)throw new VB;B=O2(x,v,$.c,$.dklen,"sha256")}else if(C==="scrypt")$={n:(a=t==null?void 0:t.n)!==null&&a!==void 0?a:8192,r:(u=t==null?void 0:t.r)!==null&&u!==void 0?u:8,p:(l=t==null?void 0:t.p)!==null&&l!==void 0?l:1,dklen:(d=t==null?void 0:t.dklen)!==null&&d!==void 0?d:32,salt:St(v).replace("0x","")},B=D2(x,v,$.n,$.p,$.r,$.dklen);else throw new nE;const Y=yield Dg(p,B.slice(0,16),S,"aes-128-ctr"),F=St(Y).slice(2),z=Dn(mi(B.slice(16,32),Y)).replace("0x","");return{version:3,id:xg(),address:qg(p).toLowerCase().replace("0x",""),crypto:{ciphertext:F,cipherparams:{iv:St(S).replace("0x","")},cipher:"aes-128-ctr",kdf:C,kdfparams:$,mac:z}}}),Gg=(r,e)=>{const t=ch(r,e);return{address:qg(t),privateKey:St(t),signTransaction:n=>{throw new G0("Do not have network access to sign the transaction")},sign:n=>Z2(typeof n=="string"?n:JSON.stringify(n),t),encrypt:(n,i)=>ah(void 0,void 0,void 0,function*(){return eA(t,n,i)})}},pH=()=>{const r=zs.utils.randomPrivateKey();return Gg(`${St(r)}`)},gH=(r,e,t)=>ah(void 0,void 0,void 0,function*(){const n=typeof r=="object"?r:JSON.parse(t?r.toLowerCase():r);if(rt.validateJSONSchema(ij,n),n.version!==3)throw new qB;const i=typeof e=="string"?cr(gi(e)):e;rt.validate(["bytes"],[i]);let s;if(n.crypto.kdf==="scrypt"){const d=n.crypto.kdfparams,p=typeof d.salt=="string"?cr(d.salt):d.salt;s=D2(i,p,d.n,d.p,d.r,d.dklen)}else if(n.crypto.kdf==="pbkdf2"){const d=n.crypto.kdfparams,p=typeof d.salt=="string"?cr(d.salt):d.salt;s=O2(i,p,d.c,d.dklen,"sha256")}else throw new nE;const a=cr(n.crypto.ciphertext);if(Dn(mi(s.slice(16,32),a)).replace("0x","")!==n.crypto.mac)throw new $B;const l=yield oU(cr(n.crypto.ciphertext),s.slice(0,16),cr(n.crypto.cipherparams.iv));return Gg(l)}),Fb={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},Ub={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},jb={type:"object",properties:{gasPrice:{type:"null"}}},Sf=(r,e,t)=>{try{rt.validateJSONSchema(r,e)}catch(n){throw n instanceof Ma?new Ik(n.errors,t):n}},mH=r=>{var e,t;const n=r;if(!le(n.type)){let a;switch(n.type){case"0x0":a=Fb;break;case"0x1":a=Ub;break;case"0x2":a=jb;break;default:return _e({format:"uint"},n.type,lt)}return Sf(a,n,n.type),_e({format:"uint"},n.type,lt)}if(!le(n.maxFeePerGas)||!le(n.maxPriorityFeePerGas))return Sf(jb,n,"0x2"),"0x2";if(!le(n.accessList))return Sf(Ub,n,"0x1"),"0x1";le(n.gasPrice)||Sf(Fb,n,"0x0");const i=(e=n.hardfork)!==null&&e!==void 0?e:(t=n.common)===null||t===void 0?void 0:t.hardfork;if(i===void 0)return;const s=Object.keys(jc).indexOf(i);if(s!==void 0){if(s>=Object.keys(jc).indexOf("london"))return le(n.gasPrice)?"0x2":"0x0";if(s===Object.keys(jc).indexOf("berlin"))return"0x0"}},yH=(r,e)=>{var t;return((t=e==null?void 0:e.transactionTypeParser)!==null&&t!==void 0?t:mH)(r)},vH=r=>r[0]>127?"0x0":as(r[0]),bH={type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}},zg={type:"array",items:Object.assign({},bH)},wH={type:"object",properties:{accessList:Object.assign({},zg),gasUsed:{type:"string"}}},Hb={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},$b={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},_H={type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}},Vg={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},zg),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},Hb),hardfork:Object.assign({},$b),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},_H),baseChain:Object.assign({},Hb),hardfork:Object.assign({},$b)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},Kg={type:"object",properties:Object.assign(Object.assign({},Vg.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},zg),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},ml={type:"object",properties:{parentHash:{format:"bytes32"},sha3Uncles:{format:"bytes32"},miner:{format:"bytes"},stateRoot:{format:"bytes32"},transactionsRoot:{format:"bytes32"},receiptsRoot:{format:"bytes32"},logsBloom:{format:"bytes256"},difficulty:{format:"uint"},number:{format:"uint"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},timestamp:{format:"uint"},extraData:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},totalDifficulty:{format:"uint"},baseFeePerGas:{format:"uint"},size:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},Kg)},{type:"array",items:{format:"bytes32"}}]},uncles:{type:"array",items:{format:"bytes32"}},hash:{format:"bytes32"}}},EH={type:"object",properties:{parentHash:{format:"bytes32"},receiptRoot:{format:"bytes32"},miner:{format:"bytes"},stateRoot:{format:"bytes32"},transactionsRoot:{format:"bytes32"},logsBloom:{format:"bytes256"},difficulty:{format:"uint"},number:{format:"uint"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},timestamp:{format:"uint"},extraData:{format:"bytes"},nonce:{format:"uint"},sha3Uncles:{format:"bytes32"}}},uh={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},AH={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},Qa={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},uh)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},xH={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},SH={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},IH={type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}},TH={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},IH)}}};function bn(r,e=qe,t={transactionSchema:Vg}){var n;let i=Gs({},r);if(le(r==null?void 0:r.common)||(i.common=Object.assign({},r.common),le((n=r.common)===null||n===void 0?void 0:n.customChain)||(i.common.customChain=Object.assign({},r.common.customChain))),i=_e(t.transactionSchema,i,e),le(i.data))le(i.input)||(i.data=i.input);else{if(!le(i.input)&&i.data!==i.input)throw new oE({data:St(i.data),input:St(i.input)});i.input=i.data}return le(i.gasLimit)||(i.gas=i.gasLimit,delete i.gasLimit),i}function CH(r,e){return{raw:_e({format:"bytes"},r,e),tx:bn(Object.assign(Object.assign({},oh.fromSerializedData(cr(r)).toJSON()),{hash:St(Qc(cr(r))),type:vH(cr(r))}),e)}}var Wg=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};function Qg(r,e){return Wg(this,void 0,void 0,function*(){const t=yield K7(r.requestManager);return _e({format:"uint"},t,e)})}function PH(r,e){return Wg(this,void 0,void 0,function*(){const t=yield W7(r.requestManager);return _e({format:"uint"},t,e)})}const OH=r=>Wg(void 0,void 0,void 0,function*(){return Q7(r.requestManager)});var g0=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};class tA extends Ni{getId(e=qe){return g0(this,void 0,void 0,function*(){return Qg(this,e)})}getPeerCount(e=qe){return g0(this,void 0,void 0,function*(){return PH(this,e)})}isListening(){return g0(this,void 0,void 0,function*(){return OH(this)})}}const fh={bytes:ss.HEX,number:Zn.NUMBER};var rA=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};function DH(r,e,t){var n,i,s;return rA(this,void 0,void 0,function*(){const a=yield SA(e,e.defaultBlock,!1,t);if(le(a.baseFeePerGas))throw new _k;if(!le(r.gasPrice)){const u=_e({format:"uint"},r.gasPrice,t);return{maxPriorityFeePerGas:u,maxFeePerGas:u}}return{maxPriorityFeePerGas:_e({format:"uint"},(n=r.maxPriorityFeePerGas)!==null&&n!==void 0?n:e.defaultMaxPriorityFeePerGas,t),maxFeePerGas:_e({format:"uint"},(i=r.maxFeePerGas)!==null&&i!==void 0?i:BigInt(a.baseFeePerGas)*BigInt(2)+BigInt((s=r.maxPriorityFeePerGas)!==null&&s!==void 0?s:e.defaultMaxPriorityFeePerGas),t)}})}function nA(r,e,t){return rA(this,void 0,void 0,function*(){const n=iA(r,e);if(!le(n)){if(n.startsWith("-"))throw new Y1(n);if(n<"0x0"||n>"0x7f")throw new Y1(n);if(le(r.gasPrice)&&(n==="0x0"||n==="0x1"))return{gasPrice:yield xA(e,t),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if(n==="0x2")return Object.assign({gasPrice:void 0},yield DH(r,e,t))}})}var Jg=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const hp=(r,e,t,n)=>{if(t!==void 0&&r in t&&t[r]!==void 0){if(typeof t[r]=="string"&&pi(t[r]))return t[r];if(!Qt(t[r])&&JE(t[r])){if(e.wallet){const i=e.wallet.get(_e({format:"uint"},t[r],fh));if(!le(i))return i.address;throw new X1}throw new X1}else throw r==="from"?new ik(t.from):new sk(t.to)}if(r==="from"){if(!le(n))return qg(n);if(!le(e.defaultAccount))return e.defaultAccount}},RH=(r,e,t=qe)=>Jg(void 0,void 0,void 0,function*(){if(le(e))throw new wk;return TA(r,e,r.defaultBlock,t)}),iA=(r,e)=>{const t=yH(r,e);if(!le(t))return t;if(!le(e.defaultTransactionType))return _e({format:"uint"},e.defaultTransactionType,lt)};function MH(r){var e,t;return Jg(this,void 0,void 0,function*(){let n=_e(Vg,r.transaction,qe);if(le(n.from)&&(n.from=hp("from",r.web3Context,void 0,r.privateKey)),le(n.nonce)&&(n.nonce=yield RH(r.web3Context,n.from,lt)),le(n.value)&&(n.value="0x"),le(n.data))le(n.input)?(n.input="0x",n.data="0x"):(n.input.startsWith("0x")||(n.input=`0x${n.input}`),n.data=n.input);else{if(!le(n.input)&&n.data!==n.input)throw new oE({data:St(n.data),input:St(n.input)});n.data.startsWith("0x")||(n.data=`0x${n.data}`),n.input=n.data}if(le(n.common)){if(r.web3Context.defaultCommon){const i=r.web3Context.defaultCommon,s=i.customChain.chainId,a=i.customChain.networkId,u=i.customChain.name;n.common=Object.assign(Object.assign({},i),{customChain:{chainId:s,networkId:a,name:u}})}le(n.chain)&&(n.chain=r.web3Context.defaultChain),le(n.hardfork)&&(n.hardfork=r.web3Context.defaultHardfork)}return le(n.chainId)&&le((e=n.common)===null||e===void 0?void 0:e.customChain.chainId)&&(n.chainId=yield OA(r.web3Context,lt)),le(n.networkId)&&(n.networkId=(t=r.web3Context.defaultNetworkId)!==null&&t!==void 0?t:yield Qg(r.web3Context,lt)),le(n.gasLimit)&&!le(n.gas)&&(n.gasLimit=n.gas),n.type=iA(n,r.web3Context),le(n.accessList)&&(n.type==="0x1"||n.type==="0x2")&&(n.accessList=[]),r.fillGasPrice&&(n=Object.assign(Object.assign({},n),yield nA(n,r.web3Context,lt))),n})}const NH=r=>Jg(void 0,void 0,void 0,function*(){var e;return((e=r.web3Context.transactionBuilder)!==null&&e!==void 0?e:MH)(Object.assign(Object.assign({},r),{transaction:r.transaction}))});var Yg=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};function dp(r,e,t){const n=r.transactionPollingInterval,[i,s]=a2(()=>Yg(this,void 0,void 0,function*(){let u;try{u=yield om(r,fh)}catch(d){console.warn("An error happen while trying to get the block number",d);return}const l=u-e;if(l>=r.transactionBlockTimeout)return new cE({starterBlockNumber:e,numberOfBlocks:l,transactionHash:t})}),n);return[s,{clean:()=>{clearInterval(i)}}]}function BH(r,e,t){var n;return Yg(this,void 0,void 0,function*(){let i=!0,s,a;function u(d,p){p&&console.warn("error happened at subscription. So revert to polling...",p),a.clean(),i=!1;const[v,x]=dp(r,e,t);a.clean=x.clean,v.catch(S=>d(S))}try{s=yield(n=r.subscriptionManager)===null||n===void 0?void 0:n.subscribe("newHeads"),a={clean:()=>{var d;s.id&&((d=r.subscriptionManager)===null||d===void 0||d.removeSubscription(s).then(()=>{}).catch(()=>{}))}}}catch{return dp(r,e,t)}return[new Promise((d,p)=>{try{s.on("data",v=>{if(i=!1,!(v!=null&&v.number))return;const x=Number(BigInt(v.number)-BigInt(e));x>=r.transactionBlockTimeout&&p(new cE({starterBlockNumber:e,numberOfBlocks:x,transactionHash:t}))}),s.on("error",v=>{u(p,v)})}catch(v){u(p,v)}setTimeout(()=>{i&&u(p)},r.blockHeaderTimeout*1e3)}),a]})}function sA(r,e){var t,n;return Yg(this,void 0,void 0,function*(){const{provider:i}=r.requestManager;let s;const a=yield om(r,fh);return!((n=(t=i).supportsSubscriptions)===null||n===void 0)&&n.call(t)&&r.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?s=yield BH(r,a,e):s=dp(r,a,e),s})}var kH=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};function pp(r,e,t){return kH(this,void 0,void 0,function*(){const[n,i]=Ag(r.transactionSendTimeout,new Ek({numberOfSeconds:r.transactionSendTimeout/1e3,transactionHash:t})),[s,a]=yield sA(r,t);try{return yield Promise.race([e(),i,s])}finally{clearTimeout(n),a.clean()}})}var qb=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};function oA(r,e,t){var n;return qb(this,void 0,void 0,function*(){const i=(n=r.transactionReceiptPollingInterval)!==null&&n!==void 0?n:r.transactionPollingInterval,s=o2(()=>qb(this,void 0,void 0,function*(){try{return IA(r,e,t)}catch(p){console.warn("An error happen while trying to get the transaction receipt",p);return}}),i),[a,u]=Ag(r.transactionPollingTimeout,new Ak({numberOfSeconds:r.transactionPollingTimeout/1e3,transactionHash:e})),[l,d]=yield sA(r,e);try{return yield Promise.race([s,u,l])}finally{clearTimeout(a),d.clean()}})}var LH=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const $f=({web3Context:r,transactionReceipt:e,transactionPromiEvent:t,returnFormat:n})=>{var i;let s=1;const a=setInterval(()=>{LH(void 0,void 0,void 0,function*(){s>=r.transactionConfirmationBlocks&&clearInterval(a);const u=yield x2(r.requestManager,On(BigInt(e.blockNumber)+BigInt(s)),!1);u!=null&&u.hash&&(s+=1,t.emit("confirmation",{confirmations:_e({format:"uint"},s,n),receipt:_e(Qa,e,n),latestBlockHash:_e({format:"bytes32"},u.hash,n)}))})},(i=r.transactionReceiptPollingInterval)!==null&&i!==void 0?i:r.transactionPollingInterval)};var Gb=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const FH=({web3Context:r,transactionReceipt:e,transactionPromiEvent:t,returnFormat:n})=>{let i=!0,s;setImmediate(()=>{var a;(a=r.subscriptionManager)===null||a===void 0||a.subscribe("newHeads").then(u=>{u.on("data",l=>Gb(void 0,void 0,void 0,function*(){var d;if(i=!1,!(l!=null&&l.number)||s===(l==null?void 0:l.parentHash))return;s=l==null?void 0:l.parentHash;const p=BigInt(l.number)-BigInt(e.blockNumber)+BigInt(1);t.emit("confirmation",{confirmations:_e({format:"uint"},p,n),receipt:_e(Qa,e,n),latestBlockHash:_e({format:"bytes32"},l.parentHash,n)}),p>=r.transactionConfirmationBlocks&&(yield(d=r.subscriptionManager)===null||d===void 0?void 0:d.removeSubscription(u))})),u.on("error",()=>Gb(void 0,void 0,void 0,function*(){var l;yield(l=r.subscriptionManager)===null||l===void 0?void 0:l.removeSubscription(u),i=!1,$f({web3Context:r,transactionReceipt:e,transactionPromiEvent:t,returnFormat:n})}))}).catch(()=>{i=!1,$f({web3Context:r,transactionReceipt:e,transactionPromiEvent:t,returnFormat:n})})}),setTimeout(()=>{i&&$f({web3Context:r,transactionReceipt:e,transactionPromiEvent:t,returnFormat:n})},r.blockHeaderTimeout*1e3)};function aA(r,e,t,n,i){if(le(t)||le(t.blockHash))throw new xk({receipt:t,blockHash:_e({format:"bytes32"},t==null?void 0:t.blockHash,i),transactionHash:_e({format:"bytes32"},n,i)});if(!t.blockNumber)throw new Sk({receipt:t});e.emit("confirmation",{confirmations:_e({format:"uint"},1,i),receipt:_e(Qa,t,i),latestBlockHash:_e({format:"bytes32"},t.blockHash,i)}),r.requestManager.provider.supportsSubscriptions()?FH({web3Context:r,transactionReceipt:t,transactionPromiEvent:e,returnFormat:i}):$f({web3Context:r,transactionReceipt:t,transactionPromiEvent:e,returnFormat:i})}var Xg={exports:{}};Xg.exports;(function(r){(function(e,t){function n(N,f){if(!N)throw new Error(f||"Assertion failed")}function i(N,f){N.super_=f;var g=function(){};g.prototype=f.prototype,N.prototype=new g,N.prototype.constructor=N}function s(N,f,g){if(s.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((f==="le"||f==="be")&&(g=f,f=10),this._init(N||0,f||10,g||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Uw.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,g){return f.cmp(g)>0?f:g},s.min=function(f,g){return f.cmp(g)<0?f:g},s.prototype._init=function(f,g,w){if(typeof f=="number")return this._initNumber(f,g,w);if(typeof f=="object")return this._initArray(f,g,w);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),f=f.toString().replace(/\s+/g,"");var T=0;f[0]==="-"&&(T++,this.negative=1),T<f.length&&(g===16?this._parseHex(f,T,w):(this._parseBase(f,g,T),w==="le"&&this._initArray(this.toArray(),g,w)))},s.prototype._initNumber=function(f,g,w){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),g,w)},s.prototype._initArray=function(f,g,w){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var O,R,H=0;if(w==="be")for(T=f.length-1,O=0;T>=0;T-=3)R=f[T]|f[T-1]<<8|f[T-2]<<16,this.words[O]|=R<<H&67108863,this.words[O+1]=R>>>26-H&67108863,H+=24,H>=26&&(H-=26,O++);else if(w==="le")for(T=0,O=0;T<f.length;T+=3)R=f[T]|f[T+1]<<8|f[T+2]<<16,this.words[O]|=R<<H&67108863,this.words[O+1]=R>>>26-H&67108863,H+=24,H>=26&&(H-=26,O++);return this._strip()};function u(N,f){var g=N.charCodeAt(f);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+N)}function l(N,f,g){var w=u(N,g);return g-1>=f&&(w|=u(N,g-1)<<4),w}s.prototype._parseHex=function(f,g,w){this.length=Math.ceil((f.length-g)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var O=0,R=0,H;if(w==="be")for(T=f.length-1;T>=g;T-=2)H=l(f,g,T)<<O,this.words[R]|=H&67108863,O>=18?(O-=18,R+=1,this.words[R]|=H>>>26):O+=8;else{var P=f.length-g;for(T=P%2===0?g+1:g;T<f.length;T+=2)H=l(f,g,T)<<O,this.words[R]|=H&67108863,O>=18?(O-=18,R+=1,this.words[R]|=H>>>26):O+=8}this._strip()};function d(N,f,g,w){for(var T=0,O=0,R=Math.min(N.length,g),H=f;H<R;H++){var P=N.charCodeAt(H)-48;T*=w,P>=49?O=P-49+10:P>=17?O=P-17+10:O=P,n(P>=0&&O<w,"Invalid character"),T+=O}return T}s.prototype._parseBase=function(f,g,w){this.words=[0],this.length=1;for(var T=0,O=1;O<=67108863;O*=g)T++;T--,O=O/g|0;for(var R=f.length-w,H=R%T,P=Math.min(R,R-H)+w,m=0,I=w;I<P;I+=T)m=d(f,I,I+T,g),this.imuln(O),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(H!==0){var te=1;for(m=d(f,I,f.length,g),I=0;I<H;I++)te*=g;this.imuln(te),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this._strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var g=0;g<this.length;g++)f.words[g]=this.words[g];f.length=this.length,f.negative=this.negative,f.red=this.red};function p(N,f){N.words=f.words,N.length=f.length,N.negative=f.negative,N.red=f.red}if(s.prototype._move=function(f){p(f,this)},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{s.prototype.inspect=v}else s.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,g){f=f||10,g=g|0||1;var w;if(f===16||f==="hex"){w="";for(var T=0,O=0,R=0;R<this.length;R++){var H=this.words[R],P=((H<<T|O)&16777215).toString(16);O=H>>>24-T&16777215,T+=2,T>=26&&(T-=26,R--),O!==0||R!==this.length-1?w=x[6-P.length]+P+w:w=P+w}for(O!==0&&(w=O.toString(16)+w);w.length%g!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(f===(f|0)&&f>=2&&f<=36){var m=S[f],I=C[f];w="";var te=this.clone();for(te.negative=0;!te.isZero();){var E=te.modrn(I).toString(f);te=te.idivn(I),te.isZero()?w=E+w:w=x[m-E.length]+E+w}for(this.isZero()&&(w="0"+w);w.length%g!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16,2)},a&&(s.prototype.toBuffer=function(f,g){return this.toArrayLike(a,f,g)}),s.prototype.toArray=function(f,g){return this.toArrayLike(Array,f,g)};var B=function(f,g){return f.allocUnsafe?f.allocUnsafe(g):new f(g)};s.prototype.toArrayLike=function(f,g,w){this._strip();var T=this.byteLength(),O=w||Math.max(1,T);n(T<=O,"byte array longer than desired length"),n(O>0,"Requested array length <= 0");var R=B(f,O),H=g==="le"?"LE":"BE";return this["_toArrayLike"+H](R,T),R},s.prototype._toArrayLikeLE=function(f,g){for(var w=0,T=0,O=0,R=0;O<this.length;O++){var H=this.words[O]<<R|T;f[w++]=H&255,w<f.length&&(f[w++]=H>>8&255),w<f.length&&(f[w++]=H>>16&255),R===6?(w<f.length&&(f[w++]=H>>24&255),T=0,R=0):(T=H>>>24,R+=2)}if(w<f.length)for(f[w++]=T;w<f.length;)f[w++]=0},s.prototype._toArrayLikeBE=function(f,g){for(var w=f.length-1,T=0,O=0,R=0;O<this.length;O++){var H=this.words[O]<<R|T;f[w--]=H&255,w>=0&&(f[w--]=H>>8&255),w>=0&&(f[w--]=H>>16&255),R===6?(w>=0&&(f[w--]=H>>24&255),T=0,R=0):(T=H>>>24,R+=2)}if(w>=0)for(f[w--]=T;w>=0;)f[w--]=0},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var g=f,w=0;return g>=4096&&(w+=13,g>>>=13),g>=64&&(w+=7,g>>>=7),g>=8&&(w+=4,g>>>=4),g>=2&&(w+=2,g>>>=2),w+g},s.prototype._zeroBits=function(f){if(f===0)return 26;var g=f,w=0;return g&8191||(w+=13,g>>>=13),g&127||(w+=7,g>>>=7),g&15||(w+=4,g>>>=4),g&3||(w+=2,g>>>=2),g&1||w++,w},s.prototype.bitLength=function(){var f=this.words[this.length-1],g=this._countBits(f);return(this.length-1)*26+g};function $(N){for(var f=new Array(N.bitLength()),g=0;g<f.length;g++){var w=g/26|0,T=g%26;f[g]=N.words[w]>>>T&1}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,g=0;g<this.length;g++){var w=this._zeroBits(this.words[g]);if(f+=w,w!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var g=0;g<f.length;g++)this.words[g]=this.words[g]|f.words[g];return this._strip()},s.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var g;this.length>f.length?g=f:g=this;for(var w=0;w<g.length;w++)this.words[w]=this.words[w]&f.words[w];return this.length=g.length,this._strip()},s.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var g,w;this.length>f.length?(g=this,w=f):(g=f,w=this);for(var T=0;T<w.length;T++)this.words[T]=g.words[T]^w.words[T];if(this!==g)for(;T<g.length;T++)this.words[T]=g.words[T];return this.length=g.length,this._strip()},s.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var g=Math.ceil(f/26)|0,w=f%26;this._expand(g),w>0&&g--;for(var T=0;T<g;T++)this.words[T]=~this.words[T]&67108863;return w>0&&(this.words[T]=~this.words[T]&67108863>>26-w),this._strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,g){n(typeof f=="number"&&f>=0);var w=f/26|0,T=f%26;return this._expand(w+1),g?this.words[w]=this.words[w]|1<<T:this.words[w]=this.words[w]&~(1<<T),this._strip()},s.prototype.iadd=function(f){var g;if(this.negative!==0&&f.negative===0)return this.negative=0,g=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,g=this.isub(f),f.negative=1,g._normSign();var w,T;this.length>f.length?(w=this,T=f):(w=f,T=this);for(var O=0,R=0;R<T.length;R++)g=(w.words[R]|0)+(T.words[R]|0)+O,this.words[R]=g&67108863,O=g>>>26;for(;O!==0&&R<w.length;R++)g=(w.words[R]|0)+O,this.words[R]=g&67108863,O=g>>>26;if(this.length=w.length,O!==0)this.words[this.length]=O,this.length++;else if(w!==this)for(;R<w.length;R++)this.words[R]=w.words[R];return this},s.prototype.add=function(f){var g;return f.negative!==0&&this.negative===0?(f.negative=0,g=this.sub(f),f.negative^=1,g):f.negative===0&&this.negative!==0?(this.negative=0,g=f.sub(this),this.negative=1,g):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var g=this.iadd(f);return f.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var w=this.cmp(f);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,O;w>0?(T=this,O=f):(T=f,O=this);for(var R=0,H=0;H<O.length;H++)g=(T.words[H]|0)-(O.words[H]|0)+R,R=g>>26,this.words[H]=g&67108863;for(;R!==0&&H<T.length;H++)g=(T.words[H]|0)+R,R=g>>26,this.words[H]=g&67108863;if(R===0&&H<T.length&&T!==this)for(;H<T.length;H++)this.words[H]=T.words[H];return this.length=Math.max(this.length,H),T!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function Y(N,f,g){g.negative=f.negative^N.negative;var w=N.length+f.length|0;g.length=w,w=w-1|0;var T=N.words[0]|0,O=f.words[0]|0,R=T*O,H=R&67108863,P=R/67108864|0;g.words[0]=H;for(var m=1;m<w;m++){for(var I=P>>>26,te=P&67108863,E=Math.min(m,f.length-1),X=Math.max(0,m-N.length+1);X<=E;X++){var G=m-X|0;T=N.words[G]|0,O=f.words[X]|0,R=T*O+te,I+=R/67108864|0,te=R&67108863}g.words[m]=te|0,P=I|0}return P!==0?g.words[m]=P|0:g.length--,g._strip()}var F=function(f,g,w){var T=f.words,O=g.words,R=w.words,H=0,P,m,I,te=T[0]|0,E=te&8191,X=te>>>13,G=T[1]|0,V=G&8191,W=G>>>13,b=T[2]|0,q=b&8191,oe=b>>>13,pe=T[3]|0,fe=pe&8191,we=pe>>>13,He=T[4]|0,Ee=He&8191,$e=He>>>13,ue=T[5]|0,be=ue&8191,ve=ue>>>13,Pe=T[6]|0,Te=Pe&8191,Me=Pe>>>13,Ge=T[7]|0,Oe=Ge&8191,Ae=Ge>>>13,ze=T[8]|0,Ne=ze&8191,Ce=ze>>>13,ot=T[9]|0,Be=ot&8191,Fe=ot>>>13,ht=O[0]|0,ke=ht&8191,pt=ht>>>13,yr=O[1]|0,It=yr&8191,gt=yr>>>13,$r=O[2]|0,Nt=$r&8191,kt=$r>>>13,jt=O[3]|0,We=jt&8191,Ze=jt>>>13,Ht=O[4]|0,Xe=Ht&8191,Qe=Ht>>>13,Jt=O[5]|0,it=Jt&8191,et=Jt>>>13,Yt=O[6]|0,tt=Yt&8191,nt=Yt>>>13,$t=O[7]|0,Ve=$t&8191,st=$t>>>13,Xt=O[8]|0,zt=Xt&8191,Vt=Xt>>>13,ni=O[9]|0,Et=ni&8191,Kt=ni>>>13;w.negative=f.negative^g.negative,w.length=19,P=Math.imul(E,ke),m=Math.imul(E,pt),m=m+Math.imul(X,ke)|0,I=Math.imul(X,pt);var Nn=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,P=Math.imul(V,ke),m=Math.imul(V,pt),m=m+Math.imul(W,ke)|0,I=Math.imul(W,pt),P=P+Math.imul(E,It)|0,m=m+Math.imul(E,gt)|0,m=m+Math.imul(X,It)|0,I=I+Math.imul(X,gt)|0;var Bn=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,P=Math.imul(q,ke),m=Math.imul(q,pt),m=m+Math.imul(oe,ke)|0,I=Math.imul(oe,pt),P=P+Math.imul(V,It)|0,m=m+Math.imul(V,gt)|0,m=m+Math.imul(W,It)|0,I=I+Math.imul(W,gt)|0,P=P+Math.imul(E,Nt)|0,m=m+Math.imul(E,kt)|0,m=m+Math.imul(X,Nt)|0,I=I+Math.imul(X,kt)|0;var kn=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(kn>>>26)|0,kn&=67108863,P=Math.imul(fe,ke),m=Math.imul(fe,pt),m=m+Math.imul(we,ke)|0,I=Math.imul(we,pt),P=P+Math.imul(q,It)|0,m=m+Math.imul(q,gt)|0,m=m+Math.imul(oe,It)|0,I=I+Math.imul(oe,gt)|0,P=P+Math.imul(V,Nt)|0,m=m+Math.imul(V,kt)|0,m=m+Math.imul(W,Nt)|0,I=I+Math.imul(W,kt)|0,P=P+Math.imul(E,We)|0,m=m+Math.imul(E,Ze)|0,m=m+Math.imul(X,We)|0,I=I+Math.imul(X,Ze)|0;var Ln=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,P=Math.imul(Ee,ke),m=Math.imul(Ee,pt),m=m+Math.imul($e,ke)|0,I=Math.imul($e,pt),P=P+Math.imul(fe,It)|0,m=m+Math.imul(fe,gt)|0,m=m+Math.imul(we,It)|0,I=I+Math.imul(we,gt)|0,P=P+Math.imul(q,Nt)|0,m=m+Math.imul(q,kt)|0,m=m+Math.imul(oe,Nt)|0,I=I+Math.imul(oe,kt)|0,P=P+Math.imul(V,We)|0,m=m+Math.imul(V,Ze)|0,m=m+Math.imul(W,We)|0,I=I+Math.imul(W,Ze)|0,P=P+Math.imul(E,Xe)|0,m=m+Math.imul(E,Qe)|0,m=m+Math.imul(X,Xe)|0,I=I+Math.imul(X,Qe)|0;var Nr=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,P=Math.imul(be,ke),m=Math.imul(be,pt),m=m+Math.imul(ve,ke)|0,I=Math.imul(ve,pt),P=P+Math.imul(Ee,It)|0,m=m+Math.imul(Ee,gt)|0,m=m+Math.imul($e,It)|0,I=I+Math.imul($e,gt)|0,P=P+Math.imul(fe,Nt)|0,m=m+Math.imul(fe,kt)|0,m=m+Math.imul(we,Nt)|0,I=I+Math.imul(we,kt)|0,P=P+Math.imul(q,We)|0,m=m+Math.imul(q,Ze)|0,m=m+Math.imul(oe,We)|0,I=I+Math.imul(oe,Ze)|0,P=P+Math.imul(V,Xe)|0,m=m+Math.imul(V,Qe)|0,m=m+Math.imul(W,Xe)|0,I=I+Math.imul(W,Qe)|0,P=P+Math.imul(E,it)|0,m=m+Math.imul(E,et)|0,m=m+Math.imul(X,it)|0,I=I+Math.imul(X,et)|0;var bi=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(bi>>>26)|0,bi&=67108863,P=Math.imul(Te,ke),m=Math.imul(Te,pt),m=m+Math.imul(Me,ke)|0,I=Math.imul(Me,pt),P=P+Math.imul(be,It)|0,m=m+Math.imul(be,gt)|0,m=m+Math.imul(ve,It)|0,I=I+Math.imul(ve,gt)|0,P=P+Math.imul(Ee,Nt)|0,m=m+Math.imul(Ee,kt)|0,m=m+Math.imul($e,Nt)|0,I=I+Math.imul($e,kt)|0,P=P+Math.imul(fe,We)|0,m=m+Math.imul(fe,Ze)|0,m=m+Math.imul(we,We)|0,I=I+Math.imul(we,Ze)|0,P=P+Math.imul(q,Xe)|0,m=m+Math.imul(q,Qe)|0,m=m+Math.imul(oe,Xe)|0,I=I+Math.imul(oe,Qe)|0,P=P+Math.imul(V,it)|0,m=m+Math.imul(V,et)|0,m=m+Math.imul(W,it)|0,I=I+Math.imul(W,et)|0,P=P+Math.imul(E,tt)|0,m=m+Math.imul(E,nt)|0,m=m+Math.imul(X,tt)|0,I=I+Math.imul(X,nt)|0;var Vs=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(Vs>>>26)|0,Vs&=67108863,P=Math.imul(Oe,ke),m=Math.imul(Oe,pt),m=m+Math.imul(Ae,ke)|0,I=Math.imul(Ae,pt),P=P+Math.imul(Te,It)|0,m=m+Math.imul(Te,gt)|0,m=m+Math.imul(Me,It)|0,I=I+Math.imul(Me,gt)|0,P=P+Math.imul(be,Nt)|0,m=m+Math.imul(be,kt)|0,m=m+Math.imul(ve,Nt)|0,I=I+Math.imul(ve,kt)|0,P=P+Math.imul(Ee,We)|0,m=m+Math.imul(Ee,Ze)|0,m=m+Math.imul($e,We)|0,I=I+Math.imul($e,Ze)|0,P=P+Math.imul(fe,Xe)|0,m=m+Math.imul(fe,Qe)|0,m=m+Math.imul(we,Xe)|0,I=I+Math.imul(we,Qe)|0,P=P+Math.imul(q,it)|0,m=m+Math.imul(q,et)|0,m=m+Math.imul(oe,it)|0,I=I+Math.imul(oe,et)|0,P=P+Math.imul(V,tt)|0,m=m+Math.imul(V,nt)|0,m=m+Math.imul(W,tt)|0,I=I+Math.imul(W,nt)|0,P=P+Math.imul(E,Ve)|0,m=m+Math.imul(E,st)|0,m=m+Math.imul(X,Ve)|0,I=I+Math.imul(X,st)|0;var wi=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(wi>>>26)|0,wi&=67108863,P=Math.imul(Ne,ke),m=Math.imul(Ne,pt),m=m+Math.imul(Ce,ke)|0,I=Math.imul(Ce,pt),P=P+Math.imul(Oe,It)|0,m=m+Math.imul(Oe,gt)|0,m=m+Math.imul(Ae,It)|0,I=I+Math.imul(Ae,gt)|0,P=P+Math.imul(Te,Nt)|0,m=m+Math.imul(Te,kt)|0,m=m+Math.imul(Me,Nt)|0,I=I+Math.imul(Me,kt)|0,P=P+Math.imul(be,We)|0,m=m+Math.imul(be,Ze)|0,m=m+Math.imul(ve,We)|0,I=I+Math.imul(ve,Ze)|0,P=P+Math.imul(Ee,Xe)|0,m=m+Math.imul(Ee,Qe)|0,m=m+Math.imul($e,Xe)|0,I=I+Math.imul($e,Qe)|0,P=P+Math.imul(fe,it)|0,m=m+Math.imul(fe,et)|0,m=m+Math.imul(we,it)|0,I=I+Math.imul(we,et)|0,P=P+Math.imul(q,tt)|0,m=m+Math.imul(q,nt)|0,m=m+Math.imul(oe,tt)|0,I=I+Math.imul(oe,nt)|0,P=P+Math.imul(V,Ve)|0,m=m+Math.imul(V,st)|0,m=m+Math.imul(W,Ve)|0,I=I+Math.imul(W,st)|0,P=P+Math.imul(E,zt)|0,m=m+Math.imul(E,Vt)|0,m=m+Math.imul(X,zt)|0,I=I+Math.imul(X,Vt)|0;var Ks=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(Ks>>>26)|0,Ks&=67108863,P=Math.imul(Be,ke),m=Math.imul(Be,pt),m=m+Math.imul(Fe,ke)|0,I=Math.imul(Fe,pt),P=P+Math.imul(Ne,It)|0,m=m+Math.imul(Ne,gt)|0,m=m+Math.imul(Ce,It)|0,I=I+Math.imul(Ce,gt)|0,P=P+Math.imul(Oe,Nt)|0,m=m+Math.imul(Oe,kt)|0,m=m+Math.imul(Ae,Nt)|0,I=I+Math.imul(Ae,kt)|0,P=P+Math.imul(Te,We)|0,m=m+Math.imul(Te,Ze)|0,m=m+Math.imul(Me,We)|0,I=I+Math.imul(Me,Ze)|0,P=P+Math.imul(be,Xe)|0,m=m+Math.imul(be,Qe)|0,m=m+Math.imul(ve,Xe)|0,I=I+Math.imul(ve,Qe)|0,P=P+Math.imul(Ee,it)|0,m=m+Math.imul(Ee,et)|0,m=m+Math.imul($e,it)|0,I=I+Math.imul($e,et)|0,P=P+Math.imul(fe,tt)|0,m=m+Math.imul(fe,nt)|0,m=m+Math.imul(we,tt)|0,I=I+Math.imul(we,nt)|0,P=P+Math.imul(q,Ve)|0,m=m+Math.imul(q,st)|0,m=m+Math.imul(oe,Ve)|0,I=I+Math.imul(oe,st)|0,P=P+Math.imul(V,zt)|0,m=m+Math.imul(V,Vt)|0,m=m+Math.imul(W,zt)|0,I=I+Math.imul(W,Vt)|0,P=P+Math.imul(E,Et)|0,m=m+Math.imul(E,Kt)|0,m=m+Math.imul(X,Et)|0,I=I+Math.imul(X,Kt)|0;var Ws=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(Ws>>>26)|0,Ws&=67108863,P=Math.imul(Be,It),m=Math.imul(Be,gt),m=m+Math.imul(Fe,It)|0,I=Math.imul(Fe,gt),P=P+Math.imul(Ne,Nt)|0,m=m+Math.imul(Ne,kt)|0,m=m+Math.imul(Ce,Nt)|0,I=I+Math.imul(Ce,kt)|0,P=P+Math.imul(Oe,We)|0,m=m+Math.imul(Oe,Ze)|0,m=m+Math.imul(Ae,We)|0,I=I+Math.imul(Ae,Ze)|0,P=P+Math.imul(Te,Xe)|0,m=m+Math.imul(Te,Qe)|0,m=m+Math.imul(Me,Xe)|0,I=I+Math.imul(Me,Qe)|0,P=P+Math.imul(be,it)|0,m=m+Math.imul(be,et)|0,m=m+Math.imul(ve,it)|0,I=I+Math.imul(ve,et)|0,P=P+Math.imul(Ee,tt)|0,m=m+Math.imul(Ee,nt)|0,m=m+Math.imul($e,tt)|0,I=I+Math.imul($e,nt)|0,P=P+Math.imul(fe,Ve)|0,m=m+Math.imul(fe,st)|0,m=m+Math.imul(we,Ve)|0,I=I+Math.imul(we,st)|0,P=P+Math.imul(q,zt)|0,m=m+Math.imul(q,Vt)|0,m=m+Math.imul(oe,zt)|0,I=I+Math.imul(oe,Vt)|0,P=P+Math.imul(V,Et)|0,m=m+Math.imul(V,Kt)|0,m=m+Math.imul(W,Et)|0,I=I+Math.imul(W,Kt)|0;var _i=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(_i>>>26)|0,_i&=67108863,P=Math.imul(Be,Nt),m=Math.imul(Be,kt),m=m+Math.imul(Fe,Nt)|0,I=Math.imul(Fe,kt),P=P+Math.imul(Ne,We)|0,m=m+Math.imul(Ne,Ze)|0,m=m+Math.imul(Ce,We)|0,I=I+Math.imul(Ce,Ze)|0,P=P+Math.imul(Oe,Xe)|0,m=m+Math.imul(Oe,Qe)|0,m=m+Math.imul(Ae,Xe)|0,I=I+Math.imul(Ae,Qe)|0,P=P+Math.imul(Te,it)|0,m=m+Math.imul(Te,et)|0,m=m+Math.imul(Me,it)|0,I=I+Math.imul(Me,et)|0,P=P+Math.imul(be,tt)|0,m=m+Math.imul(be,nt)|0,m=m+Math.imul(ve,tt)|0,I=I+Math.imul(ve,nt)|0,P=P+Math.imul(Ee,Ve)|0,m=m+Math.imul(Ee,st)|0,m=m+Math.imul($e,Ve)|0,I=I+Math.imul($e,st)|0,P=P+Math.imul(fe,zt)|0,m=m+Math.imul(fe,Vt)|0,m=m+Math.imul(we,zt)|0,I=I+Math.imul(we,Vt)|0,P=P+Math.imul(q,Et)|0,m=m+Math.imul(q,Kt)|0,m=m+Math.imul(oe,Et)|0,I=I+Math.imul(oe,Kt)|0;var hs=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(hs>>>26)|0,hs&=67108863,P=Math.imul(Be,We),m=Math.imul(Be,Ze),m=m+Math.imul(Fe,We)|0,I=Math.imul(Fe,Ze),P=P+Math.imul(Ne,Xe)|0,m=m+Math.imul(Ne,Qe)|0,m=m+Math.imul(Ce,Xe)|0,I=I+Math.imul(Ce,Qe)|0,P=P+Math.imul(Oe,it)|0,m=m+Math.imul(Oe,et)|0,m=m+Math.imul(Ae,it)|0,I=I+Math.imul(Ae,et)|0,P=P+Math.imul(Te,tt)|0,m=m+Math.imul(Te,nt)|0,m=m+Math.imul(Me,tt)|0,I=I+Math.imul(Me,nt)|0,P=P+Math.imul(be,Ve)|0,m=m+Math.imul(be,st)|0,m=m+Math.imul(ve,Ve)|0,I=I+Math.imul(ve,st)|0,P=P+Math.imul(Ee,zt)|0,m=m+Math.imul(Ee,Vt)|0,m=m+Math.imul($e,zt)|0,I=I+Math.imul($e,Vt)|0,P=P+Math.imul(fe,Et)|0,m=m+Math.imul(fe,Kt)|0,m=m+Math.imul(we,Et)|0,I=I+Math.imul(we,Kt)|0;var ds=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(ds>>>26)|0,ds&=67108863,P=Math.imul(Be,Xe),m=Math.imul(Be,Qe),m=m+Math.imul(Fe,Xe)|0,I=Math.imul(Fe,Qe),P=P+Math.imul(Ne,it)|0,m=m+Math.imul(Ne,et)|0,m=m+Math.imul(Ce,it)|0,I=I+Math.imul(Ce,et)|0,P=P+Math.imul(Oe,tt)|0,m=m+Math.imul(Oe,nt)|0,m=m+Math.imul(Ae,tt)|0,I=I+Math.imul(Ae,nt)|0,P=P+Math.imul(Te,Ve)|0,m=m+Math.imul(Te,st)|0,m=m+Math.imul(Me,Ve)|0,I=I+Math.imul(Me,st)|0,P=P+Math.imul(be,zt)|0,m=m+Math.imul(be,Vt)|0,m=m+Math.imul(ve,zt)|0,I=I+Math.imul(ve,Vt)|0,P=P+Math.imul(Ee,Et)|0,m=m+Math.imul(Ee,Kt)|0,m=m+Math.imul($e,Et)|0,I=I+Math.imul($e,Kt)|0;var Xr=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,P=Math.imul(Be,it),m=Math.imul(Be,et),m=m+Math.imul(Fe,it)|0,I=Math.imul(Fe,et),P=P+Math.imul(Ne,tt)|0,m=m+Math.imul(Ne,nt)|0,m=m+Math.imul(Ce,tt)|0,I=I+Math.imul(Ce,nt)|0,P=P+Math.imul(Oe,Ve)|0,m=m+Math.imul(Oe,st)|0,m=m+Math.imul(Ae,Ve)|0,I=I+Math.imul(Ae,st)|0,P=P+Math.imul(Te,zt)|0,m=m+Math.imul(Te,Vt)|0,m=m+Math.imul(Me,zt)|0,I=I+Math.imul(Me,Vt)|0,P=P+Math.imul(be,Et)|0,m=m+Math.imul(be,Kt)|0,m=m+Math.imul(ve,Et)|0,I=I+Math.imul(ve,Kt)|0;var Qs=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(Qs>>>26)|0,Qs&=67108863,P=Math.imul(Be,tt),m=Math.imul(Be,nt),m=m+Math.imul(Fe,tt)|0,I=Math.imul(Fe,nt),P=P+Math.imul(Ne,Ve)|0,m=m+Math.imul(Ne,st)|0,m=m+Math.imul(Ce,Ve)|0,I=I+Math.imul(Ce,st)|0,P=P+Math.imul(Oe,zt)|0,m=m+Math.imul(Oe,Vt)|0,m=m+Math.imul(Ae,zt)|0,I=I+Math.imul(Ae,Vt)|0,P=P+Math.imul(Te,Et)|0,m=m+Math.imul(Te,Kt)|0,m=m+Math.imul(Me,Et)|0,I=I+Math.imul(Me,Kt)|0;var Js=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(Js>>>26)|0,Js&=67108863,P=Math.imul(Be,Ve),m=Math.imul(Be,st),m=m+Math.imul(Fe,Ve)|0,I=Math.imul(Fe,st),P=P+Math.imul(Ne,zt)|0,m=m+Math.imul(Ne,Vt)|0,m=m+Math.imul(Ce,zt)|0,I=I+Math.imul(Ce,Vt)|0,P=P+Math.imul(Oe,Et)|0,m=m+Math.imul(Oe,Kt)|0,m=m+Math.imul(Ae,Et)|0,I=I+Math.imul(Ae,Kt)|0;var Ys=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(Ys>>>26)|0,Ys&=67108863,P=Math.imul(Be,zt),m=Math.imul(Be,Vt),m=m+Math.imul(Fe,zt)|0,I=Math.imul(Fe,Vt),P=P+Math.imul(Ne,Et)|0,m=m+Math.imul(Ne,Kt)|0,m=m+Math.imul(Ce,Et)|0,I=I+Math.imul(Ce,Kt)|0;var Xs=(H+P|0)+((m&8191)<<13)|0;H=(I+(m>>>13)|0)+(Xs>>>26)|0,Xs&=67108863,P=Math.imul(Be,Et),m=Math.imul(Be,Kt),m=m+Math.imul(Fe,Et)|0,I=Math.imul(Fe,Kt);var ps=(H+P|0)+((m&8191)<<13)|0;return H=(I+(m>>>13)|0)+(ps>>>26)|0,ps&=67108863,R[0]=Nn,R[1]=Bn,R[2]=kn,R[3]=Ln,R[4]=Nr,R[5]=bi,R[6]=Vs,R[7]=wi,R[8]=Ks,R[9]=Ws,R[10]=_i,R[11]=hs,R[12]=ds,R[13]=Xr,R[14]=Qs,R[15]=Js,R[16]=Ys,R[17]=Xs,R[18]=ps,H!==0&&(R[19]=H,w.length++),w};Math.imul||(F=Y);function z(N,f,g){g.negative=f.negative^N.negative,g.length=N.length+f.length;for(var w=0,T=0,O=0;O<g.length-1;O++){var R=T;T=0;for(var H=w&67108863,P=Math.min(O,f.length-1),m=Math.max(0,O-N.length+1);m<=P;m++){var I=O-m,te=N.words[I]|0,E=f.words[m]|0,X=te*E,G=X&67108863;R=R+(X/67108864|0)|0,G=G+H|0,H=G&67108863,R=R+(G>>>26)|0,T+=R>>>26,R&=67108863}g.words[O]=H,w=R,R=T}return w!==0?g.words[O]=w:g.length--,g._strip()}function L(N,f,g){return z(N,f,g)}s.prototype.mulTo=function(f,g){var w,T=this.length+f.length;return this.length===10&&f.length===10?w=F(this,f,g):T<63?w=Y(this,f,g):T<1024?w=z(this,f,g):w=L(this,f,g),w},s.prototype.mul=function(f){var g=new s(null);return g.words=new Array(this.length+f.length),this.mulTo(f,g)},s.prototype.mulf=function(f){var g=new s(null);return g.words=new Array(this.length+f.length),L(this,f,g)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){var g=f<0;g&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var w=0,T=0;T<this.length;T++){var O=(this.words[T]|0)*f,R=(O&67108863)+(w&67108863);w>>=26,w+=O/67108864|0,w+=R>>>26,this.words[T]=R&67108863}return w!==0&&(this.words[T]=w,this.length++),g?this.ineg():this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var g=$(f);if(g.length===0)return new s(1);for(var w=this,T=0;T<g.length&&g[T]===0;T++,w=w.sqr());if(++T<g.length)for(var O=w.sqr();T<g.length;T++,O=O.sqr())g[T]!==0&&(w=w.mul(O));return w},s.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var g=f%26,w=(f-g)/26,T=67108863>>>26-g<<26-g,O;if(g!==0){var R=0;for(O=0;O<this.length;O++){var H=this.words[O]&T,P=(this.words[O]|0)-H<<g;this.words[O]=P|R,R=H>>>26-g}R&&(this.words[O]=R,this.length++)}if(w!==0){for(O=this.length-1;O>=0;O--)this.words[O+w]=this.words[O];for(O=0;O<w;O++)this.words[O]=0;this.length+=w}return this._strip()},s.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,g,w){n(typeof f=="number"&&f>=0);var T;g?T=(g-g%26)/26:T=0;var O=f%26,R=Math.min((f-O)/26,this.length),H=67108863^67108863>>>O<<O,P=w;if(T-=R,T=Math.max(0,T),P){for(var m=0;m<R;m++)P.words[m]=this.words[m];P.length=R}if(R!==0)if(this.length>R)for(this.length-=R,m=0;m<this.length;m++)this.words[m]=this.words[m+R];else this.words[0]=0,this.length=1;var I=0;for(m=this.length-1;m>=0&&(I!==0||m>=T);m--){var te=this.words[m]|0;this.words[m]=I<<26-O|te>>>O,I=te&H}return P&&I!==0&&(P.words[P.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(f,g,w){return n(this.negative===0),this.iushrn(f,g,w)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var g=f%26,w=(f-g)/26,T=1<<g;if(this.length<=w)return!1;var O=this.words[w];return!!(O&T)},s.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var g=f%26,w=(f-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(g!==0&&w++,this.length=Math.min(w,this.length),g!==0){var T=67108863^67108863>>>g<<g;this.words[this.length-1]&=T}return this._strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},s.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,g,w){var T=f.length+w,O;this._expand(T);var R,H=0;for(O=0;O<f.length;O++){R=(this.words[O+w]|0)+H;var P=(f.words[O]|0)*g;R-=P&67108863,H=(R>>26)-(P/67108864|0),this.words[O+w]=R&67108863}for(;O<this.length-w;O++)R=(this.words[O+w]|0)+H,H=R>>26,this.words[O+w]=R&67108863;if(H===0)return this._strip();for(n(H===-1),H=0,O=0;O<this.length;O++)R=-(this.words[O]|0)+H,H=R>>26,this.words[O]=R&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(f,g){var w=this.length-f.length,T=this.clone(),O=f,R=O.words[O.length-1]|0,H=this._countBits(R);w=26-H,w!==0&&(O=O.ushln(w),T.iushln(w),R=O.words[O.length-1]|0);var P=T.length-O.length,m;if(g!=="mod"){m=new s(null),m.length=P+1,m.words=new Array(m.length);for(var I=0;I<m.length;I++)m.words[I]=0}var te=T.clone()._ishlnsubmul(O,1,P);te.negative===0&&(T=te,m&&(m.words[P]=1));for(var E=P-1;E>=0;E--){var X=(T.words[O.length+E]|0)*67108864+(T.words[O.length+E-1]|0);for(X=Math.min(X/R|0,67108863),T._ishlnsubmul(O,X,E);T.negative!==0;)X--,T.negative=0,T._ishlnsubmul(O,1,E),T.isZero()||(T.negative^=1);m&&(m.words[E]=X)}return m&&m._strip(),T._strip(),g!=="div"&&w!==0&&T.iushrn(w),{div:m||null,mod:T}},s.prototype.divmod=function(f,g,w){if(n(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var T,O,R;return this.negative!==0&&f.negative===0?(R=this.neg().divmod(f,g),g!=="mod"&&(T=R.div.neg()),g!=="div"&&(O=R.mod.neg(),w&&O.negative!==0&&O.iadd(f)),{div:T,mod:O}):this.negative===0&&f.negative!==0?(R=this.divmod(f.neg(),g),g!=="mod"&&(T=R.div.neg()),{div:T,mod:R.mod}):this.negative&f.negative?(R=this.neg().divmod(f.neg(),g),g!=="div"&&(O=R.mod.neg(),w&&O.negative!==0&&O.isub(f)),{div:R.div,mod:O}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?g==="div"?{div:this.divn(f.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modrn(f.words[0]))}:this._wordDiv(f,g)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var g=this.divmod(f);if(g.mod.isZero())return g.div;var w=g.div.negative!==0?g.mod.isub(f):g.mod,T=f.ushrn(1),O=f.andln(1),R=w.cmp(T);return R<0||O===1&&R===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},s.prototype.modrn=function(f){var g=f<0;g&&(f=-f),n(f<=67108863);for(var w=(1<<26)%f,T=0,O=this.length-1;O>=0;O--)T=(w*T+(this.words[O]|0))%f;return g?-T:T},s.prototype.modn=function(f){return this.modrn(f)},s.prototype.idivn=function(f){var g=f<0;g&&(f=-f),n(f<=67108863);for(var w=0,T=this.length-1;T>=0;T--){var O=(this.words[T]|0)+w*67108864;this.words[T]=O/f|0,w=O%f}return this._strip(),g?this.ineg():this},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var g=this,w=f.clone();g.negative!==0?g=g.umod(f):g=g.clone();for(var T=new s(1),O=new s(0),R=new s(0),H=new s(1),P=0;g.isEven()&&w.isEven();)g.iushrn(1),w.iushrn(1),++P;for(var m=w.clone(),I=g.clone();!g.isZero();){for(var te=0,E=1;!(g.words[0]&E)&&te<26;++te,E<<=1);if(te>0)for(g.iushrn(te);te-- >0;)(T.isOdd()||O.isOdd())&&(T.iadd(m),O.isub(I)),T.iushrn(1),O.iushrn(1);for(var X=0,G=1;!(w.words[0]&G)&&X<26;++X,G<<=1);if(X>0)for(w.iushrn(X);X-- >0;)(R.isOdd()||H.isOdd())&&(R.iadd(m),H.isub(I)),R.iushrn(1),H.iushrn(1);g.cmp(w)>=0?(g.isub(w),T.isub(R),O.isub(H)):(w.isub(g),R.isub(T),H.isub(O))}return{a:R,b:H,gcd:w.iushln(P)}},s.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var g=this,w=f.clone();g.negative!==0?g=g.umod(f):g=g.clone();for(var T=new s(1),O=new s(0),R=w.clone();g.cmpn(1)>0&&w.cmpn(1)>0;){for(var H=0,P=1;!(g.words[0]&P)&&H<26;++H,P<<=1);if(H>0)for(g.iushrn(H);H-- >0;)T.isOdd()&&T.iadd(R),T.iushrn(1);for(var m=0,I=1;!(w.words[0]&I)&&m<26;++m,I<<=1);if(m>0)for(w.iushrn(m);m-- >0;)O.isOdd()&&O.iadd(R),O.iushrn(1);g.cmp(w)>=0?(g.isub(w),T.isub(O)):(w.isub(g),O.isub(T))}var te;return g.cmpn(1)===0?te=T:te=O,te.cmpn(0)<0&&te.iadd(f),te},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var g=this.clone(),w=f.clone();g.negative=0,w.negative=0;for(var T=0;g.isEven()&&w.isEven();T++)g.iushrn(1),w.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;w.isEven();)w.iushrn(1);var O=g.cmp(w);if(O<0){var R=g;g=w,w=R}else if(O===0||w.cmpn(1)===0)break;g.isub(w)}while(!0);return w.iushln(T)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){n(typeof f=="number");var g=f%26,w=(f-g)/26,T=1<<g;if(this.length<=w)return this._expand(w+1),this.words[w]|=T,this;for(var O=T,R=w;O!==0&&R<this.length;R++){var H=this.words[R]|0;H+=O,O=H>>>26,H&=67108863,this.words[R]=H}return O!==0&&(this.words[R]=O,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var g=f<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var w;if(this.length>1)w=1;else{g&&(f=-f),n(f<=67108863,"Number is too big");var T=this.words[0]|0;w=T===f?0:T<f?-1:1}return this.negative!==0?-w|0:w},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var g=this.ucmp(f);return this.negative!==0?-g|0:g},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var g=0,w=this.length-1;w>=0;w--){var T=this.words[w]|0,O=f.words[w]|0;if(T!==O){T<O?g=-1:T>O&&(g=1);break}}return g},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new Q(f)},s.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var k={k256:null,p224:null,p192:null,p25519:null};function D(N,f){this.name=N,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},D.prototype.ireduce=function(f){var g=f,w;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),w=g.bitLength();while(w>this.n);var T=w<this.n?-1:g.ucmp(this.p);return T===0?(g.words[0]=0,g.length=1):T>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},D.prototype.split=function(f,g){f.iushrn(this.n,0,g)},D.prototype.imulK=function(f){return f.imul(this.k)};function y(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(y,D),y.prototype.split=function(f,g){for(var w=4194303,T=Math.min(f.length,9),O=0;O<T;O++)g.words[O]=f.words[O];if(g.length=T,f.length<=9){f.words[0]=0,f.length=1;return}var R=f.words[9];for(g.words[g.length++]=R&w,O=10;O<f.length;O++){var H=f.words[O]|0;f.words[O-10]=(H&w)<<4|R>>>22,R=H}R>>>=22,f.words[O-10]=R,R===0&&f.length>10?f.length-=10:f.length-=9},y.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var g=0,w=0;w<f.length;w++){var T=f.words[w]|0;g+=T*977,f.words[w]=g&67108863,g=T*64+(g/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function A(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(A,D);function ne(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ne,D);function U(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(U,D),U.prototype.imulK=function(f){for(var g=0,w=0;w<f.length;w++){var T=(f.words[w]|0)*19+g,O=T&67108863;T>>>=26,f.words[w]=O,g=T}return g!==0&&(f.words[f.length++]=g),f},s._prime=function(f){if(k[f])return k[f];var g;if(f==="k256")g=new y;else if(f==="p224")g=new A;else if(f==="p192")g=new ne;else if(f==="p25519")g=new U;else throw new Error("Unknown prime "+f);return k[f]=g,g};function Q(N){if(typeof N=="string"){var f=s._prime(N);this.m=f.p,this.prime=f}else n(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}Q.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},Q.prototype._verify2=function(f,g){n((f.negative|g.negative)===0,"red works only with positives"),n(f.red&&f.red===g.red,"red works only with red numbers")},Q.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(p(f,f.umod(this.m)._forceRed(this)),f)},Q.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Q.prototype.add=function(f,g){this._verify2(f,g);var w=f.add(g);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},Q.prototype.iadd=function(f,g){this._verify2(f,g);var w=f.iadd(g);return w.cmp(this.m)>=0&&w.isub(this.m),w},Q.prototype.sub=function(f,g){this._verify2(f,g);var w=f.sub(g);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},Q.prototype.isub=function(f,g){this._verify2(f,g);var w=f.isub(g);return w.cmpn(0)<0&&w.iadd(this.m),w},Q.prototype.shl=function(f,g){return this._verify1(f),this.imod(f.ushln(g))},Q.prototype.imul=function(f,g){return this._verify2(f,g),this.imod(f.imul(g))},Q.prototype.mul=function(f,g){return this._verify2(f,g),this.imod(f.mul(g))},Q.prototype.isqr=function(f){return this.imul(f,f.clone())},Q.prototype.sqr=function(f){return this.mul(f,f)},Q.prototype.sqrt=function(f){if(f.isZero())return f.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var w=this.m.add(new s(1)).iushrn(2);return this.pow(f,w)}for(var T=this.m.subn(1),O=0;!T.isZero()&&T.andln(1)===0;)O++,T.iushrn(1);n(!T.isZero());var R=new s(1).toRed(this),H=R.redNeg(),P=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new s(2*m*m).toRed(this);this.pow(m,P).cmp(H)!==0;)m.redIAdd(H);for(var I=this.pow(m,T),te=this.pow(f,T.addn(1).iushrn(1)),E=this.pow(f,T),X=O;E.cmp(R)!==0;){for(var G=E,V=0;G.cmp(R)!==0;V++)G=G.redSqr();n(V<X);var W=this.pow(I,new s(1).iushln(X-V-1));te=te.redMul(W),I=W.redSqr(),E=E.redMul(I),X=V}return te},Q.prototype.invm=function(f){var g=f._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},Q.prototype.pow=function(f,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return f.clone();var w=4,T=new Array(1<<w);T[0]=new s(1).toRed(this),T[1]=f;for(var O=2;O<T.length;O++)T[O]=this.mul(T[O-1],f);var R=T[0],H=0,P=0,m=g.bitLength()%26;for(m===0&&(m=26),O=g.length-1;O>=0;O--){for(var I=g.words[O],te=m-1;te>=0;te--){var E=I>>te&1;if(R!==T[0]&&(R=this.sqr(R)),E===0&&H===0){P=0;continue}H<<=1,H|=E,P++,!(P!==w&&(O!==0||te!==0))&&(R=this.mul(R,T[H]),P=0,H=0)}m=26}return R},Q.prototype.convertTo=function(f){var g=f.umod(this.m);return g===f?g.clone():g},Q.prototype.convertFrom=function(f){var g=f.clone();return g.red=null,g},s.mont=function(f){return new Z(f)};function Z(N){Q.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Z,Q),Z.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Z.prototype.convertFrom=function(f){var g=this.imod(f.mul(this.rinv));return g.red=null,g},Z.prototype.imul=function(f,g){if(f.isZero()||g.isZero())return f.words[0]=0,f.length=1,f;var w=f.imul(g),T=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=w.isub(T).iushrn(this.shift),R=O;return O.cmp(this.m)>=0?R=O.isub(this.m):O.cmpn(0)<0&&(R=O.iadd(this.m)),R._forceRed(this)},Z.prototype.mul=function(f,g){if(f.isZero()||g.isZero())return new s(0)._forceRed(this);var w=f.mul(g),T=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=w.isub(T).iushrn(this.shift),R=O;return O.cmp(this.m)>=0?R=O.isub(this.m):O.cmpn(0)<0&&(R=O.iadd(this.m)),R._forceRed(this)},Z.prototype.invm=function(f){var g=this.imod(f._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(r,mr)})(Xg);var UH=Xg.exports;const jH=ko(UH),HH="logger/5.7.0";let zb=!1,Vb=!1;const qf={debug:1,default:2,info:2,warning:3,error:4,off:5};let Kb=qf.default,m0=null;function $H(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const Wb=$H();var gp;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(gp||(gp={}));var fi;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(fi||(fi={}));const Qb="0123456789abcdef";class ft{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();qf[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Kb>qf[n])&&console.log.apply(console,t)}debug(...e){this._log(ft.levels.DEBUG,e)}info(...e){this._log(ft.levels.INFO,e)}warn(...e){this._log(ft.levels.WARNING,e)}makeError(e,t,n){if(Vb)return this.makeError("censored error",t,{});t||(t=ft.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(l=>{const d=n[l];try{if(d instanceof Uint8Array){let p="";for(let v=0;v<d.length;v++)p+=Qb[d[v]>>4],p+=Qb[d[v]&15];i.push(l+"=Uint8Array(0x"+p+")")}else i.push(l+"="+JSON.stringify(d))}catch{i.push(l+"="+JSON.stringify(n[l].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let a="";switch(t){case fi.NUMERIC_FAULT:{a="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":a+="-"+l;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case fi.CALL_EXCEPTION:case fi.INSUFFICIENT_FUNDS:case fi.MISSING_NEW:case fi.NONCE_EXPIRED:case fi.REPLACEMENT_UNDERPRICED:case fi.TRANSACTION_REPLACED:case fi.UNPREDICTABLE_GAS_LIMIT:a=t;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const u=new Error(e);return u.reason=s,u.code=t,Object.keys(n).forEach(function(l){u[l]=n[l]}),u}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,ft.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){Wb&&this.throwError("platform missing String.prototype.normalize",ft.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Wb})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,ft.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,ft.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,ft.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,ft.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",ft.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",ft.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ft.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return m0||(m0=new ft(HH)),m0}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",ft.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),zb){if(!e)return;this.globalLogger().throwError("error censorship permanent",ft.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Vb=!!e,zb=!!t}static setLogLevel(e){const t=qf[e.toLowerCase()];if(t==null){ft.globalLogger().warn("invalid log level - "+e);return}Kb=t}static from(e){return new ft(e)}}ft.errors=fi;ft.levels=gp;const qH="bytes/5.7.0",ks=new ft(qH);function cA(r){return!!r.toHexString}function $c(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return $c(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Jb(r){return typeof r=="number"&&r==r&&r%1===0}function Zg(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Jb(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!Jb(t)||t<0||t>=256)return!1}return!0}function yi(r,e){if(e||(e={}),typeof r=="number"){ks.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),$c(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),cA(r)&&(r=r.toHexString()),ja(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":ks.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return $c(new Uint8Array(n))}return Zg(r)?$c(new Uint8Array(r)):ks.throwArgumentError("invalid arrayify value","value",r)}function y0(r){const e=r.map(i=>yi(i)),t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),$c(n)}function ja(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const v0="0123456789abcdef";function Ja(r,e){if(e||(e={}),typeof r=="number"){ks.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=v0[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),cA(r))return r.toHexString();if(ja(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":ks.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(Zg(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=v0[(i&240)>>4]+v0[i&15]}return t}return ks.throwArgumentError("invalid hexlify value","value",r)}function GH(r){let e="0x";return r.forEach(t=>{e+=Ja(t).substring(2)}),e}function zH(r,e){for(typeof r!="string"?r=Ja(r):ja(r)||ks.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&ks.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}const VH="bignumber/5.7.0";var yl=jH.BN;const Yi=new ft(VH),b0={},Yb=9007199254740991;let Xb=!1;class Or{constructor(e,t){e!==b0&&Yi.throwError("cannot call constructor directly; use BigNumber.from",ft.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return gn(Ct(this).fromTwos(e))}toTwos(e){return gn(Ct(this).toTwos(e))}abs(){return this._hex[0]==="-"?Or.from(this._hex.substring(1)):this}add(e){return gn(Ct(this).add(Ct(e)))}sub(e){return gn(Ct(this).sub(Ct(e)))}div(e){return Or.from(e).isZero()&&Wn("division-by-zero","div"),gn(Ct(this).div(Ct(e)))}mul(e){return gn(Ct(this).mul(Ct(e)))}mod(e){const t=Ct(e);return t.isNeg()&&Wn("division-by-zero","mod"),gn(Ct(this).umod(t))}pow(e){const t=Ct(e);return t.isNeg()&&Wn("negative-power","pow"),gn(Ct(this).pow(t))}and(e){const t=Ct(e);return(this.isNegative()||t.isNeg())&&Wn("unbound-bitwise-result","and"),gn(Ct(this).and(t))}or(e){const t=Ct(e);return(this.isNegative()||t.isNeg())&&Wn("unbound-bitwise-result","or"),gn(Ct(this).or(t))}xor(e){const t=Ct(e);return(this.isNegative()||t.isNeg())&&Wn("unbound-bitwise-result","xor"),gn(Ct(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Wn("negative-width","mask"),gn(Ct(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Wn("negative-width","shl"),gn(Ct(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Wn("negative-width","shr"),gn(Ct(this).shrn(e))}eq(e){return Ct(this).eq(Ct(e))}lt(e){return Ct(this).lt(Ct(e))}lte(e){return Ct(this).lte(Ct(e))}gt(e){return Ct(this).gt(Ct(e))}gte(e){return Ct(this).gte(Ct(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Ct(this).isZero()}toNumber(){try{return Ct(this).toNumber()}catch{Wn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Yi.throwError("this platform does not support BigInt",ft.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Xb||(Xb=!0,Yi.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Yi.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ft.errors.UNEXPECTED_ARGUMENT,{}):Yi.throwError("BigNumber.toString does not accept parameters",ft.errors.UNEXPECTED_ARGUMENT,{})),Ct(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Or)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Or(b0,eu(e)):e.match(/^-?[0-9]+$/)?new Or(b0,eu(new yl(e))):Yi.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Wn("underflow","BigNumber.from",e),(e>=Yb||e<=-Yb)&&Wn("overflow","BigNumber.from",e),Or.from(String(e));const t=e;if(typeof t=="bigint")return Or.from(t.toString());if(Zg(t))return Or.from(Ja(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return Or.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(ja(n)||n[0]==="-"&&ja(n.substring(1))))return Or.from(n)}return Yi.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function eu(r){if(typeof r!="string")return eu(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Yi.throwArgumentError("invalid hex","value",r),r=eu(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function gn(r){return Or.from(eu(r))}function Ct(r){const e=Or.from(r).toHexString();return e[0]==="-"?new yl("-"+e.substring(3),16):new yl(e.substring(2),16)}function Wn(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),Yi.throwError(r,ft.errors.NUMERIC_FAULT,n)}function KH(r){return new yl(r,36).toString(16)}globalThis&&globalThis.__awaiter;function So(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}const lh="abi/5.7.0",tu=new ft(lh),Zb={};let ew={calldata:!0,memory:!0,storage:!0},WH={calldata:!0,memory:!0};function If(r,e){if(r==="bytes"||r==="string"){if(ew[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&WH[e])return!0;return(ew[e]||e==="payable")&&tu.throwArgumentError("invalid modifier","name",e),!1}function QH(r,e){let t=r;function n(u){tu.throwArgumentError(`unexpected character at position ${u}`,"param",r)}r=r.replace(/\s/g," ");function i(u){let l={type:"",name:"",parent:u,state:{allowType:!0}};return e&&(l.indexed=!1),l}let s={type:"",name:"",state:{allowType:!0}},a=s;for(let u=0;u<r.length;u++){let l=r[u];switch(l){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||n(u),a.state.allowType=!1,a.type=va(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||n(u),a.indexed=!0,a.name=""),If(a.type,a.name)&&(a.name=""),a.type=va(a.type);let d=a;a=a.parent,a||n(u),delete d.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||n(u),a.indexed=!0,a.name=""),If(a.type,a.name)&&(a.name=""),a.type=va(a.type);let p=i(a.parent);a.parent.components.push(p),delete a.parent,a=p;break;case" ":a.state.allowType&&a.type!==""&&(a.type=va(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||n(u),a.indexed&&n(u),a.indexed=!0,a.name=""):If(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(u),a.type+=l,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(u),a.type+=l,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=l,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=l,delete a.state.allowArray):a.state.readArray?a.type+=l:n(u)}}return a.parent&&tu.throwArgumentError("unexpected eof","param",r),delete s.state,a.name==="indexed"?(e||n(t.length-7),a.indexed&&n(t.length-7),a.indexed=!0,a.name=""):If(a.type,a.name)&&(a.name=""),s.type=va(s.type),s}function w0(r,e){for(let t in e)So(r,t,e[t])}const yo=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),JH=new RegExp(/^(.*)\[([0-9]*)\]$/);class sn{constructor(e,t){e!==Zb&&tu.throwError("use fromString",ft.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),w0(this,t);let n=this.type.match(JH);n?w0(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:sn.fromObject({type:n[1],components:this.components}),baseType:"array"}):w0(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=yo.sighash),yo[e]||tu.throwArgumentError("invalid format type","format",e),e===yo.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==yo.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===yo.full?", ":",")+")"):t+=this.type,e!==yo.sighash&&(this.indexed===!0&&(t+=" indexed"),e===yo.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?sn.fromString(e,t):sn.fromObject(e)}static fromObject(e){return sn.isParamType(e)?e:new sn(Zb,{name:e.name||null,type:va(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(sn.fromObject):null})}static fromString(e,t){function n(i){return sn.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(QH(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function va(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const em=new ft(lh);class fs{constructor(e,t,n,i){this.name=e,this.type=t,this.localName=n,this.dynamic=i}_throwError(e,t){em.throwArgumentError(e,this.localName,t)}}class mp{constructor(e){So(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return GH(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(y0(e._data))}writeBytes(e){let t=yi(e);const n=t.length%this.wordSize;return n&&(t=y0([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=yi(Or.from(e));return t.length>this.wordSize&&em.throwError("value out-of-bounds",ft.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=y0([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class vl{constructor(e,t,n,i){So(this,"_data",yi(e)),So(this,"wordSize",t||32),So(this,"_coerceFunc",n),So(this,"allowLoose",i),this._offset=0}get data(){return Ja(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):vl.coerce(e,t)}_peekBytes(e,t,n){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?i=t:em.throwError("data out-of-bounds",ft.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new vl(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return Or.from(this.readBytes(this.wordSize))}}var uA={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",a=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?i=mr:s&&(i=self);var u=!i.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),p=[31,7936,2031616,520093696],v=[4,1024,262144,67108864],x=[1,256,65536,16777216],S=[6,1536,393216,100663296],C=[0,8,16,24],B=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],$=[224,256,384,512],Y=[128,256],F=["hex","buffer","arrayBuffer","array","digest"],z={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(E){return Object.prototype.toString.call(E)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(E){return typeof E=="object"&&E.buffer&&E.buffer.constructor===ArrayBuffer});for(var L=function(E,X,G){return function(V){return new m(E,X,E).update(V)[G]()}},k=function(E,X,G){return function(V,W){return new m(E,X,W).update(V)[G]()}},D=function(E,X,G){return function(V,W,b,q){return f["cshake"+E].update(V,W,b,q)[G]()}},y=function(E,X,G){return function(V,W,b,q){return f["kmac"+E].update(V,W,b,q)[G]()}},A=function(E,X,G,V){for(var W=0;W<F.length;++W){var b=F[W];E[b]=X(G,V,b)}return E},ne=function(E,X){var G=L(E,X,"hex");return G.create=function(){return new m(E,X,E)},G.update=function(V){return G.create().update(V)},A(G,L,E,X)},U=function(E,X){var G=k(E,X,"hex");return G.create=function(V){return new m(E,X,V)},G.update=function(V,W){return G.create(W).update(V)},A(G,k,E,X)},Q=function(E,X){var G=z[E],V=D(E,X,"hex");return V.create=function(W,b,q){return!b&&!q?f["shake"+E].create(W):new m(E,X,W).bytepad([b,q],G)},V.update=function(W,b,q,oe){return V.create(b,q,oe).update(W)},A(V,D,E,X)},Z=function(E,X){var G=z[E],V=y(E,X,"hex");return V.create=function(W,b,q){return new I(E,X,b).bytepad(["KMAC",q],G).bytepad([W],G)},V.update=function(W,b,q,oe){return V.create(W,q,oe).update(b)},A(V,y,E,X)},N=[{name:"keccak",padding:x,bits:$,createMethod:ne},{name:"sha3",padding:S,bits:$,createMethod:ne},{name:"shake",padding:p,bits:Y,createMethod:U},{name:"cshake",padding:v,bits:Y,createMethod:Q},{name:"kmac",padding:v,bits:Y,createMethod:Z}],f={},g=[],w=0;w<N.length;++w)for(var T=N[w],O=T.bits,R=0;R<O.length;++R){var H=T.name+"_"+O[R];if(g.push(H),f[H]=T.createMethod(O[R],T.padding),T.name!=="sha3"){var P=T.name+O[R];g.push(P),f[P]=f[H]}}function m(E,X,G){this.blocks=[],this.s=[],this.padding=X,this.outputBits=G,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(E<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=G>>5,this.extraBytes=(G&31)>>3;for(var V=0;V<50;++V)this.s[V]=0}m.prototype.update=function(E){if(this.finalized)throw new Error(t);var X,G=typeof E;if(G!=="string"){if(G==="object"){if(E===null)throw new Error(e);if(l&&E.constructor===ArrayBuffer)E=new Uint8Array(E);else if(!Array.isArray(E)&&(!l||!ArrayBuffer.isView(E)))throw new Error(e)}else throw new Error(e);X=!0}for(var V=this.blocks,W=this.byteCount,b=E.length,q=this.blockCount,oe=0,pe=this.s,fe,we;oe<b;){if(this.reset)for(this.reset=!1,V[0]=this.block,fe=1;fe<q+1;++fe)V[fe]=0;if(X)for(fe=this.start;oe<b&&fe<W;++oe)V[fe>>2]|=E[oe]<<C[fe++&3];else for(fe=this.start;oe<b&&fe<W;++oe)we=E.charCodeAt(oe),we<128?V[fe>>2]|=we<<C[fe++&3]:we<2048?(V[fe>>2]|=(192|we>>6)<<C[fe++&3],V[fe>>2]|=(128|we&63)<<C[fe++&3]):we<55296||we>=57344?(V[fe>>2]|=(224|we>>12)<<C[fe++&3],V[fe>>2]|=(128|we>>6&63)<<C[fe++&3],V[fe>>2]|=(128|we&63)<<C[fe++&3]):(we=65536+((we&1023)<<10|E.charCodeAt(++oe)&1023),V[fe>>2]|=(240|we>>18)<<C[fe++&3],V[fe>>2]|=(128|we>>12&63)<<C[fe++&3],V[fe>>2]|=(128|we>>6&63)<<C[fe++&3],V[fe>>2]|=(128|we&63)<<C[fe++&3]);if(this.lastByteIndex=fe,fe>=W){for(this.start=fe-W,this.block=V[q],fe=0;fe<q;++fe)pe[fe]^=V[fe];te(pe),this.reset=!0}else this.start=fe}return this},m.prototype.encode=function(E,X){var G=E&255,V=1,W=[G];for(E=E>>8,G=E&255;G>0;)W.unshift(G),E=E>>8,G=E&255,++V;return X?W.push(V):W.unshift(V),this.update(W),W.length},m.prototype.encodeString=function(E){var X,G=typeof E;if(G!=="string"){if(G==="object"){if(E===null)throw new Error(e);if(l&&E.constructor===ArrayBuffer)E=new Uint8Array(E);else if(!Array.isArray(E)&&(!l||!ArrayBuffer.isView(E)))throw new Error(e)}else throw new Error(e);X=!0}var V=0,W=E.length;if(X)V=W;else for(var b=0;b<E.length;++b){var q=E.charCodeAt(b);q<128?V+=1:q<2048?V+=2:q<55296||q>=57344?V+=3:(q=65536+((q&1023)<<10|E.charCodeAt(++b)&1023),V+=4)}return V+=this.encode(V*8),this.update(E),V},m.prototype.bytepad=function(E,X){for(var G=this.encode(X),V=0;V<E.length;++V)G+=this.encodeString(E[V]);var W=X-G%X,b=[];return b.length=W,this.update(b),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var E=this.blocks,X=this.lastByteIndex,G=this.blockCount,V=this.s;if(E[X>>2]|=this.padding[X&3],this.lastByteIndex===this.byteCount)for(E[0]=E[G],X=1;X<G+1;++X)E[X]=0;for(E[G-1]|=2147483648,X=0;X<G;++X)V[X]^=E[X];te(V)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var E=this.blockCount,X=this.s,G=this.outputBlocks,V=this.extraBytes,W=0,b=0,q="",oe;b<G;){for(W=0;W<E&&b<G;++W,++b)oe=X[W],q+=d[oe>>4&15]+d[oe&15]+d[oe>>12&15]+d[oe>>8&15]+d[oe>>20&15]+d[oe>>16&15]+d[oe>>28&15]+d[oe>>24&15];b%E===0&&(te(X),W=0)}return V&&(oe=X[W],q+=d[oe>>4&15]+d[oe&15],V>1&&(q+=d[oe>>12&15]+d[oe>>8&15]),V>2&&(q+=d[oe>>20&15]+d[oe>>16&15])),q},m.prototype.arrayBuffer=function(){this.finalize();var E=this.blockCount,X=this.s,G=this.outputBlocks,V=this.extraBytes,W=0,b=0,q=this.outputBits>>3,oe;V?oe=new ArrayBuffer(G+1<<2):oe=new ArrayBuffer(q);for(var pe=new Uint32Array(oe);b<G;){for(W=0;W<E&&b<G;++W,++b)pe[b]=X[W];b%E===0&&te(X)}return V&&(pe[W]=X[W],oe=oe.slice(0,q)),oe},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var E=this.blockCount,X=this.s,G=this.outputBlocks,V=this.extraBytes,W=0,b=0,q=[],oe,pe;b<G;){for(W=0;W<E&&b<G;++W,++b)oe=b<<2,pe=X[W],q[oe]=pe&255,q[oe+1]=pe>>8&255,q[oe+2]=pe>>16&255,q[oe+3]=pe>>24&255;b%E===0&&te(X)}return V&&(oe=b<<2,pe=X[W],q[oe]=pe&255,V>1&&(q[oe+1]=pe>>8&255),V>2&&(q[oe+2]=pe>>16&255)),q};function I(E,X,G){m.call(this,E,X,G)}I.prototype=new m,I.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var te=function(E){var X,G,V,W,b,q,oe,pe,fe,we,He,Ee,$e,ue,be,ve,Pe,Te,Me,Ge,Oe,Ae,ze,Ne,Ce,ot,Be,Fe,ht,ke,pt,yr,It,gt,$r,Nt,kt,jt,We,Ze,Ht,Xe,Qe,Jt,it,et,Yt,tt,nt,$t,Ve,st,Xt,zt,Vt,ni,Et,Kt,Nn,Bn,kn,Ln,Nr;for(V=0;V<48;V+=2)W=E[0]^E[10]^E[20]^E[30]^E[40],b=E[1]^E[11]^E[21]^E[31]^E[41],q=E[2]^E[12]^E[22]^E[32]^E[42],oe=E[3]^E[13]^E[23]^E[33]^E[43],pe=E[4]^E[14]^E[24]^E[34]^E[44],fe=E[5]^E[15]^E[25]^E[35]^E[45],we=E[6]^E[16]^E[26]^E[36]^E[46],He=E[7]^E[17]^E[27]^E[37]^E[47],Ee=E[8]^E[18]^E[28]^E[38]^E[48],$e=E[9]^E[19]^E[29]^E[39]^E[49],X=Ee^(q<<1|oe>>>31),G=$e^(oe<<1|q>>>31),E[0]^=X,E[1]^=G,E[10]^=X,E[11]^=G,E[20]^=X,E[21]^=G,E[30]^=X,E[31]^=G,E[40]^=X,E[41]^=G,X=W^(pe<<1|fe>>>31),G=b^(fe<<1|pe>>>31),E[2]^=X,E[3]^=G,E[12]^=X,E[13]^=G,E[22]^=X,E[23]^=G,E[32]^=X,E[33]^=G,E[42]^=X,E[43]^=G,X=q^(we<<1|He>>>31),G=oe^(He<<1|we>>>31),E[4]^=X,E[5]^=G,E[14]^=X,E[15]^=G,E[24]^=X,E[25]^=G,E[34]^=X,E[35]^=G,E[44]^=X,E[45]^=G,X=pe^(Ee<<1|$e>>>31),G=fe^($e<<1|Ee>>>31),E[6]^=X,E[7]^=G,E[16]^=X,E[17]^=G,E[26]^=X,E[27]^=G,E[36]^=X,E[37]^=G,E[46]^=X,E[47]^=G,X=we^(W<<1|b>>>31),G=He^(b<<1|W>>>31),E[8]^=X,E[9]^=G,E[18]^=X,E[19]^=G,E[28]^=X,E[29]^=G,E[38]^=X,E[39]^=G,E[48]^=X,E[49]^=G,ue=E[0],be=E[1],et=E[11]<<4|E[10]>>>28,Yt=E[10]<<4|E[11]>>>28,Fe=E[20]<<3|E[21]>>>29,ht=E[21]<<3|E[20]>>>29,Bn=E[31]<<9|E[30]>>>23,kn=E[30]<<9|E[31]>>>23,Xe=E[40]<<18|E[41]>>>14,Qe=E[41]<<18|E[40]>>>14,gt=E[2]<<1|E[3]>>>31,$r=E[3]<<1|E[2]>>>31,ve=E[13]<<12|E[12]>>>20,Pe=E[12]<<12|E[13]>>>20,tt=E[22]<<10|E[23]>>>22,nt=E[23]<<10|E[22]>>>22,ke=E[33]<<13|E[32]>>>19,pt=E[32]<<13|E[33]>>>19,Ln=E[42]<<2|E[43]>>>30,Nr=E[43]<<2|E[42]>>>30,zt=E[5]<<30|E[4]>>>2,Vt=E[4]<<30|E[5]>>>2,Nt=E[14]<<6|E[15]>>>26,kt=E[15]<<6|E[14]>>>26,Te=E[25]<<11|E[24]>>>21,Me=E[24]<<11|E[25]>>>21,$t=E[34]<<15|E[35]>>>17,Ve=E[35]<<15|E[34]>>>17,yr=E[45]<<29|E[44]>>>3,It=E[44]<<29|E[45]>>>3,Ne=E[6]<<28|E[7]>>>4,Ce=E[7]<<28|E[6]>>>4,ni=E[17]<<23|E[16]>>>9,Et=E[16]<<23|E[17]>>>9,jt=E[26]<<25|E[27]>>>7,We=E[27]<<25|E[26]>>>7,Ge=E[36]<<21|E[37]>>>11,Oe=E[37]<<21|E[36]>>>11,st=E[47]<<24|E[46]>>>8,Xt=E[46]<<24|E[47]>>>8,Jt=E[8]<<27|E[9]>>>5,it=E[9]<<27|E[8]>>>5,ot=E[18]<<20|E[19]>>>12,Be=E[19]<<20|E[18]>>>12,Kt=E[29]<<7|E[28]>>>25,Nn=E[28]<<7|E[29]>>>25,Ze=E[38]<<8|E[39]>>>24,Ht=E[39]<<8|E[38]>>>24,Ae=E[48]<<14|E[49]>>>18,ze=E[49]<<14|E[48]>>>18,E[0]=ue^~ve&Te,E[1]=be^~Pe&Me,E[10]=Ne^~ot&Fe,E[11]=Ce^~Be&ht,E[20]=gt^~Nt&jt,E[21]=$r^~kt&We,E[30]=Jt^~et&tt,E[31]=it^~Yt&nt,E[40]=zt^~ni&Kt,E[41]=Vt^~Et&Nn,E[2]=ve^~Te&Ge,E[3]=Pe^~Me&Oe,E[12]=ot^~Fe&ke,E[13]=Be^~ht&pt,E[22]=Nt^~jt&Ze,E[23]=kt^~We&Ht,E[32]=et^~tt&$t,E[33]=Yt^~nt&Ve,E[42]=ni^~Kt&Bn,E[43]=Et^~Nn&kn,E[4]=Te^~Ge&Ae,E[5]=Me^~Oe&ze,E[14]=Fe^~ke&yr,E[15]=ht^~pt&It,E[24]=jt^~Ze&Xe,E[25]=We^~Ht&Qe,E[34]=tt^~$t&st,E[35]=nt^~Ve&Xt,E[44]=Kt^~Bn&Ln,E[45]=Nn^~kn&Nr,E[6]=Ge^~Ae&ue,E[7]=Oe^~ze&be,E[16]=ke^~yr&Ne,E[17]=pt^~It&Ce,E[26]=Ze^~Xe&gt,E[27]=Ht^~Qe&$r,E[36]=$t^~st&Jt,E[37]=Ve^~Xt&it,E[46]=Bn^~Ln&zt,E[47]=kn^~Nr&Vt,E[8]=Ae^~ue&ve,E[9]=ze^~be&Pe,E[18]=yr^~Ne&ot,E[19]=It^~Ce&Be,E[28]=Xe^~gt&Nt,E[29]=Qe^~$r&kt,E[38]=st^~Jt&et,E[39]=Xt^~it&Yt,E[48]=Ln^~zt&ni,E[49]=Nr^~Vt&Et,E[0]^=B[V],E[1]^=B[V+1]};if(u)r.exports=f;else for(w=0;w<g.length;++w)i[g[w]]=f[g[w]]})()})(uA);var YH=uA.exports;const XH=ko(YH);function ZH(r){return"0x"+XH.keccak_256(yi(r))}const e$="address/5.7.0",kc=new ft(e$);function tw(r){ja(r,20)||kc.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=yi(ZH(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const t$=9007199254740991;function r$(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const tm={};for(let r=0;r<10;r++)tm[String(r)]=String(r);for(let r=0;r<26;r++)tm[String.fromCharCode(65+r)]=String(10+r);const rw=Math.floor(r$(t$));function n$(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>tm[n]).join("");for(;e.length>=rw;){let n=e.substring(0,rw);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function nw(r){let e=null;if(typeof r!="string"&&kc.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=tw(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&kc.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==n$(r)&&kc.throwArgumentError("bad icap checksum","address",r),e=KH(r.substring(4));e.length<40;)e="0"+e;e=tw("0x"+e)}else kc.throwArgumentError("invalid address","address",r);return e}class i$ extends fs{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=nw(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return nw(zH(e.readValue().toHexString(),20))}}class s$ extends fs{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Ea=new ft(lh);function fA(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let l={};n=e.map(d=>{const p=d.localName;return p||Ea.throwError("cannot encode object for signature with missing names",ft.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:t}),l[p]&&Ea.throwError("cannot encode object for signature with duplicate names",ft.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:t}),l[p]=!0,t[p]})}else Ea.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&Ea.throwArgumentError("types/value length mismatch","tuple",t);let i=new mp(r.wordSize),s=new mp(r.wordSize),a=[];e.forEach((l,d)=>{let p=n[d];if(l.dynamic){let v=s.length;l.encode(s,p);let x=i.writeUpdatableValue();a.push(S=>{x(S+v)})}else l.encode(i,p)}),a.forEach(l=>{l(i.length)});let u=r.appendWriter(i);return u+=r.appendWriter(s),u}function lA(r,e){let t=[],n=r.subReader(0);e.forEach(s=>{let a=null;if(s.dynamic){let u=r.readValue(),l=n.subReader(u.toNumber());try{a=s.decode(l)}catch(d){if(d.code===ft.errors.BUFFER_OVERRUN)throw d;a=d,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(r)}catch(u){if(u.code===ft.errors.BUFFER_OVERRUN)throw u;a=u,a.baseType=s.name,a.name=s.localName,a.type=s.type}a!=null&&t.push(a)});const i=e.reduce((s,a)=>{const u=a.localName;return u&&(s[u]||(s[u]=0),s[u]++),s},{});e.forEach((s,a)=>{let u=s.localName;if(!u||i[u]!==1||(u==="length"&&(u="_length"),t[u]!=null))return;const l=t[a];l instanceof Error?Object.defineProperty(t,u,{enumerable:!0,get:()=>{throw l}}):t[u]=l});for(let s=0;s<t.length;s++){const a=t[s];a instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(t)}class o$ extends fs{constructor(e,t,n){const i=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),Ea.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<t.length;s++)i.push(this.coder);return fA(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&Ea.throwError("insufficient data length",ft.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let i=0;i<t;i++)n.push(new s$(this.coder));return e.coerce(this.name,lA(e,n))}}class a$ extends fs{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class hA extends fs{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=yi(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class c$ extends hA{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Ja(super.decode(e)))}}class u$ extends fs{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=yi(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,Ja(e.readBytes(this.size)))}}class f$ extends fs{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const l$=Or.from(-1),h$=Or.from(0),d$=Or.from(1),p$=Or.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class g$ extends fs{constructor(e,t,n){const i=(t?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=Or.from(t),i=p$.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(d$).mul(l$)))&&this._throwError("value out-of-bounds",t)}else(n.lt(h$)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const m$="strings/5.7.0",dA=new ft(m$);var bl;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(bl||(bl={}));var In;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(In||(In={}));function y$(r,e,t,n,i){return dA.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function pA(r,e,t,n,i){if(r===In.BAD_PREFIX||r===In.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)s++;return s}return r===In.OVERRUN?t.length-e-1:0}function v$(r,e,t,n,i){return r===In.OVERLONG?(n.push(i),0):(n.push(65533),pA(r,e,t))}const b$=Object.freeze({error:y$,ignore:pA,replace:v$});function w$(r,e){e==null&&(e=b$.error),r=yi(r);const t=[];let n=0;for(;n<r.length;){const i=r[n++];if(!(i>>7)){t.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?n+=e(In.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(In.BAD_PREFIX,n-1,r,t);continue}if(n-1+s>=r.length){n+=e(In.OVERRUN,n-1,r,t);continue}let u=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let d=r[n];if((d&192)!=128){n+=e(In.MISSING_CONTINUE,n,r,t),u=null;break}u=u<<6|d&63,n++}if(u!==null){if(u>1114111){n+=e(In.OUT_OF_RANGE,n-1-s,r,t,u);continue}if(u>=55296&&u<=57343){n+=e(In.UTF16_SURROGATE,n-1-s,r,t,u);continue}if(u<=a){n+=e(In.OVERLONG,n-1-s,r,t,u);continue}t.push(u)}}return t}function _$(r,e=bl.current){e!=bl.current&&(dA.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);if(n>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((i&1023)<<10)+(s&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return yi(t)}function E$(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function A$(r,e){return E$(w$(r,e))}class x$ extends hA{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,_$(t))}decode(e){return A$(super.decode(e))}}class Tf extends fs{constructor(e,t){let n=!1;const i=[];e.forEach(a=>{a.dynamic&&(n=!0),i.push(a.type)});const s="tuple("+i.join(",")+")";super("tuple",s,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,t){return fA(e,this.coders,t)}decode(e){return e.coerce(this.name,lA(e,this.coders))}}const Cf=new ft(lh),S$=new RegExp(/^bytes([0-9]*)$/),I$=new RegExp(/^(u?int)([0-9]*)$/);class gA{constructor(e){So(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new i$(e.name);case"bool":return new a$(e.name);case"string":return new x$(e.name);case"bytes":return new c$(e.name);case"array":return new o$(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Tf((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new f$(e.name)}let t=e.type.match(I$);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&Cf.throwArgumentError("invalid "+t[1]+" bit length","param",e),new g$(n/8,t[1]==="int",e.name)}if(t=e.type.match(S$),t){let n=parseInt(t[1]);return(n===0||n>32)&&Cf.throwArgumentError("invalid bytes length","param",e),new u$(n,e.name)}return Cf.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new vl(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new mp(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(sn.from(i)));return new Tf(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Cf.throwError("types/values length mismatch",ft.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(a=>this._getCoder(sn.from(a))),i=new Tf(n,"_"),s=this._getWriter();return i.encode(s,t),s.data}decode(e,t,n){const i=e.map(a=>this._getCoder(sn.from(a)));return new Tf(i,"_").decode(this._getReader(yi(t),n))}}new gA;const wl=new gA((r,e)=>e!=null&&e._isBigNumber?e.toBigInt():e),T$=r=>!bt(r)&&typeof r=="object"&&!bt(r.type)&&["function","event","constructor","error"].includes(r.type),hh=r=>!bt(r)&&typeof r=="object"&&!bt(r.type)&&r.type==="error",rm=r=>!bt(r)&&typeof r=="object"&&!bt(r.type)&&r.type==="event",dh=r=>!bt(r)&&typeof r=="object"&&!bt(r.type)&&r.type==="function",C$=r=>!bt(r)&&typeof r=="object"&&!bt(r.type)&&r.type==="constructor",P$=r=>typeof r=="object"&&typeof r.components>"u"&&typeof r.name>"u",mA=r=>r.includes("[]")?{type:"tuple[]",name:r.slice(0,-2)}:{type:"tuple",name:r},yA=r=>{const e=[];for(const t of Object.keys(r)){const n=r[t];typeof n=="object"?e.push(Object.assign(Object.assign({},mA(t)),{components:yA(n)})):e.push({name:t,type:r[t]})}return e},vA=r=>{const e=[];for(const t of r){let n=t;if(typeof t=="object"&&(n=Object.assign({},t)),typeof t=="object"&&t.type==="function"&&(n=Object.assign(Object.assign({},t),{type:"bytes24"})),P$(n)){const i=Object.keys(n)[0];e.push(Object.assign(Object.assign({},mA(i)),{components:yA(n[i])}))}else e.push(n)}return e},O$=r=>typeof r=="string"&&/^(-)?0x[0-9a-f]*$/i.test(r)&&r.length%2===1,iw=r=>O$(r)?`0x0${r.substring(2)}`:r,nm=(r,e)=>{var t;const n=typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):e,i=/^bytes([0-9]*)$/,s=/^bytes([0-9]*)\[\]$/,a=/^(u?int)([0-9]*)$/,u=/^(u?int)([0-9]*)\[\]$/;if(n instanceof BigInt)return n.toString(10);if(s.exec(r)||u.exec(r))return[...n].map(p=>nm(r.replace("[]",""),p));let l=a.exec(r);if(l){const d=parseInt((t=l[2])!==null&&t!==void 0?t:"256",10);if(d/8<n.length)return Na(n,d)}if(l=i.exec(r),l){const d=n instanceof Uint8Array?as(n):n,p=parseInt(l[1],10);if(p){let v=p*2;n.startsWith("0x")&&(v+=2);const x=d.length<v?_g(n,p*2):d;return iw(x)}return iw(d)}return n},yp=(r,e)=>r.name==="array"?e.map(t=>yp(wl._getCoder(sn.from(r.type.replace("[]",""))),[t])):(r.coders.forEach((t,n)=>{t.name==="tuple"?yp(t,[e[n]]):e[n]=nm(t.name,e[n])}),[]),vp=(r,e)=>{const t=[];return e.forEach(n=>{if(typeof n.components=="object"){if(!n.type.startsWith("tuple"))throw new Fs(`Invalid value given "${n.type}". Error: components found but type is not tuple.`);const i=n.type.indexOf("["),s=i>=0?n.type.substring(i):"",a=vp(r,n.components);Array.isArray(a)&&r?t.push(`tuple(${a.join(",")})${s}`):r?t.push(`(${a.join()})`):t.push(`(${a.join(",")})${s}`)}else t.push(n.type)}),t},Bo=r=>{var e,t,n,i;return hh(r)||rm(r)||dh(r)?!((e=r.name)===null||e===void 0)&&e.includes("(")?r.name:`${(t=r.name)!==null&&t!==void 0?t:""}(${vp(!1,(n=r.inputs)!==null&&n!==void 0?n:[]).join(",")})`:`(${vp(!1,(i=r.inputs)!==null&&i!==void 0?i:[]).join(",")})`},D$=r=>{if(typeof r!="string"&&!hh(r))throw new Fs("Invalid parameter value in encodeErrorSignature");let e;return r&&(typeof r=="function"||typeof r=="object")?e=Bo(r):e=r,Dn(e)},im=r=>{if(typeof r!="string"&&!rm(r))throw new Fs("Invalid parameter value in encodeEventSignature");let e;return r&&(typeof r=="function"||typeof r=="object")?e=Bo(r):e=r,Dn(e)},ph=(r,e)=>{try{const t=vA(Array.isArray(r)?r:[r]),n=[];for(const[i,s]of e.entries()){const a=t[i];let u;T$(a)&&a.type?u=a.type:u=a;const l=nm(u,s);if(typeof u=="string"&&u.includes("tuple")){const d=wl._getCoder(sn.from(u));yp(d,[l])}n.push(l)}return wl.encode(t.map(i=>sn.from(i)),n)}catch(t){throw new Fs("Parameter encoding error",t)}},bp=(r,e)=>ph([r],[e]),R$=r=>Array.isArray(r)&&Object.keys(r).filter(e=>Number.isInteger(+e)).length!==Object.keys(r).length,bA=r=>{const e={__length__:0};for(const t of Object.keys(r))e[t]=Array.isArray(r[t])&&R$(r[t])?bA(r[t]):r[t],e.__length__+=Number.isInteger(+t)?1:0;return e},wA=(r,e,t)=>{try{if(r.length>0&&(!e||e==="0x"||e==="0X"))throw new Fs("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");const n=wl.decode(vA(r).map(i=>sn.from(i)),`0x${e.replace(/0x/i,"")}`,t);return bA(n)}catch(n){throw new Fs(`Parameter decoding error: ${n.message}`)}},gh=(r,e)=>wA(r,e,!1),_A=(r,e)=>gh([r],e)[0],mh=r=>{if(typeof r!="string"&&!dh(r))throw new Fs("Invalid parameter value in encodeFunctionSignature");let e;return r&&(typeof r=="function"||typeof r=="object")?e=Bo(r):e=r,Dn(e).slice(0,10)},M$=(r,e)=>{var t;if(!dh(r))throw new Fs("Invalid parameter value in encodeFunctionCall");return`${mh(r)}${ph((t=r.inputs)!==null&&t!==void 0?t:[],e??[]).replace("0x","")}`},N$=["bool","string","int","uint","address","fixed","ufixed"],B$=(r,e)=>r==="string"?e:_A(r,e),EA=(r,e,t)=>{const n=Array.isArray(t)?t:[t],i={},s={};for(const[x,S]of r.entries())S.indexed?i[x]=S:s[x]=S;const a=e?wA(Object.values(s),e,!0):{__length__:0},u=n.length-Object.keys(i).length,l=Object.values(i).map((x,S)=>N$.some(C=>x.type.startsWith(C))?B$(x.type,n[S+u]):n[S+u]),d={__length__:0};let p=0,v=0;for(const[x,S]of r.entries())d[x]=S.type==="string"?"":void 0,i[x]&&(d[x]=l[p],p+=1),s[x]&&(d[x]=a[String(v)],v+=1),S.name&&(d[S.name]=d[x]),d.__length__+=1;return d},Gf=(r,e)=>{if(e!=null&&e.data){let t,n,i;try{const s=e.data.slice(0,10),a=r.find(u=>D$(u).startsWith(s));a!=null&&a.inputs&&(t=a.name,n=Bo(a),i=gh([...a.inputs],e.data.substring(10)))}catch(s){console.error(s)}t&&e.setDecodedProperties(t,n,i)}};var k$=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const AA=(r,e)=>{var t,n,i,s;if(r instanceof is&&r.innerError instanceof $l){if(e!==void 0){const a=e.filter(u=>hh(u));return Gf(a,r.innerError),{reason:r.innerError.message,signature:(t=r.innerError.data)===null||t===void 0?void 0:t.slice(0,10),data:(n=r.innerError.data)===null||n===void 0?void 0:n.substring(10),customErrorName:r.innerError.errorName,customErrorDecodedSignature:r.innerError.errorSignature,customErrorArguments:r.innerError.errorArgs}}return{reason:r.innerError.message,signature:(i=r.innerError.data)===null||i===void 0?void 0:i.slice(0,10),data:(s=r.innerError.data)===null||s===void 0?void 0:s.substring(10)}}if(r instanceof Da&&!Array.isArray(r.innerError)&&r.innerError!==void 0)return r.innerError.message;throw r};function sm(r,e,t,n=qe){return k$(this,void 0,void 0,function*(){try{yield am(r,e,r.defaultBlock,n);return}catch(i){return AA(i,t)}})}var L$=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};function Oa(r,e,t,n,i,s){return L$(this,void 0,void 0,function*(){let a=s;a===void 0&&(n!==void 0?a=AA(n):r.handleRevert&&e!==void 0&&(a=yield sm(r,e,i)));let u;if(a===void 0)u=new Zp(t);else if(typeof a=="string")u=new Vc(a,void 0,t);else if(a.customErrorName!==void 0&&a.customErrorDecodedSignature!==void 0&&a.customErrorArguments!==void 0){const l=a;u=new Xp(l.reason,l.customErrorName,l.customErrorDecodedSignature,l.customErrorArguments,l.signature,t,l.data)}else u=new Vc(a.reason,a.signature,t,a.data);return u})}var Gt=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const F$=r=>Gt(void 0,void 0,void 0,function*(){return E2(r.requestManager)});function U$(r,e){return Gt(this,void 0,void 0,function*(){const t=yield d7(r.requestManager);return _e({format:"uint"},t,e)})}function xA(r,e){return Gt(this,void 0,void 0,function*(){const t=yield p7(r.requestManager);return _e({format:"uint"},t,e)})}function om(r,e){return Gt(this,void 0,void 0,function*(){const t=yield m7(r.requestManager);return _e({format:"uint"},t,e)})}function j$(r,e,t=r.defaultBlock,n){return Gt(this,void 0,void 0,function*(){const i=Hr(t)?t:_e({format:"uint"},t,lt),s=yield y7(r.requestManager,e,i);return _e({format:"uint"},s,n)})}function H$(r,e,t,n=r.defaultBlock,i){return Gt(this,void 0,void 0,function*(){const s=_e({format:"uint"},t,lt),a=Hr(n)?n:_e({format:"uint"},n,lt),u=yield v7(r.requestManager,e,s,a);return _e({format:"bytes"},u,i)})}function $$(r,e,t=r.defaultBlock,n){return Gt(this,void 0,void 0,function*(){const i=Hr(t)?t:_e({format:"uint"},t,lt),s=yield x7(r.requestManager,e,i);return _e({format:"bytes"},s,n)})}function SA(r,e=r.defaultBlock,t=!1,n){return Gt(this,void 0,void 0,function*(){let i;if(qo(e)){const s=_e({format:"bytes32"},e,lt);i=yield O7(r.requestManager,s,t)}else{const s=Hr(e)?e:_e({format:"uint"},e,lt);i=yield x2(r.requestManager,s,t)}return _e(ml,i,n)})}function q$(r,e=r.defaultBlock,t){return Gt(this,void 0,void 0,function*(){let n;if(qo(e)){const i=_e({format:"bytes32"},e,lt);n=yield w7(r.requestManager,i)}else{const i=Hr(e)?e:_e({format:"uint"},e,lt);n=yield _7(r.requestManager,i)}return _e({format:"uint"},n,t)})}function G$(r,e=r.defaultBlock,t){return Gt(this,void 0,void 0,function*(){let n;if(qo(e)){const i=_e({format:"bytes32"},e,lt);n=yield E7(r.requestManager,i)}else{const i=Hr(e)?e:_e({format:"uint"},e,lt);n=yield A7(r.requestManager,i)}return _e({format:"uint"},n,t)})}function z$(r,e=r.defaultBlock,t,n){return Gt(this,void 0,void 0,function*(){const i=_e({format:"uint"},t,lt);let s;if(qo(e)){const a=_e({format:"bytes32"},e,lt);s=yield B7(r.requestManager,a,i)}else{const a=Hr(e)?e:_e({format:"uint"},e,lt);s=yield k7(r.requestManager,a,i)}return _e(ml,s,n)})}function V$(r,e,t){return Gt(this,void 0,void 0,function*(){const n=_e({format:"bytes32"},e,qe),i=yield D7(r.requestManager,n);return le(i)?i:bn(i,t,{transactionSchema:Kg})})}function K$(r,e){return Gt(this,void 0,void 0,function*(){return(yield H7(r.requestManager)).map(n=>bn(n,e))})}function W$(r,e=r.defaultBlock,t,n){return Gt(this,void 0,void 0,function*(){const i=_e({format:"uint"},t,lt);let s;if(qo(e)){const a=_e({format:"bytes32"},e,lt);s=yield R7(r.requestManager,a,i)}else{const a=Hr(e)?e:_e({format:"uint"},e,lt);s=yield M7(r.requestManager,a,i)}return le(s)?s:bn(s,n,{transactionSchema:Kg})})}function IA(r,e,t){return Gt(this,void 0,void 0,function*(){const n=_e({format:"bytes32"},e,qe),i=yield N7(r.requestManager,n);return le(i)?i:_e(Qa,i,t)})}function TA(r,e,t=r.defaultBlock,n){return Gt(this,void 0,void 0,function*(){const i=Hr(t)?t:_e({format:"uint"},t,lt),s=yield b7(r.requestManager,e,i);return _e({format:"uint"},s,n)})}function wp(r,e,t,n={checkRevertBeforeSending:!0}){const i=new _2((s,a)=>{setImmediate(()=>{Gt(this,void 0,void 0,function*(){let u=bn(Object.assign(Object.assign({},e),{from:hp("from",r,e),to:hp("to",r,e)}),lt);!(n!=null&&n.ignoreGasPricing)&&le(u.gasPrice)&&(le(e.maxPriorityFeePerGas)||le(e.maxFeePerGas))&&(u=Object.assign(Object.assign({},u),yield nA(u,r,lt)));try{if(n.checkRevertBeforeSending!==!1){const S=yield sm(r,u,n.contractAbi);if(S!==void 0){const C=yield Oa(r,u,void 0,void 0,n.contractAbi,S);i.listenerCount("error")>0&&i.emit("error",C),a(C);return}}i.listenerCount("sending")>0&&i.emit("sending",u);let l,d;if(r.wallet&&!le(u.from)&&(d=r.wallet.get(u.from)),d){const S=yield d.signTransaction(u);l=yield pp(r,()=>Gt(this,void 0,void 0,function*(){return A2(r.requestManager,S.rawTransaction)}),S.transactionHash)}else l=yield pp(r,()=>Gt(this,void 0,void 0,function*(){return T7(r.requestManager,u)}));const p=_e({format:"bytes32"},l,t);i.listenerCount("sent")>0&&i.emit("sent",u),i.listenerCount("transactionHash")>0&&i.emit("transactionHash",p);const v=yield oA(r,l,t),x=_e(Qa,v,t);if(i.listenerCount("receipt")>0&&i.emit("receipt",x),n!=null&&n.transactionResolver)s(n==null?void 0:n.transactionResolver(x));else if(v.status===BigInt(0)){const S=yield Oa(r,u,x,void 0,n==null?void 0:n.contractAbi);i.listenerCount("error")>0&&i.emit("error",S),a(S)}else s(x);i.listenerCount("confirmation")>0&&aA(r,i,x,l,t)}catch(l){let d=l;d instanceof is&&r.handleRevert&&(d=yield Oa(r,u,void 0,void 0,n==null?void 0:n.contractAbi)),(d instanceof Da||d instanceof is||d instanceof Xp||d instanceof Zp||d instanceof Vc)&&i.listenerCount("error")>0&&i.emit("error",d),a(d)}})})});return i}function Q$(r,e,t,n={checkRevertBeforeSending:!0}){const i=new _2((s,a)=>{setImmediate(()=>{Gt(this,void 0,void 0,function*(){const u=_e({format:"bytes"},e,lt),l=oh.fromSerializedData(os(cr(u))),d=Object.assign(Object.assign({},l.toJSON()),{from:l.getSenderAddress().toString()});try{if(n.checkRevertBeforeSending!==!1){const C=yield sm(r,d,n.contractAbi);if(C!==void 0){const B=yield Oa(r,d,void 0,void 0,n.contractAbi,C);i.listenerCount("error")>0&&i.emit("error",B),a(B);return}}i.listenerCount("sending")>0&&i.emit("sending",u);const p=yield pp(r,()=>Gt(this,void 0,void 0,function*(){return A2(r.requestManager,u)}));i.listenerCount("sent")>0&&i.emit("sent",u);const v=_e({format:"bytes32"},p,t);i.listenerCount("transactionHash")>0&&i.emit("transactionHash",v);const x=yield oA(r,p,t),S=_e(Qa,x,t);if(i.listenerCount("receipt")>0&&i.emit("receipt",S),n!=null&&n.transactionResolver)s(n==null?void 0:n.transactionResolver(S));else if(x.status===BigInt(0)){const C=yield Oa(r,d,S,void 0,n==null?void 0:n.contractAbi);i.listenerCount("error")>0&&i.emit("error",C),a(C)}else s(S);i.listenerCount("confirmation")>0&&aA(r,i,S,p,t)}catch(p){let v=p;v instanceof is&&r.handleRevert&&(v=yield Oa(r,d,void 0,void 0,n==null?void 0:n.contractAbi)),(v instanceof Da||v instanceof is||v instanceof Xp||v instanceof Zp||v instanceof Vc)&&i.listenerCount("error")>0&&i.emit("error",v),a(v)}})})});return i}function J$(r,e,t,n){var i;return Gt(this,void 0,void 0,function*(){const s=_e({format:"bytes"},e,qe);if(!((i=r.wallet)===null||i===void 0)&&i.get(t)){const l=r.wallet.get(t).sign(s);return _e(xH,l,n)}if(typeof t=="number")throw new rk(e,'RPC method "eth_sign" does not support index signatures');const a=yield S7(r.requestManager,t,s);return _e({format:"bytes"},a,n)})}function Y$(r,e,t){return Gt(this,void 0,void 0,function*(){const n=yield I7(r.requestManager,bn(e,lt));return hg(n)?CH(n,t):{raw:_e({format:"bytes"},n.raw,t),tx:bn(n.tx,t)}})}function am(r,e,t=r.defaultBlock,n){return Gt(this,void 0,void 0,function*(){const i=Hr(t)?t:_e({format:"uint"},t,lt),s=yield C7(r.requestManager,bn(e,lt),i);return _e({format:"bytes"},s,n)})}function CA(r,e,t=r.defaultBlock,n){return Gt(this,void 0,void 0,function*(){const i=bn(e,lt),s=Hr(t)?t:_e({format:"uint"},t,lt),a=yield P7(r.requestManager,i,s);return _e({format:"uint"},a,n)})}function PA(r,e,t){return Gt(this,void 0,void 0,function*(){let{toBlock:n,fromBlock:i}=e;le(n)||(typeof n=="number"||typeof n=="bigint")&&(n=On(n)),le(i)||(typeof i=="number"||typeof i=="bigint")&&(i=On(i));const s=Object.assign(Object.assign({},e),{fromBlock:i,toBlock:n});return(yield L7(r.requestManager,s)).map(l=>typeof l=="string"?l:_e(uh,l,t))})}function OA(r,e){return Gt(this,void 0,void 0,function*(){const t=yield q7(r.requestManager);return _e({format:"uint"},t,e)})}function X$(r,e,t,n=r.defaultBlock,i){return Gt(this,void 0,void 0,function*(){const s=t.map(l=>_e({format:"bytes"},l,lt)),a=Hr(n)?n:_e({format:"uint"},n,lt),u=yield G7(r.requestManager,e,s,a);return _e(TH,u,i)})}function Z$(r,e,t=r.defaultBlock,n,i){return Gt(this,void 0,void 0,function*(){const s=_e({format:"uint"},e,lt),a=Hr(t)?t:_e({format:"uint"},t,lt),u=_e({type:"array",items:{format:"uint"}},n,fh),l=yield j7(r.requestManager,s,a,u);return _e(SH,l,i)})}function DA(r,e,t=r.defaultBlock,n){return Gt(this,void 0,void 0,function*(){const i=Hr(t)?t:_e({format:"uint"},t,lt),s=yield V7(r.requestManager,bn(e,lt),i);return _e(wH,s,n)})}let RA=class extends yu{_buildSubscriptionParams(){return["logs",this.args]}_processSubscriptionResult(e){this.emit("data",_e(uh,e,super.returnFormat))}_processSubscriptionError(e){this.emit("error",e)}};class sw extends yu{_buildSubscriptionParams(){return["newPendingTransactions"]}_processSubscriptionResult(e){this.emit("data",_e({format:"string"},e,super.returnFormat))}_processSubscriptionError(e){this.emit("error",e)}}class _l extends yu{_buildSubscriptionParams(){return["newHeads"]}_processSubscriptionResult(e){this.emit("data",_e(EH,e,super.returnFormat))}_processSubscriptionError(e){this.emit("error",e)}}class MA extends yu{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if(typeof e=="boolean")this.emit("changed",e);else{const t=Object.fromEntries(Object.entries(e.status).map(([n,i])=>[n.charAt(0).toLowerCase()+n.substring(1),i]));this.emit("changed",e.syncing),this.emit("data",_e(AH,t,super.returnFormat))}}_processSubscriptionError(e){this.emit("error",e)}}var Rt=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const _p={logs:RA,newPendingTransactions:sw,newHeads:_l,syncing:MA,pendingTransactions:sw,newBlockHeaders:_l};class yh extends Ni{constructor(e){if(typeof e=="string"||b2(e)){super({provider:e,registeredSubscriptions:_p});return}if(e.registeredSubscriptions){super(e);return}super(Object.assign(Object.assign({},e),{registeredSubscriptions:_p}))}getProtocolVersion(){return Rt(this,void 0,void 0,function*(){return f7(this.requestManager)})}isSyncing(){return Rt(this,void 0,void 0,function*(){return E2(this.requestManager)})}getCoinbase(){return Rt(this,void 0,void 0,function*(){return l7(this.requestManager)})}isMining(){return Rt(this,void 0,void 0,function*(){return h7(this.requestManager)})}getHashrate(e=qe){return Rt(this,void 0,void 0,function*(){return this.getHashRate(e)})}getHashRate(e=qe){return Rt(this,void 0,void 0,function*(){return U$(this,e)})}getGasPrice(e=qe){return Rt(this,void 0,void 0,function*(){return xA(this,e)})}getAccounts(){var e;return Rt(this,void 0,void 0,function*(){return((e=yield g7(this.requestManager))!==null&&e!==void 0?e:[]).map(n=>cs(n))})}getBlockNumber(e=qe){return Rt(this,void 0,void 0,function*(){return om(this,e)})}getBalance(e,t=this.defaultBlock,n=qe){return Rt(this,void 0,void 0,function*(){return j$(this,e,t,n)})}getStorageAt(e,t,n=this.defaultBlock,i=qe){return Rt(this,void 0,void 0,function*(){return H$(this,e,t,n,i)})}getCode(e,t=this.defaultBlock,n=qe){return Rt(this,void 0,void 0,function*(){return $$(this,e,t,n)})}getBlock(e=this.defaultBlock,t=!1,n=qe){return Rt(this,void 0,void 0,function*(){return SA(this,e,t,n)})}getBlockTransactionCount(e=this.defaultBlock,t=qe){return Rt(this,void 0,void 0,function*(){return q$(this,e,t)})}getBlockUncleCount(e=this.defaultBlock,t=qe){return Rt(this,void 0,void 0,function*(){return G$(this,e,t)})}getUncle(e=this.defaultBlock,t,n=qe){return Rt(this,void 0,void 0,function*(){return z$(this,e,t,n)})}getTransaction(e,t=qe){return Rt(this,void 0,void 0,function*(){const n=yield V$(this,e,t);if(!n)throw new J1;return n})}getPendingTransactions(e=qe){return Rt(this,void 0,void 0,function*(){return K$(this,e)})}getTransactionFromBlock(e=this.defaultBlock,t,n=qe){return Rt(this,void 0,void 0,function*(){return W$(this,e,t,n)})}getTransactionReceipt(e,t=qe){return Rt(this,void 0,void 0,function*(){const n=yield IA(this,e,t);if(!n)throw new J1;return n})}getTransactionCount(e,t=this.defaultBlock,n=qe){return Rt(this,void 0,void 0,function*(){return TA(this,e,t,n)})}sendTransaction(e,t=qe,n){return wp(this,e,t,n)}sendSignedTransaction(e,t=qe,n){return Q$(this,e,t,n)}sign(e,t,n=qe){return Rt(this,void 0,void 0,function*(){return J$(this,e,t,n)})}signTransaction(e,t=qe){return Rt(this,void 0,void 0,function*(){return Y$(this,e,t)})}call(e,t=this.defaultBlock,n=qe){return Rt(this,void 0,void 0,function*(){return am(this,e,t,n)})}estimateGas(e,t=this.defaultBlock,n=qe){return Rt(this,void 0,void 0,function*(){return CA(this,e,t,n)})}getPastLogs(e,t=qe){return Rt(this,void 0,void 0,function*(){return PA(this,e,t)})}getWork(){return Rt(this,void 0,void 0,function*(){return F7(this.requestManager)})}submitWork(e,t,n){return Rt(this,void 0,void 0,function*(){return U7(this.requestManager,e,t,n)})}requestAccounts(){return Rt(this,void 0,void 0,function*(){return $7(this.requestManager)})}getChainId(e=qe){return Rt(this,void 0,void 0,function*(){return OA(this,e)})}getNodeInfo(){return Rt(this,void 0,void 0,function*(){return z7(this.requestManager)})}getProof(e,t,n=this.defaultBlock,i=qe){return Rt(this,void 0,void 0,function*(){return X$(this,e,t,n,i)})}getFeeHistory(e,t=this.defaultBlock,n,i=qe){return Rt(this,void 0,void 0,function*(){return Z$(this,e,t,n,i)})}createAccessList(e,t=this.defaultBlock,n=qe){return Rt(this,void 0,void 0,function*(){return DA(this,e,t,n)})}subscribe(e,t,n=qe){var i;return Rt(this,void 0,void 0,function*(){const s=yield(i=this.subscriptionManager)===null||i===void 0?void 0:i.subscribe(e,t,n);return s instanceof RA&&e==="logs"&&typeof t=="object"&&!bt(t.fromBlock)&&Number.isFinite(Number(t.fromBlock))&&setImmediate(()=>{this.getPastLogs(t).then(a=>{for(const u of a)s._processSubscriptionResult(u)}).catch(a=>{s._processSubscriptionError(a)})}),s})}static shouldClearSubscription({sub:e}){return!(e instanceof MA)}clearSubscriptions(e=!1){var t;return(t=this.subscriptionManager)===null||t===void 0?void 0:t.unsubscribe(e?yh.shouldClearSubscription:void 0)}}const eq=r=>{if(!le(r.common)){if(le(r.common.customChain))throw new ok;if(le(r.common.customChain.chainId))throw new ak;if(!le(r.chainId)&&r.chainId!==r.common.customChain.chainId)throw new ck({txChainId:r.chainId,customChainId:r.common.customChain.chainId})}},tq=r=>{if(!le(r.common)&&!le(r.chain)&&!le(r.hardfork))throw new lk;if(!le(r.chain)&&le(r.hardfork)||!le(r.hardfork)&&le(r.chain))throw new hk({chain:r.chain,hardfork:r.hardfork})},rq=r=>{if(!le(r.common)&&!le(r.common.baseChain)&&!le(r.chain)&&r.chain!==r.common.baseChain)throw new uk({txChain:r.chain,baseChain:r.common.baseChain})},nq=r=>{if(!le(r.common)&&!le(r.common.hardfork)&&!le(r.hardfork)&&r.hardfork!==r.common.hardfork)throw new fk({txHardfork:r.hardfork,commonHardfork:r.common.hardfork})},ow=r=>{if(le(r.gas)||!Mo(r.gas)||le(r.gasPrice)||!Mo(r.gasPrice))throw new gk({gas:r.gas,gasPrice:r.gasPrice});if(!le(r.maxFeePerGas)||!le(r.maxPriorityFeePerGas))throw new sE({maxFeePerGas:r.maxFeePerGas,maxPriorityFeePerGas:r.maxPriorityFeePerGas})},aw=r=>{if(!le(r.gasPrice)&&r.type==="0x2")throw new yk(r.gasPrice);if(r.type==="0x0"||r.type==="0x1")throw new sE({maxFeePerGas:r.maxFeePerGas,maxPriorityFeePerGas:r.maxPriorityFeePerGas});if(le(r.maxFeePerGas)||!Mo(r.maxFeePerGas)||le(r.maxPriorityFeePerGas)||!Mo(r.maxPriorityFeePerGas))throw new mk({maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas})},iq=r=>{const e=!le(r.gas)||!le(r.gasLimit),t=e&&!le(r.gasPrice),n=e&&!le(r.maxPriorityFeePerGas)&&!le(r.maxFeePerGas);if(!t&&!n)throw new dk({gas:r.gas,gasPrice:r.gasPrice,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas});if(t&&n)throw new pk({gas:r.gas,gasPrice:r.gasPrice,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas});(t?ow:aw)(r),(!le(r.type)&&r.type>"0x1"?aw:ow)(r)},sq=(r,e)=>{if(!le(e)){e(r);return}if(typeof r!="object"||le(r))throw new vk(r);eq(r),tq(r),rq(r),nq(r);const t=bn(r,lt);if(iq(t),le(t.nonce)||le(t.chainId)||t.nonce.startsWith("-")||t.chainId.startsWith("-"))throw new bk({nonce:r.nonce,chainId:r.chainId})};var oq=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const aq=r=>{var e;return{nonce:r.nonce,gasPrice:r.gasPrice,gasLimit:(e=r.gasLimit)!==null&&e!==void 0?e:r.gas,to:r.to,value:r.value,data:r.input,type:r.type,chainId:r.chainId,accessList:r.accessList,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas}},cq=(r,e)=>{var t,n,i,s,a,u,l,d,p,v,x,S,C,B,$,Y,F,z;const L=!le(r.chain)&&!le(r.hardfork)||!le(r.common);let k;if(!L)e.defaultCommon?(k=e.defaultCommon,le(k.hardfork)&&(k.hardfork=(t=r.hardfork)!==null&&t!==void 0?t:e.defaultHardfork),le(k.baseChain)&&(k.baseChain=e.defaultChain)):k=Fr.custom({name:"custom-network",chainId:Pn(r.chainId),networkId:le(r.networkId)?void 0:Pn(r.networkId),defaultHardfork:(n=r.hardfork)!==null&&n!==void 0?n:e.defaultHardfork},{baseChain:e.defaultChain});else{const D=(u=(a=(s=(i=r==null?void 0:r.common)===null||i===void 0?void 0:i.customChain)===null||s===void 0?void 0:s.name)!==null&&a!==void 0?a:r.chain)!==null&&u!==void 0?u:"custom-network",y=Pn((p=(d=(l=r==null?void 0:r.common)===null||l===void 0?void 0:l.customChain)===null||d===void 0?void 0:d.chainId)!==null&&p!==void 0?p:r==null?void 0:r.chainId),A=Pn((S=(x=(v=r==null?void 0:r.common)===null||v===void 0?void 0:v.customChain)===null||x===void 0?void 0:x.networkId)!==null&&S!==void 0?S:r==null?void 0:r.networkId),ne=($=(B=(C=r==null?void 0:r.common)===null||C===void 0?void 0:C.hardfork)!==null&&B!==void 0?B:r==null?void 0:r.hardfork)!==null&&$!==void 0?$:e.defaultHardfork,U=(z=(F=(Y=r.common)===null||Y===void 0?void 0:Y.baseChain)!==null&&F!==void 0?F:r.chain)!==null&&z!==void 0?z:e.defaultChain;y&&A&&D&&(k=Fr.custom({name:D,chainId:y,networkId:A,defaultHardfork:ne},{baseChain:U}))}return{common:k}},uq=(r,e,t,n=!1)=>oq(void 0,void 0,void 0,function*(){const i=yield NH({transaction:r,web3Context:e,privateKey:t,fillGasPrice:n}),s=bn(i,lt);return sq(s),oh.fromTxData(aq(s),cq(s,e))}),fq="ALLEVENTS",cw={name:fq,signature:"",type:"event",inputs:[]},uw=({address:r},e,t)=>{var n,i;const s=t==null?void 0:t.topics,a=(n=t==null?void 0:t.filter)!==null&&n!==void 0?n:{},u={};if(bt(t==null?void 0:t.fromBlock)||(u.fromBlock=_e(ml.properties.number,t==null?void 0:t.fromBlock,{number:Zn.HEX,bytes:ss.HEX})),bt(t==null?void 0:t.toBlock)||(u.toBlock=_e(ml.properties.number,t==null?void 0:t.toBlock,{number:Zn.HEX,bytes:ss.HEX})),s&&Array.isArray(s))u.topics=[...s];else if(u.topics=[],e&&!e.anonymous&&e.name!=="ALLEVENTS"&&u.topics.push((i=e.signature)!==null&&i!==void 0?i:im(Bo(e))),e.name!=="ALLEVENTS"&&e.inputs)for(const l of e.inputs){if(!l.indexed)continue;const d=a[l.name];if(!d){u.topics.push(null);continue}Array.isArray(d)?u.topics.push(d.map(p=>bp(l.type,p))):l.type==="string"?u.topics.push(Qc(d)):u.topics.push(bp(l.type,d))}return u.topics.length||delete u.topics,r&&(u.address=r.toLowerCase()),u},NA=(r,e,t,n=qe)=>{var i,s,a,u,l;let d=Object.assign({},r);const p=_e(uh,e,n);if(d.name==="ALLEVENTS"){const x=t.find(S=>S.signature===e.topics[0]);x?d=x:d={anonymous:!0}}if(d.inputs=(s=(i=d.inputs)!==null&&i!==void 0?i:r.inputs)!==null&&s!==void 0?s:[],!d.anonymous){let x=0;((a=d.inputs)!==null&&a!==void 0?a:[]).forEach(S=>{S.indexed&&(x+=1)}),x>0&&(e!=null&&e.topics)&&(e==null?void 0:e.topics.length)!==x+1&&(d=Object.assign(Object.assign({},d),{anonymous:!0,inputs:[]}))}const v=d.anonymous?e.topics:((u=e.topics)!==null&&u!==void 0?u:[]).slice(1);return Object.assign(Object.assign({},p),{returnValues:EA([...(l=d.inputs)!==null&&l!==void 0?l:[]],e.data,v),event:d.name,signature:d.anonymous||!e.topics||e.topics.length===0||!e.topics[0]?void 0:e.topics[0],raw:{data:e.data,topics:e.topics}})},Ha=(r,e,t)=>{const n=Array.isArray(r.inputs)?r.inputs.length:0;if(n!==e.length)throw new Cn(`The number of arguments is not matching the methods required number. You need to pass ${n} arguments.`);const i=ph(Array.isArray(r.inputs)?r.inputs:[],e).replace("0x","");if(C$(r)){if(!t)throw new Cn("The contract has no contract data option set. This is necessary to append the constructor parameters.");return t.startsWith("0x")?`${t}${i}`:`0x${t}${i}`}return`${mh(r)}${i}`},lq=(r,e)=>{if(r.type==="constructor")return e;if(!e)return null;const t=e.length>=2?e.slice(2):e;if(!r.outputs)return null;const n=gh([...r.outputs],t);return n.__length__===1?n[0]:n};class BA extends yu{constructor(e,t){super(e,t),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}_processSubscriptionResult(e){const t=NA(this.abi,e,this.jsonInterface,super.returnFormat);this.emit("data",t)}}const fw=({abi:r,params:e,options:t,contractOptions:n})=>{var i,s;if(!((s=(i=t==null?void 0:t.input)!==null&&i!==void 0?i:t==null?void 0:t.data)!==null&&s!==void 0?s:n.input)&&!(t!=null&&t.to)&&!n.address)throw new Cn("Contract address not specified");if(!(t!=null&&t.from)&&!n.from)throw new Cn('Contract "from" address not specified');let u=Gs({to:n.address,gas:n.gas,gasPrice:n.gasPrice,from:n.from,input:n.input,maxPriorityFeePerGas:n.maxPriorityFeePerGas,maxFeePerGas:n.maxFeePerGas},t);return(!u.input||r.type==="constructor")&&(u=Object.assign(Object.assign({},u),{input:Ha(r,e,u.input)})),u},hq=({abi:r,params:e,options:t,contractOptions:n})=>{if(!(t!=null&&t.to)&&!n.address)throw new Cn("Contract address not specified");let i=Gs({to:n.address,gas:n.gas,gasPrice:n.gasPrice,from:n.from,input:n.input,maxPriorityFeePerGas:n.maxPriorityFeePerGas,maxFeePerGas:n.maxFeePerGas},t);return i=Object.assign(Object.assign({},i),{input:Ha(r,e,i.input?as(i.input):void 0)}),i},dq=({abi:r,params:e,options:t,contractOptions:n})=>{let i=Gs({to:n.address,gas:n.gas,gasPrice:n.gasPrice,from:n.from,input:n.input},t);return i=Object.assign(Object.assign({},i),{input:Ha(r,e,i.input?as(i.input):void 0)}),i},Ep=r=>typeof r=="object"&&!bt(r)&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext"].some(e=>e in r),lw=r=>typeof r=="object"&&!bt(r)&&!Ep(r),pq=({abi:r,params:e,options:t,contractOptions:n})=>{if(!(t!=null&&t.to)&&!n.address)throw new Cn("Contract address not specified");if(!(t!=null&&t.from)&&!n.from)throw new Cn('Contract "from" address not specified');let i=Gs({to:n.address,gas:n.gas,gasPrice:n.gasPrice,from:n.from,input:n.input,maxPriorityFeePerGas:n.maxPriorityFeePerGas,maxFeePerGas:n.maxFeePerGas},t);return(!i.input||r.type==="constructor")&&(i=Object.assign(Object.assign({},i),{input:Ha(r,e,i.input)})),i};var Ds=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const gq={logs:BA,newHeads:_l,newBlockHeaders:_l};class Do extends Ni{constructor(e,t,n,i,s){var a,u,l;const d=Ep(t)?t:Ep(n)?n:void 0;if(!le(d)&&!le(d.data)&&!le(d.input))throw new JB({data:d.data,input:d.input});let p;lw(t)?p=t:lw(n)?p=n:p=i;let v;typeof t=="object"&&"provider"in t?v=t.provider:typeof n=="object"&&"provider"in n?v=n.provider:typeof i=="object"&&"provider"in i?v=i.provider:v=Do.givenProvider,super(Object.assign(Object.assign({},p),{provider:v,registeredSubscriptions:gq})),this.syncWithContext=!1,this._functions={},this._overloadedMethodAbis=new Map;const x=vo(i)?i:vo(n)?n:s??qe,S=typeof t=="string"?t:void 0;this._parseAndSetJsonInterface(e,x),le(S)||this._parseAndSetAddress(S,x),this.options={address:S,jsonInterface:this._jsonInterface,gas:(a=d==null?void 0:d.gas)!==null&&a!==void 0?a:d==null?void 0:d.gasLimit,gasPrice:d==null?void 0:d.gasPrice,from:d==null?void 0:d.from,input:(u=d==null?void 0:d.input)!==null&&u!==void 0?u:d==null?void 0:d.data},this.syncWithContext=(l=d==null?void 0:d.syncWithContext)!==null&&l!==void 0?l:!1,p instanceof Ni&&this.subscribeToContextEvents(p),Object.defineProperty(this.options,"address",{set:C=>this._parseAndSetAddress(C,x),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:C=>this._parseAndSetJsonInterface(C,x),get:()=>this._jsonInterface})}get events(){return this._events}get methods(){return this._methods}clone(){let e;return this.options.address?e=new Do([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,provider:this.currentProvider,syncWithContext:this.syncWithContext},this.getContextObject()):e=new Do([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,provider:this.currentProvider,syncWithContext:this.syncWithContext},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){var t,n,i;let s=this._jsonInterface.find(d=>d.type==="constructor");s||(s={type:"constructor",inputs:[],stateMutability:""});const a=_e({format:"bytes"},(n=(t=e==null?void 0:e.input)!==null&&t!==void 0?t:e==null?void 0:e.data)!==null&&n!==void 0?n:this.options.input,qe);if(!a||a.trim()==="0x")throw new Cn("contract creation without any data provided.");const u=(i=e==null?void 0:e.arguments)!==null&&i!==void 0?i:[],l=Object.assign(Object.assign({},this.options),{input:a});return{arguments:u,send:d=>{const p=Object.assign({},d);return this._contractMethodDeploySend(s,u,p,l)},estimateGas:(d,p=qe)=>Ds(this,void 0,void 0,function*(){const v=Object.assign({},d);return this._contractMethodEstimateGas({abi:s,params:u,returnFormat:p,options:v,contractOptions:l})}),encodeABI:()=>Ha(s,u,_e({format:"bytes"},a,qe))}}getPastEvents(e,t,n){var i;return Ds(this,void 0,void 0,function*(){const s=typeof e=="string"?e:"allEvents",a=typeof e!="string"&&!vo(e)?e:vo(t)?{}:t,u=vo(e)?e:vo(t)?t:n??qe,l=s==="allEvents"?cw:this._jsonInterface.find(Y=>"name"in Y&&Y.name===s);if(!l)throw new Cn(`Event ${s} not found.`);const{fromBlock:d,toBlock:p,topics:v,address:x}=uw(this.options,l,a??{}),C=(yield PA(this,{fromBlock:d,toBlock:p,topics:v,address:x},u)).map(Y=>typeof Y=="string"?Y:NA(l,Y,this._jsonInterface,u)),B=(i=a==null?void 0:a.filter)!==null&&i!==void 0?i:{},$=Object.keys(B);return $.length>0?C.filter(Y=>typeof Y=="string"?!0:$.every(F=>{var z;if(Array.isArray(B[F]))return B[F].some(k=>String(Y.returnValues[F]).toUpperCase()===String(k).toUpperCase());const L=(z=l.inputs)===null||z===void 0?void 0:z.filter(k=>k.name===F)[0];return L!=null&&L.indexed&&L.type==="string"&&Qc(B[F])===String(Y.returnValues[F])?!0:String(Y.returnValues[F]).toUpperCase()===String(B[F]).toUpperCase()})):C})}_parseAndSetAddress(e,t=qe){this._address=e&&cs(_e({format:"address"},e,t))}_parseAndSetJsonInterface(e,t=qe){var n,i,s,a,u;this._functions={},this._methods={},this._events={};let l=[];const d=e.filter(v=>v.type!=="error"),p=e.filter(v=>hh(v));for(const v of d){const x=Object.assign(Object.assign({},v),{signature:""});if(dh(x)){const S=Bo(x),C=mh(S);x.signature=C,x.constant=(i=(n=x.stateMutability==="view")!==null&&n!==void 0?n:x.stateMutability==="pure")!==null&&i!==void 0?i:x.constant,x.payable=(s=x.stateMutability==="payable")!==null&&s!==void 0?s:x.payable,this._overloadedMethodAbis.set(x.name,[...(a=this._overloadedMethodAbis.get(x.name))!==null&&a!==void 0?a:[],x]);const B=(u=this._overloadedMethodAbis.get(x.name))!==null&&u!==void 0?u:[],$=this._createContractMethod(B,p);this._functions[S]={signature:C,method:$},this._methods[x.name]=this._functions[S].method,this._methods[S]=this._functions[S].method,this._methods[C]=this._functions[S].method}else if(rm(x)){const S=Bo(x),C=im(S),B=this._createContractEvent(x,t);x.signature=C,(!(S in this._events)||x.name==="bound")&&(this._events[S]=B),this._events[x.name]=B,this._events[C]=B}this._events.allEvents=this._createContractEvent(cw,t),l=[...l,x]}this._jsonInterface=[...l],this._errorsInterface=p}_getAbiParams(e,t){var n;try{return Hc((n=e.inputs)!==null&&n!==void 0?n:[],t)}catch(i){throw new Cn(`Invalid parameters for method ${e.name}: ${i.message}`)}}_createContractMethod(e,t){const n=e[e.length-1];return(...i)=>{var s,a;let u;const l=(s=this._overloadedMethodAbis.get(n.name))!==null&&s!==void 0?s:[];let d=l[0];const p=t,v=l.filter(S=>{var C;return((C=S.inputs)!==null&&C!==void 0?C:[]).length===i.length});if(l.length===1||v.length===0)u=this._getAbiParams(d,i),rt.validate((a=n.inputs)!==null&&a!==void 0?a:[],u);else{const S=[];for(const C of v)try{u=this._getAbiParams(C,i),rt.validate(C.inputs,u),d=C;break}catch(B){S.push(B)}if(S.length===v.length)throw new Ma(S)}const x={arguments:u,call:(S,C)=>Ds(this,void 0,void 0,function*(){return this._contractMethodCall(d,u,p,S,C)}),send:S=>this._contractMethodSend(d,u,p,S),estimateGas:(S,C=qe)=>Ds(this,void 0,void 0,function*(){return this._contractMethodEstimateGas({abi:d,params:u,returnFormat:C,options:S})}),encodeABI:()=>Ha(d,u),createAccessList:(S,C)=>Ds(this,void 0,void 0,function*(){return this._contractMethodCreateAccessList(d,u,p,S,C)})};return d.stateMutability==="payable",x}}_contractMethodCall(e,t,n,i,s){var a;return Ds(this,void 0,void 0,function*(){const u=hq({abi:e,params:t,options:i,contractOptions:Object.assign(Object.assign({},this.options),{from:(a=this.options.from)!==null&&a!==void 0?a:this.config.defaultAccount})});try{const l=yield am(this,u,s,qe);return lq(e,l)}catch(l){throw l instanceof is&&Gf(n,l.innerError),l}})}_contractMethodCreateAccessList(e,t,n,i,s){var a;return Ds(this,void 0,void 0,function*(){const u=pq({abi:e,params:t,options:i,contractOptions:Object.assign(Object.assign({},this.options),{from:(a=this.options.from)!==null&&a!==void 0?a:this.config.defaultAccount})});try{return DA(this,u,s,qe)}catch(l){throw l instanceof is&&Gf(n,l.innerError),l}})}_contractMethodSend(e,t,n,i,s){var a,u;let l=s??this.options;l=Object.assign(Object.assign({},l),{input:void 0,from:(u=(a=l.from)!==null&&a!==void 0?a:this.defaultAccount)!==null&&u!==void 0?u:void 0});const d=fw({abi:e,params:t,options:i,contractOptions:l}),p=wp(this,d,qe,{checkRevertBeforeSending:!1});return p.on("error",v=>{v instanceof is&&Gf(n,v.innerError)}),p}_contractMethodDeploySend(e,t,n,i){var s,a;let u=i??this.options;u=Object.assign(Object.assign({},u),{from:(a=(s=u.from)!==null&&s!==void 0?s:this.defaultAccount)!==null&&a!==void 0?a:void 0});const l=fw({abi:e,params:t,options:n,contractOptions:u});return wp(this,l,qe,{transactionResolver:d=>{if(d.status===BigInt(0))throw new Cn("code couldn't be stored",d);const p=this.clone();return p.options.address=d.contractAddress,p},checkRevertBeforeSending:!1})}_contractMethodEstimateGas({abi:e,params:t,returnFormat:n,options:i,contractOptions:s}){return Ds(this,void 0,void 0,function*(){const a=dq({abi:e,params:t,options:i,contractOptions:s??this.options});return CA(this,a,Zi.LATEST,n)})}_createContractEvent(e,t=qe){return(...n)=>{var i;const{topics:s,fromBlock:a}=uw(this.options,e,n[0]),u=new BA({address:this.options.address,topics:s,abi:e,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:t});return le(a)||this.getPastEvents(e.name,{fromBlock:a,topics:s},t).then(l=>{l.forEach(d=>u.emit("data",d))}).catch(()=>{u.emit("error",new di("Failed to get past events."))}),(i=this.subscriptionManager)===null||i===void 0||i.addSubscription(u).catch(()=>{u.emit("error",new di("Failed to subscribe."))}),u}}subscribeToContextEvents(e){const t=this;this.context=e,t.syncWithContext&&e.on(Ba.CONFIG_CHANGE,n=>{t.setConfig({[n.name]:n.newValue})})}}const hw={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},_0={setAddr:"addr",addr:"addr",setPubkey:"pubkey",pubkey:"pubkey",setContenthash:"contenthash",contenthash:"contenthash"},El={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},mq={"0x1":"main","0x5":"goerli"},yq=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],vq=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"}];function bq(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),i=1,s=[0,1];for(let k=1;k<n;k++)s.push(i+=t());let a=t(),u=e;e+=a;let l=0,d=0;function p(){return l==0&&(d=d<<8|r[e++],l=8),d>>--l&1}const v=31,x=2**v,S=x>>>1,C=S>>1,B=x-1;let $=0;for(let k=0;k<v;k++)$=$<<1|p();let Y=[],F=0,z=x;for(;;){let k=Math.floor((($-F+1)*i-1)/z),D=0,y=n;for(;y-D>1;){let U=D+y>>>1;k<s[U]?y=U:D=U}if(D==0)break;Y.push(D);let A=F+Math.floor(z*s[D]/i),ne=F+Math.floor(z*s[D+1]/i)-1;for(;!((A^ne)&S);)$=$<<1&B|p(),A=A<<1&B,ne=ne<<1&B|1;for(;A&~ne&C;)$=$&S|$<<1&B>>>1|p(),A=A<<1^S,ne=(ne^S)<<1|S|1;F=A,z=1+ne-A}let L=n-4;return Y.map(k=>{switch(k-L){case 3:return L+65792+(r[u++]<<16|r[u++]<<8|r[u++]);case 2:return L+256+(r[u++]<<8|r[u++]);case 1:return L+r[u++];default:return k-1}})}function wq(r){let e=0;return()=>r[e++]}function kA(r){return wq(bq(_q(r)))}function _q(r){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let t=r.length,n=new Uint8Array(6*t>>3);for(let i=0,s=0,a=0,u=0;i<t;i++)u=u<<6|e[r.charCodeAt(i)],a+=6,a>=8&&(n[s++]=u>>(a-=8));return n}function Eq(r){return r&1?~r>>1:r>>1}function Aq(r,e){let t=Array(r);for(let n=0,i=0;n<r;n++)t[n]=i+=Eq(e());return t}function Us(r,e=0){let t=[];for(;;){let n=r(),i=r();if(!i)break;e+=n;for(let s=0;s<i;s++)t.push(e+s);e+=i+1}return t}function LA(r){return ru(()=>{let e=Us(r);if(e.length)return e})}function FA(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(xq(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(Sq(t,r))}return e.flat()}function ru(r){let e=[];for(;;){let t=r(e.length);if(!t)break;e.push(t)}return e}function UA(r,e,t){let n=Array(r).fill().map(()=>[]);for(let i=0;i<e;i++)Aq(r,t).forEach((s,a)=>n[a].push(s));return n}function xq(r,e){let t=1+e(),n=e(),i=ru(e);return UA(i.length,1+r,e).flatMap((a,u)=>{let[l,...d]=a;return Array(i[u]).fill().map((p,v)=>{let x=v*n;return[l+v*t,d.map(S=>S+x)]})})}function Sq(r,e){let t=1+e();return UA(t,1+r,e).map(i=>[i[0],i.slice(1)])}function Iq(r){let e=[],t=Us(r);return i(n([]),[]),e;function n(s){let a=r(),u=ru(()=>{let l=Us(r).map(d=>t[d]);if(l.length)return n(l)});return{S:a,B:u,Q:s}}function i({S:s,B:a},u,l){if(!(s&4&&l===u[u.length-1])){s&2&&(l=u[u.length-1]),s&1&&e.push(u);for(let d of a)for(let p of d.Q)i(d,[...u,p],l)}}}var vi=kA("AEITLAk1DSsBxwKEAQMBOQDpATAAngDUAHsAoABoAM4AagCNAEQAhABMAHIAOwA9ACsANgAmAGIAHgAvACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGAAeABMAFwAXBOcF2QEXE943ygXaALgArkYBbgCsCAPMAK6GNjY2NgE/rgwQ8gAEB0YG6zgFXgVfAD0yOQf2vRgFDc/IABUDz546AswKNgKOqAKG3z+Vb5ACxdICg/kBJuYQAPK0AUgCNJQKRpYA6gDpChwAHtvAzxMSRKQEIn4BBAJAGMQP8hAGMPAMBIhuDSIHNACyAHCY76ychgBiBpoCKgbwACIAQgyaFwKqAspCINYIwjADuBRCAPc0cqoAqIQfAB4ELALeHQEkAMAZ1AUBECBTPgmeCY8lIlZgTOqDSQAaABMAHAAVclsAKAAVAE71HN89+gI5X8qc5jUKFyRfVAJfPfMAGgATABwAFXIgY0CeAMPyACIAQAzMFsKqAgHavwViBekC0KYCxLcCClMjpGwUehp0TPwAwhRuAugAEjQ0kBfQmAKBggETIgDEFG4C6AASNAFPUCyYTBEDLgIFLxDecB60Ad5KAHgyEn4COBYoAy4uwD5yAEDoAfwsAM4O0rwBImqIALgMAAwCAIraUAUi3HIeAKgu2AGoBgYGBgYrNAOiAG4BCiA+9Dd7BB8eALEBzgIoAgDmMhJ6OvpQtzOoLjVPBQAGAS4FYAVftr8FcDtkQhlBWEiee5pmZqH/EhoDzA4s+H4qBKpSAlpaAnwisi4BlqqsPGIDTB4EimgQANgCBrJGNioCBzACQGQAcgFoJngAiiQgAJwBUL4ALnAeAbbMAz40KEoEWgF2YAZsAmwA+FAeAzAIDABQSACyAABkAHoAMrwGDvr2IJSGBgAQKAAwALoiTgHYAeIOEjiXf4HvABEAGAA7AEQAPzp3gNrHEGYQYwgFTRBMc0EVEgKzD60L7BEcDNgq0tPfADSwB/IDWgfyA1oDWgfyB/IDWgfyA1oDWgNaA1ocEfAh2scQZg9PBHQFlQWSBN0IiiZQEYgHLwjZVBR0JRxOA0wBAyMsSSM7mjMSJUlME00KCAM2SWyufT8DTjGyVPyQqQPSMlY5cwgFHngSpwAxD3ojNbxOhXpOcacKUk+1tYZJaU5uAsU6rz//CigJmm/Cd1UGRBAeJ6gQ+gw2AbgBPg3wS9sE9AY+BMwfgBkcD9CVnwioLeAM8CbmLqSAXSP4KoYF8Ev3POALUFFrD1wLaAnmOmaBUQMkARAijgrgDTwIcBD2CsxuDegRSAc8A9hJnQCoBwQLFB04FbgmE2KvCww5egb+GvkLkiayEyx6/wXWGiQGUAEsGwIA0i7qhbNaNFwfT2IGBgsoI8oUq1AjDShAunhLGh4HGCWsApRDc0qKUTkeliH5PEANaS4WUX8H+DwIGVILhDyhRq5FERHVPpA9SyJMTC8EOIIsMieOCdIPiAy8fHUBXAkkCbQMdBM0ERo3yAg8BxwwlycnGAgkRphgnQT6ogP2E9QDDgVCCUQHFgO4HDATMRUsBRCBJ9oC9jbYLrYCklaDARoFzg8oH+IQU0fjDuwIngJoA4Yl7gAwFSQAGiKeCEZmAGKP21MILs4IympvI3cDahTqZBF2B5QOWgeqHDYVwhzkcMteDoYLKKayCV4BeAmcAWIE5ggMNV6MoyBEZ1aLWxieIGRBQl3/AjQMaBWiRMCHewKOD24SHgE4AXYHPA0EAnoR8BFuEJgI7oYHNbgz+zooBFIhhiAUCioDUmzRCyom/Az7bAGmEmUDDzRAd/FnrmC5JxgABxwyyEFjIfQLlU/QDJ8axBhFVDEZ5wfCA/Ya9iftQVoGAgOmBhY6UDPxBMALbAiOCUIATA6mGgfaGG0KdIzTATSOAbqcA1qUhgJykgY6Bw4Aag6KBXzoACACqgimAAgA0gNaADwCsAegABwAiEQBQAMqMgEk6AKSA5YINM4BmDIB9iwEHsYMGAD6Om5NAsO0AoBtZqUF4FsCkQJMOAFQKAQIUUpUA7J05ADeAE4GFuJKARiuTc4d5kYB4nIuAMoA/gAIOAcIRAHQAfZwALoBYgs0CaW2uAFQ7CwAhgAYbgHaAowA4AA4AIL0AVYAUAVc/AXWAlJMARQ0Gy5aZAG+AyIBNgEQAHwGzpCozAoiBHAH1gIQHhXkAu8xB7gEAyLiE9BCyAK94VgAMhkKOwqqCqlgXmM2CTR1PVMAER+rPso/UQVUO1Y7WztWO1s7VjtbO1Y7WztWO1sDmsLlwuUKb19IYe4MqQ3XRMs6TBPeYFRgNRPLLboUxBXRJVkZQBq/Jwgl51UMDwct1mYzCC80eBe/AEIpa4NEY4keMwpOHOpTlFT7LR4AtEulM7INrxsYREMFSnXwYi0WEQolAmSEAmJFXlCyAF43IwKh+gJomwJmDAKfhzgeDgJmPgJmKQRxBIIDfxYDfpU5CTl6GjmFOiYmAmwgAjI5OA0CbcoCbbHyjQI2akguAWoA4QDkAE0IB5sMkAEBDsUAELgCdzICdqVCAnlORgJ4vSBf3kWxRvYCfEICessCfQwCfPNIA0iAZicALhhJW0peGBpKzwLRBALQz0sqA4hSA4fpRMiRNQLypF0GAwOxS9FMMCgG0k1PTbICi0ICitvEHgogRmoIugKOOgKOX0OahAKO3AKOX3tRt1M4AA1S11SIApP+ApMPAOwAH1UhVbJV0wksHimYiTLkeGlFPjwCl6IC77VYJKsAXCgClpICln+fAKxZr1oMhFAAPgKWuAKWUVxHXNQCmc4CmWdczV0KHAKcnjnFOqACnBkCn54CnruNACASNC0SAp30Ap6VALhAYTdh8gKe1gKgcQGsAp6iIgKeUahjy2QqKC4CJ7ICJoECoP4CoE/aAqYyAqXRAqgCAIACp/Vof2i0AAZMah9q1AKs5gKssQKtagKtBQJXIAJV3wKx5NoDH1FsmgKywBACsusabONtZm1LYgMl0AK2Xz5CbpMDKUgCuGECuUoYArktenA5cOQCvRwDLbUDMhQCvotyBQMzdAK+HXMlc1ICw84CwwdzhXROOEh04wM8qgADPJ0DPcICxX8CxkoCxhOMAshsVALIRwLJUgLJMQJkoALd1Xh8ZHixeShL0wMYpmcFAmH3GfaVJ3sOXpVevhQCz24Cz28yTlbV9haiAMmwAs92ASztA04Vfk4IAtwqAtuNAtJSA1JfA1NiAQQDVY+AjEIDzhnwY0h4AoLRg5AC2soC2eGEE4RMpz8DhqgAMgNkEYZ0XPwAWALfaALeu3Z6AuIy7RcB8zMqAfSeAfLVigLr9gLpc3wCAur8AurnAPxKAbwC7owC65+WrZcGAu5CA4XjmHxw43GkAvMGAGwDjhmZlgL3FgORcQOSigL3mwL53AL4aZofmq6+OpshA52GAv79AR4APJ8fAJ+2AwWQA6ZtA6bcANTIAwZtoYuiCAwDDEwBEgEiB3AGZLxqCAC+BG7CFI4ethAAGng8ACYDNhJQA4yCAWYqJACM8gAkAOamCqKUCLoGIqbIBQCuBRjCBfAkREUEFn8Fbz5FRzJCKEK7X3gYX8MAlswFOQCQUyCbwDstYDkYutYONhjNGJDJ/QVeBV8FXgVfBWoFXwVeBV8FXgVfBV4FXwVeBV9NHAjejG4JCQkKa17wMgTQA7gGNsLCAMIErsIA7kcwFrkFTT5wPndCRkK9X3w+X+8AWBgzsgCNBcxyzAOm7kaBRC0qCzIdLj08fnTfccH4GckscAFy13U3HgVmBXHJyMm/CNZQYgcHBwqDXoSSxQA6P4gAChbYBuy0KgwAjMoSAwgUAOVsJEQrJlFCuELDSD8qXy5gPS4/KgnIRAUKSz9KPn8+iD53PngCkELDUElCX9JVVnFUETNyWzYCcQASdSZf5zpBIgluogppKjJDJC1CskLDMswIzANf0BUmNRAPEAMGAQYpfqTfcUE0UR7JssmzCWzI0tMKZ0FmD+wQqhgAk5QkTEIsG7BtQM4/Cjo/Sj53QkYcDhEkU05zYjM0Wui8GQqE9CQyQkYcZA9REBU6W0pJPgs7SpwzCogiNEJGG/wPWikqHzc4BwyPaPBlCnhk0GASYDQqdQZKYCBACSIlYLoNCXIXbFVgVBgIBQZk7mAcYJxghGC6YFJgmG8WHga8FdxcsLxhC0MdsgHCMtTICSYcByMKJQGAAnMBNjecWYcCAZEKv04hAOsqdJUR0RQErU3xAaICjqNWBUdmAP4ARBEHOx1egRKsEysmwbZOAFYTOwMAHBO+NVsC2RJLbBEiAN9VBnwEESVhADgAvQKhLgsWdrI5P6YgAWIBjQoDA+D0FgaxBlEGwAAky1ywYRC7aBOQCy1GDsIBwgEpCU4DYQUvLy8nJSYoMxktDSgTlABbAnVel1CcCHUmBA94TgHadRbVWCcgsLdN8QcYBVNmAP4ARBEHgQYNK3MRjhKsPzc0zrZdFBIAZsMSAGpKblAoIiLGADgAvQKhLi1CFdUClxiCAVDCWM90eY7epaIO/KAVRBvzEuASDQ8iAwHOCUEQmgwXMhM9EgBCALrVAQkAqwDoAJuRNgAbAGIbzTVzfTEUyAIXCUIrStroIyUSG4QCggTIEbHxcwA+QDQOrT8u1agjB8IQABBBLtUYIAB9suEjD8IhThzUqHclAUQqZiMC8qAPBFPz6x9sDMMNAQhDCkUABccLRAJSDcIIww1DCUMKwy7VqDEOwgyYCCIPkhroBCILwhZCAKcLQhDCCwUYp3vjADtyDEMAAq0JwwUi1/UMBQ110QaCAAfCEmIYEsMBCADxCAAAexViDRbSG/x2F8IYQgAuwgLyqMIAHsICXCcxhgABwgAC6hVDFcIr8qPCz6hCCgKlJ1IAAmIA5+QZwg+lYhW/ywD7GoIIqAUR/3cA38KnwhjiARrCo5J5eQcCqaKKABLCDRsSAAOaAG3CDQALwqdCCBpCAsEIqJzRDwIHx6lCBQDhgi+9bcUDTwAD8gAVwgAHAgAJwgBpkgAawgAOwgkYwo5wFgIAAWIADnIALlIlAAbCABfCCCgADVEAusItAAPCAA6iKvIAsmEAHCIAG8IAAfIKqAAFzQscFeIAB6IAQsIBCQBpwgALggAdwgAIwgmoAAXRAG6mGdwAmAgoAAXRAAFCAAfiAB2iCCgABqEACYIAGzIAbSIA5sKHAAhiAAhCABTCAwBpAgkoAAbRAOOSAAlCC6gOy/tmAAdCAG6jQE8ATgAKwgsAA0IACbQDPgAHIgAZggACEqcCAAoiAApCAAoCp/IGwgAJIgADEgAQQgcAFEIAEXIAD5IADfIADcIAGRINFiIAFUIAbqIWugHCAMEAE0IKAGkyEQDhUgACQgAEWQAXggUiAAbXABjCBCUBgi9ZAEBMALYPBxQMeQAvMXcBqwwIZQJzKhMGBBAOdlJzZjGQJgWHGwVpND0DqAq7BgjfAB0DAgp1AX15TlkbKANWAhxFATMGCnpNxIJZgUcAMAA4CAACAAAAWhHiAIKXMwEyAH3sFBg5TQhRAF4MAAhXAQ6R0wB/QgQnrABhAN0cAJxvPiaSANRyuADW2wEdD8l8eiIfXSQQ2AGPl7IpWlpUTxlDyZAAAACGIz5HMDLnGJ5WAHkBMCw3KUkgFgM3XAT+zPUAUmzjAHECeAJGEYE6zng1NdwCAQwXGSYLGw60tQIBAQEABQIEAgIAGdMCACwBAAUFBQUFBQQEBAQEBAMEBQYHCAMEBAQEAwEBIQCMAI8AlDwA6QC6ANsAo0MAwQCxAKwApwDtAKUA2QCiAOYBBwECAMYAgABhANEA0wECAN0A8QCPAKgBMADpAN4A2woACA4xOtnZ2dm7xeHS1dNINxwBUQFbNEwBWQFoAWcBWgFLUEhKbRIBUhoMDwo5PRINACYTKiwuMT0/P0JCQkNEE0UFI1ZWVlZYWFdYLllaXFtbImJmZmVnZilrbXV0d3d3d3d3eXl5eXl5eXl5eXl7e3x7emEAQ/EASACZAHcAMQBl9wCNAFYAVgA2AnXuAIoABPf3AGMAkvEAngBOAGEAY/7+rwCEAIQAaABVALAAIwC1AIICPwJCAPsA5gD9AP0A5wD+AOgA6ADnAOUALgJ6AVABPwE9AVMBPQE9AT0BOAE3ATcBNwEbAVcWADAPBwAAUh4RHQocHRUAjQCVAKUAUABpHwIwAHUAbgCWAxQDJjEDIEhFTjAAkAJOAMYCVgKjAL8ClQKVApUClQKVApUCigKVApUClQKVApUClQKUApQClwKfApYClQKVApMCkwKTApMCkQKUAnQB0wKWAp4ClQKVApQdgBIEAP0MA54CYAI5HgFTFzwC4RgRMhoBTT4aVJgBeqtDAWhgAQQDQE4BBQCYMB4flnEAMGcAcAA1AJADm8yS8LWLYQzBMhXJARgIpNx7MQsEKmFzAbkA5IWHhoWHhYiJiYWKjYuFjI+Nh46Jj4mQhZGFkoWTkZSFlYWWiZeFmIWZhZqFm4qcj52JnoUAiXMrc6cAinNzBEIEPwRBBEQEQgRIBEUEQARGBEgERwRDBEUESACqA45zANBYc3MA1nMCE3MA/WFzAP0BIAD9APsA+wD8APvbA4sqbMUA/QD7APsA/AD7I3NzAJBhcwD9AJABIAD9AJAC8wD9AJDbA4sqbMUjcwD+YXMBIAD9AP0A+wD7APwA+wD+APsA+wD8APvbA4sqbMUjc3MAkGFzASAA/QCQAP0AkALzAP0AkNsDiypsxSNzAkoBPXMCUQFAcwJSyHNzA6UC8wOl2wOLKmzFI3NzAJBhcwEgA6UAkAOlAJAC8wOlAJDbA4sqbMUjcwQ3cwCQBDgAkA2UOHQnATNz3QdFdQoqcwEEAM1hCXNzAFthAAUaOQlzcwCQCXNE3wBQc90JcwCdbXNzQ4CD8BW5tNbewS6T/Np1iIh1Iy3DtPDAAXjPx9ENpwOgreI1z2BewtbX8Yi21FG1bBeCk7aB4sFY/Hi+/ekcwwyBHP+f0YI9G/iFY/5bObtuyY4MTYyHeQiZ62eBq/P8+68/rJI6cCQTfucgoskxeeDzvfo6MGQtbufZbw0FPGPpUNSG9SSs7NDWGUbpnlDGReZvnpkqvyGbE9edMaFydt2lujOB9XLYEAXRfM2Kx0lHbXJ4cszHh5aoooqxDeYXz4qvSy3ahNyE6DBY8J7v31dfMFEdiyjfirJ6hX3Pa2ygMOeuVytsRijRhyF9mVnMu2RxuZv3hI/Amu/2xe54SmySPFpHGxTUY0pe8SZ3I+HauujP4GbIzZYg6enubuUlyP0funGhg8HHYTHFSQD9Hm7HGbFy4n0sziYcpwdArgmsyy41VMV2ppGXMiMR4deCi34NNmlnftVdxoyCJzK+r1GvJvWDtbf4dPnrf0G9qOgEs2CpD3n+1P6MHu+kHtsR6lMcf3NcCDlg2BVcCpSVRHQRiw7qolVbxHeM9xvBMbdwjpFKXi7QUZOi6YaKam2q+tP/4Q5El2aNNWkj5UfSZY4ugEdPUnNXG3TnvpCSZ5IpiIvjM/Q7pZNYYv80gD+OdT5J+D+8K7RPkhzH4w8mJHEG67poqLR0JygXeOe4Qz7fpS6uh/vOXaryaHpamD78JfCU/VdaCwy9bCrfgh13NQynhoIdWRr1IQREtBfsr9bRjkodN4IdiTUMDdlCuM8mKFhoQzu5fn+1PZwtWpT+RAfPcOYqFvyg15NH3r44CwuiNOuJa3QiXx/LenV02OWmQIs/SX/g9e97kXeFyzzC5o3GZEj1A4edoQL/Hfudd5DbKP9jRl8TN4J6Kc1PFyNVAX5Xac6bdFhUIzF/y2fxEOMqCLdbgMjAScVBfo62Fi65kWkU5AuSnpXNEa53A8jiHAFWPQRbvChz7XzIQ1/JFkW4oI8xBV6UfjKIPDLC7squNvW2nzcUx+fOUY3Ocin2ftqIvHfTUJTRNcd7Ke70yAIwvqOtwoyPaZMBpoXD8wnXXhGcZwxMUx5c5bPIUoEI0NmMFTasTLrC3msRFOTj05Bautfl1sY/SvMF/LAsyI9YLxLDyLAdk5DR3UM3aUic2osD5OeVdqZVW/Q1m1ebiFPdS2jIqNLulNQ8bGE2SLfELriR1KiTO9P5+lrvWYO1fSrGrUt2bWuylLbZPkwOvWGZpLOHyarck2ZRqWS6sCGey7WyzKtSLDf8N998dc1hh6BN4lUthsFzHww9KK8RpC1vUV1amMjRDMR+KvY6u8hOpZEzHdLMb13izFQP3ijwSQCEFVH7Js8hL21h1Vgxap8exSPY1CBI89DYkx6Tv5XhsKTqejQ6qbBFVPb0FeZ+D1SdjxYgqAq6uvJHq7PW8hluldBOJ7puqANPsXDOtG/su5LwU1PnRExiBpZNO+7blORJ7i9gQYmu2AXSSiKxSZIyyJ+0umdON6y4aPTTM0FbgQzMWfO3PXOymBuZ9DjNH4dcMJSwm9PsU05clrl3w1WkZ04jCxhragJpQ4w9q2B/PX0G25bXPNnUGKSL3EAHAUkcsOzO66BRomJQr0Z8uQAcdKYDE3iFkuZQy+yZq2C3vghrwhw2d8jCgn3V2SEF0Obph80afZ5zohDVBkZps5UEZmSaeyACcgZ6Ecj/Z3Shx0cxedqpF4rbvSD14by33Qb4gSiKqHx0WH7WjNWW+fZz2t1PtJAPWvC6IaLarFyTSGtiv46IG1Q3YMBw5bDrisQFBnBi22oUgsO/eSzcLI5+wpv1ZX3aTHBQ79qiLoPd5uu6JrnhGzEeM0/gRT5wwCJ6uPDv35Qi4MGUO2s9+aimuET6TexV/KC9BGv9ibvW0+9hFedmTLXfrk2/sgHRe5wZPR6ao7kFwN3Egab8d2ApFPLOUgTY+d32/+XKglFsszuassqJBzo6MTbCwlYKO4yYdfk2gfjuHXxxdIjaUUcqePg/jf4AWUOsz7EjkKaPqLCzwTwkuPoskO+HPvSSIj56NBqwhlukh/SUlBPCAvpc+1hWM5aIt7e+NWicwHeXmf7JihSLmAxjDWNDmv6lSpQAYgl3KGYcLR/SwD/UbzS+YBYGKLhVlwwyGYf2autLOFuC7hdVncxFH6lx4+53/q/z8ukeP5C9jWhZLQvvvXJkWbnwQUbH8WW8VDTl7dYYgEw/d8e8PZVIP8QO8aJwNBObbcAh1bZg/ev/mIcRpHqvapWZBZJccfvQ55WYxxTdBLqYbSDjLNfI0d/IB7j1JaX07Z1abn2SGfV7zm8TU65Tqui5ZG/m8fTS7ZJVkQbJqcHfdRPbFKgIm9Q6lqhbspKIufB0JN5lyRQHiZp5cOyRLL44fHhfM56Ukt8hCMN0cSOYZcp5mvcoAcpVNPjMcA/siqAhaIn3EO6j0+ArsfN/wEexl90dGjecxE+R4JAHU9hBGZrDrJJ0L3FasUPVvPdmvrRUYY0LSEJpgUBo4pykiQr4GRZ9cAVKhzBxs86T9E+h0iOclANvJaS1ozReL9coKT4XJH2R15ed78yO6xqF3vPVSvwW+hApUYHspT4xNknEfEBks2ZT80sBfcq+kKqQeraVh2FtwOkIyPZc2PIZqDVqS2OfSXUEJ+aPajbV+aVHDMxPd4ak0ln8Lm3mlBsJjoNzm1LCOw1FWMbUNFmAyj82fesmdYwbtO9hz97ErIjkGBD8ojAOzSZzPT7bq7FxmZzdfzjVX5lq0DgHNm/HtOP0Fha40VmytaL4VvkkkmaH1vfbxgid+hNPqf//ggLAH9wOu9cN3TPGf7RkhvnFBg9Ue9dEMIY0QnUn6WfZwgFnf37KcfXeA/7qvv2NJesfukMgngn3pyJLjhbJ8DGZvbF61Q19ZVHZ/HfiOf3XZwiD/xlEDb+fuGzUrWRq7IMm/Qsd6SJc6Lqt4i6YC+L5h62FwYHiS63//p0lyL3iAb18QEPtnpbEUty0Zrt0fktA9L/YFLfrzYT6atdQjL6OMhCrZ4O3UUaYR0yme/4GNO/yHHufyAVpH/OIPEf2OzptXJ19+tA+NpivJNqCKOwUsJHqTzrT2G77O9dBe4ZcGyF0mPkzzJEpTJOjkgCt47TXZnFahlCXR9VbZ0lb1c1wAqXTKUqyPVaxz4Eu3rPJHiM3IXQQ0NjTvzUPG258V7vbrgoezETHlADY7B1WeyNMFYVE/LaWY7bSfQb7lKJ/KMRmoFwCrkwMEEkDen5KTEXCfVJrN+v4OeBxxE44mtzJOKdlLb7tqPfXrxftovGQyuaJhwlI3qpYBgfatKX2BJFeGTK5b4b9aSrMIv0QoyWUKQxoWaM41bP4QW5RbSawNQdN/0wv7aL9Jkk5J66IDpo7KQGXAKznLFeMn7t0F83ZTXPCDUhEjgWM2SA9ChmM5YEHa5l1hI1fsf77dxeRWfVHKPsN3Pbl3Dy5b4QIYb6N4Pm9jAAQLmQlaBBhZw5Ia7PfQ+xKgKJFQbR4F32mFfupbsbWLM9jDeqYdACLyf6uAKgVu9AJQpYtNbCj5wj9nXAWUWbWQL1cXcTXoVZqxjtyS/BsoaURCQi3dk09KVzUA0V6ZlrQ53Kj5AnQOcl+5F45QK+I7z2+zhbRVGq2VwcLCugx3BCQZwoiwsqtS8RQRixu4k8uRiaKZ/k7rmghRah8nMGZhmN6r12o0TqdMaPiD/n4TLE9VhVaO0KPZEGCIhU8QX+UXBAqICxssIsyKn1OrvUgTYYTO4jXEpu2+kVS6L6T5gjC1tufk8YssX4CRRcvyMaWoJuzmhC3Bq/DBUCuPaMuhQPIQfcmps2oqp9AqlngtSCo26+n5fKqSzEU3lpH1SMPRDrw6OdD/LhpNrs1YTHgMmP068bb8qMgF+/ASQedI7CvWdu04rAtlsP7kSnTDkyMw2LiZnpMx+i+ayXB7c3ckJcjFuig7H00vq2OQzM5PPevRdYi+cZJifcz1t3cNSD0yuvsuFXD/Nk2j60H5RpUU+Zrlp99wSgKEAkuC8nBJJnZ9PR+DkXPe3s4UeOKoq99964VWB9Pnva6uKI779pgq9oaspNcGV8vSOMCM8ACQn9kUPweu9UwI2n5+goo05CFaR5kALF5jhYmybPavdtAxmaC//LVF0ZLRkIcU+NGJzY3OdUKILkQKUDGABumIZHHzKw/jCOmPL+Zl8t46Wkz0WFvi9Gu4zuSn4okuXcj0BSeDVzHIf7sqCBjmC4zCJ+jyS/+Gq2fPUkgfW0bxdgVFMY+zY3TQuMfygLLiF9MzfKQiZXIgzRm4z85AALjRtWp3nO7kFP7ApIqqe2zn0NfjROHgw/hqbhgKGKjsXzu+rrdu5HeSlhWO8hxwDmVaQObSdcyTFMG/YiFD6lJGKdFb4NNS1HnW8T1P6nNQPqraOBTSnQKxz5tTGqNrbaAE4Iio3Cj50ZUqo6/O5OAtJ6Bznp4gKMgBetgD11fCO++j1RdcFdTbD0tkgfxXgzJTUtWCUmdYjl93RR27ifZGYzgK23MdwF4zvKNem782m0dQnmh47Rxz3+2MVhiiS85nTOXxmaODvzAWBE2IQowSrbzE12IJ82fOrvritWvRIF0aLCLdEytK+NVdDxLvmdW+dFeKOa/ocw1Son0O6OzX0lBLmjYSMQSrFe5X5yf6WE2ehsLrv6M8Cqjvwr+u9X+kP/f3iAk31TV+K9yZKQqAn3QOWy+9Hz7iVWRMuM9hs35+avVy4pXASFbOjGdXM1fSQkLOWmFUhyadKWYPjRZoZo0g3CS0qhz+mjygAvmtkYRBcGNpYAEYoIDEwQaswtATb9HLzTetQL8aK79YSb0vJNPSYzsij3FcXbmfnMiaOJIGrrBJnAPRqg2lmCZFXOFah9l2GRBm8HJMGeiupFvR0aRN41otN6X6tGTxS53wk+2+w+Q5ABTdCd15LYZm/a/3bxe9RDQJ5HZhLzr5x1ccTkxBkbxlYBGd8AKvkL2IR3V283R5noyhAM5o/2rKEi4U6kxCV5efr8llvLFrgjPIwS8iES5jxmV5zyPzj7TyzJTJze+9tgDNGYRyyXPkU4mtAh8XUy9vMigfO+1+ZKYW2WCFjDUfvyNiplha4LliPPg8Rc890ZT+F9pMYPAmEg3JJVUm3fp5N0IPNMAYKmbdj8dkIpjDhDJUd6o3G858DgYwPhSC+z3a78QpEmqq+tRaHEcQ30ZN5KVVdASN8NMTnLKoA+IJdapqCRgooGTkhyjB1yEmjSy52110hPaqe1upiUeObsTXtGELTk2p2NZw/3PzU281tafWNmFUPAmooj83DhoQgKPIB7f+NGTDlTOtyPgN8pIB/lnFLL/gcwigZPKDW7p6hnW/GnAzyNS46gLJAl0Eyhqx6UWLeQTU7odMYORK5zf/FV79JGVPOQpNUA58rlB0ugHsyeub8Lnf9QQ4/N5sRKaUjEEhdpF28vfgPZACBbg5UHuVHl8Lby8mVGsrtI7TjL9U3mbtcF+cXQI/5AxT2i0MyciXEKZ8OjvPoQHHU/YSnCXtEp2r08SJxUAHIz1zM+FwdRCYPffQNi2NhkPWTiYTxJ00WVZIrHwmG7jzOLcfWnquJkpOmdPzXfAu+s5EADm0X4VmatqLjVa86dS7Os55qXuRa1Y7dWGvv57LjBlKKgqsbI7lwfyBN3qkKBqe7nwUDn6xqhGPiUPT7j7s+oD52AF6oj6SFXhYWlRXy+1FL7YSbjFxfFvJt5tVXMAr8/voIg8YRiBsKB6eLeIG5Y/KmGmFBxxYzSH7W0IaK3IId+cBlEk6H3Y5BqIBfvhOOBtInLWnsAoRpqlkxd7o/+LP9UXEahdcYlifFlURgUJl0Ly6LHjSZN1CfHB7OORacnBdpIM1lRpBcvwkeyXUvndU4zrfqwtuBEpxqvk4PZPJMByJXUbXie52mfUB689h9GRV99U4gzn1aTbHPWjbB0DQ0Aes2E/ZzoCTxCef56sExSu8ynaPxuDOOeD31OWT0zHo1XxSPQbclDivD+4/v1aWdhGXLR1Ui+NzuQK1NTedznX44c5T3b+2GZZjl5RqH8KR7FTVjLAXvg64Gpc1RROH24J9jrNDyvrMxY453DRUjZ/K3zYJC+M1JxcvLkuZALsXVQ4Z7sj0EuLbRnhTKzRGwFrpXcixvnCgRbJrCl3+RjyWVipph0VLB0nDop/tvjfFmysZ+d2/k6baJMxYoqnE7PFceicrxUYyoJ2LMxicgJqrgvSR3mNJTkvfTU8BIoZz3PpSIS+Y7Ey3MXecxcxYZTeX62egI5Nub2z8Bj4Eg71YCz8Oiapkinw4RRlL+0c2/6jDqc8UK4Zzi1X4aIpgYsPJQOEz2YWBdvH6z5CuY7UvWK2F0Mg4ofRVBArX1p9Gv5VLqWYyL/raRVWkPNI4FEv9+ePcdmBSQR4CFSO6TG13hIV+cm1dkd0/Nt3r28H4NU2knSniDCeozM/Btc4i/ni4H83S2/ktAAvUM7UKJPT+RO8LOlvxhuI8HQmAuJCzVH23R/0JovidxgdJ7g7whCdVQa9/TLFUJWmNSYAaPRAXW/kk2UBmAz6f6POK1zcMlmI8P9tqW2qVXABN0L0zHarXbWHlhtYpXMEda/pIHLwu8RHqmWWMgMzkyKicSFKK10UvZRdcO8fCiSijtFIY8qW7CscvtzpP92lm+c648urehw35v1EOfO3kdny+CQm/Y0u+zPuevhCrQKhTsUq4G1rNPoGuVzvhf2Ui1f8jzvx9fJbQR69A0ETLUUC2ndk1YFQNi22yLwyZyw4xU8P3RGLM5qojKNwHAZAMAEudzg8UdfV6i4VktOLbhhHUPqpCn6dtpnr16rINs5hWJGMYXaEn0irFCuoYnJEVhdJ4PZLKuTkrP1UUVWZ0SMgJ3F2I8YRhtLwK4dhh/oKk0hdVgEH/l2/0c+cLlF7kpDuF3lC4fsFw3V0QrwH3GLNb2waS18OmYB07yaLEqhd58bSaGJZzePoroV5v3UK46/sWdKczstFIiYLmmKeaVGRNo3IWk+dYUqWy5aJClXj5tf/v47ijlkmMDP+ROUxoGk7LFzne4/0CRPl/5SUyOa679jibvdVQFZ1o0H9kBux7OSC9B+qVKE1trxr4xqTkjc1ZGZBpY0zyKBiu8wr+/KXc37u0cdXGJwY/aTic3kGj4jt3y4ZwleKskyXMFHKGwVhqpFH3ba02boSzGHyPMAe/reVqWSTT2Uz47+uYvHZGNASqYQ23uZoxalHK+PGoH9trTVaw2KB4dH8fNrXRLhiyxGdRtS0x8k3feeOvsOdKEdaOf3IrfWCZM/n3+hVJizA4zoX8MzsIf6bDfuFXIIRR2RN0rICZcMRmnRxUXT+YMOid50gg+Nt4Uucemmbd9kvJG/O04PVC0vm5gGDlIY3THI2+l1rZcMOuSDWBp6I4Eltp7naHZCdaPUWnQ07VqO49znDgCmtu5Tb+SSEQJV+rJsiXgCqoeeQciher8cqF616P8qlZeonKihdVkj+RTnjOcnoERWubvyaeFO6Ub3dhh0qmm2RD4enszxE1JaAaiezuSoCayJQP931HGcy0NmuVr/UV0pvbwICLpBbVkxC6qebjLGRXucTG0dbQDFPz049hMem2pb/FOTGYRLR0uPCa0oIwc9Z/g+Iy/zYFDThHi1cqbK824savKGMLMj7j87RT9NMwxaI0eKTfMFioi9SyLq5sN9pV8be2FrOc7xMOdv6btXyqFx63y9fIGMBP2T9Wmeeg61ZGdTE4IwybcGlXLJ3qLbRRpQ8vSzcqFobN+QPtL+51hadAWtRbF6aJpeb7Gca4/Ldh7BDvEbrUuEm+gTyVMeRQ3Ypf9uyFjVstrQIcdY+aur3LC5I5OOnJck1zLUKxLobjy9slG3hv6zylhtKbAbpX5p8Hc910fCT7FNH5/t9xEJX9kkeZ9IMCHAk9zn7L3pXEGZVvdaf85NtlemPpY7iSgSC7zRGsI5W6/UEwX6jDtNVZ9VqPDBe/EqmEEsGcs7jZPQPhi3xpj9UXWQLiy6tsxv/ft9aKQnUg0Sps/x3AZ2uK3ETGTQogPTMQPOnoU6p5KuS3uY6DfW0GeGQ1wNpGzGoUdRJRvHP9MDQpWRSZqZkE/rcNnQ5lS9BmMDW/umgZQD1C2YXfZMy7fIVXo121293Gfx9n7DQP6OxSqiSTNx48KId9kfGYOnV2Wg2TQQywNBRB0mSmqa/jwoBDYVDl6B0XFrVEAwbnhLyqGp5BH9bzsWrrFlu0x285RpqTylTZk3rgcm57prav0DUAKUd02vXdYyNBf7sfX7VYn0Syug9++ey/dHoG7GQzMbhXhtEuRXv6YR20SQgSOrgDUGPR4HhS+Qvk2zOtyH8N/lHYfQxNKt/f7uCpsBBh5eGZaeWNRTBdOObWOvyKJMfD8FLEX1v/5ywtRV27weRzSNaHEQFE0hIzzS4VPzgWtg/4bcetwXpabsePP192muNPyXiRzRZkoeudA9D9x/oVWfRieLfjdXbi/41RGNB3aIj0IxCBHSvUN7LzntO6Oh910zV9u4Glrouyr5odjs8/fW9r0buiTMWTjjLbi2k5tZ3m/134ci/d9f8zuv+4BI7F13Mjb7DTTD5ukfqNTlNC4V9PnfbGAJdKLEDJgBPKyYXCaAL9U5Cxi2j5j+IWmNg6NSnWcATzmOO4+dNBmefy6ceyd8J9/Q7amUWVVkuNVSq3iWEb3UJP7kG+P8wfL4xS0ZNuSKYuo9KpdkJ3b4PYRNSzF+8OXKDWqXuWsan/wconybIRBoGWHMuCkb35BtGfiqZ4hc2CCapKiLmrWnBLlRT+9GA0Qcykkg1B6C3kESJMu2dWyGabbhRwxUeMxARHqbXzHmHpr4Z3vmOxHZ6b1q6MJ0Vb/XKkaPF4xn/VindEJ3S8/9xcGF+PNFuAXc2Jf9uZLLtjxDAEeohd7wjie66LHvcNT0UpWif4uCox2YR/liegMgx8vEbvQClJBMBub7zJQMCr1C/Vf8siWQASp0Ewd7D2uP6f9YTISdEaUAzF9rST9JTHxez310BfdgtWKU1ZYoRuDZvGn2tj9DPjXrkgCr/13OHsP4MOC5b6YqHSedYMW9bEfS5M3nO7zTGS85BzpLTIFqAGhZJLEyLFcZXS7hDhDYVvlm10RLEslMK0cUL/9xqTMOX2iR65umsC8dW4hT0Sg6Tf3T2HAxsHKcNzoqFwuM9k3/LpYekhRc0C+f1I+vMQ4thkfSotx9GUt/cdRosaE8XwqV0k+8ZtU+jv8nn3lbcNxfXXKi5l0SL5kMmrCdrxeVVqxBobrFF+tb0wtkN+DMm88I4jWH/DcdJOjcMOLEsN70vlsfIi+NexpaT0ZsnfewPoTvUSXqqfhRcRk3jA7AdYHEFk4l6O3fe65uZNIMf1lbtJNCNaK2+c5hGKLcTSrBmwWv9TP6JDfZ6UY96g4baayVCbrDpXePgXTG6xO3rT0DAXG9OuPxkSEPLJnqxQViyYQhCp36Q2yFpF6cR04RO7Ab5HPrECqGR0Fnr2gzmjx49XjQf8N5Bk5XH0dh8NOoB62acHwMhlBM8duW9tghc7CN7oz91UEyd8fOtwDK/j7SykdllCAN5kUrcawufMV9y/EqUoKHtP5i8MgQY9RlZFZzi0BeT9Ang4mMIvWAFChZCNnb4tT5cS20jeit8JEN4tz4mUmZxDwiWkEucI1KF/FyAnvE4wybWvbaxBYjT2jdhlzd4y/eTmTl3im5YImADc2unOtmNTcgMdOb9kUgJmgzY/hDaAxqvwLEulLsjq0bsfSE3tRYCRn6xb0uv5B5yFshhewdO5KgoLcaGeqeg0pa9k2RXM32g1jE1UDWO0CaMobavPk+4u26Tmgg6VindBdYdRxpGqlvkxai0K/atC5CWUxlHuukX5b+hg83khzsZK7AVRVptyVNicu0sfQToTDEeIeDdFvDrReJUiJGZcXAhpRL3OufhL4aDfO1zsCmfGq8qFspBiJe13lgS9GguiMsdmgpWOhHkSTVkWnMOnUeIJgqZks/AwL/1yKPm00t6x6qLXQrCJrysUwR+ILJdyyyuUN4BuEtCDUXMXPU5srsAnDUhSfFM/j4RK+cK01o6lXAVbhiOLaaQtpYN6mCOwtJNcVqEpyrxXuWxvE4mbVCytBu/qKO4X2BI1NUSlj/g6FQEiYsXMAQuM9wnHngXKLZRWFHcgroF7URRzLPrMQUfALjbga6S+tGc3Tshv6PA6xeSqRPDbLG+X+0qt9crNzbaxGbStSCfYhdRY4t5BSVY9Pxl9trcYFiUdsV1BSwaZM5u8K+hUm8HV6PoLD/jlsRRzgUq6O+Qw3asFkTKm3clSTo8VtXdpTdzFAZP+tVvAjkfGq3MkSLyTYi08pvQ3h/L9o0JpUnnQeKxXk3qIsGGsH1BXzcZT+voCNv39FSdg6gNY51z9Cyq5Dql8wER5ylTwnLVeHlHAn/HNwxGYeUqrrc2gcmIybVKVD1XAPXjKks2+oHZk4OXYP6+LwVaFEApqEMyEusTgVFTzdjVa2BAaELvpyVhOSMW/ae3NwMfWId4Ue28z5IzumOF/CmY1GmXBOWBf2hgp/r3qS0GU7nGETmj+7Tudbjd1cKhgP39tVtWogjxHt6NLXz8OCbV1nIBG+mmrrZDCbH/o4Vgn3gZkRkq+iHOVW82LunJPXBZjX/ntmptWsqP8nDZBSb3TzAD4vSQeQ1GmtgGWAYfB951YKUnFVJb0z1YRjQqVksL5VpD4N/Vy31vtYY/2g9TmyMADPgCwwA6MhjQ9bd1JFJ3Vls7lD2RYjdIwQwhWzBRPfrxpKcYeu03F0/odRbEc9RZ11TxVY8mXqgJx/vDk0eF4MPV7lgBxYqxoGfEtGZBC1kZlxbcez4Ts4/TuXJ/QsfWT95Fwpc4CtiGCgU4i7LHgoDalqmBabvzV5xvq2pMVourJYZ4paytzilEG+lADOGx7qf9O5/4cP5SqyTCMG4I16I/6I5o4Y/QkWX9ctABry/8Adxz+ZB8AI1yUyNXk1Z073ECiDJ1EuVT69eIDEAlbnv24j4DJGeqIV1b1GDCHJ+OFD4W0gXUs/1bMkNESNKl2ON6DZzAXvqmr8X68yRDgIReKbX1SUwtzYnyadBLhEWS0WTE7T1IxC2SHChb1NFD+2rtJSN8OPTIZRqiizaoh7OSSNpBXJMkKcUQZV8sXw8VkU5ea8j0WZ/YK35loUxE1aG30SL/JYxZWlUenDyKrfbHWJ+z6JOsV0e1Xfw7VGavtHACLwn0tTG9e3lf++w1MCVjFIyU57uOlbTkUSnxAjzmA71qvjTzHeMDWcK099tm9rS8cnfuwxq+YRWANkfmLbCl+74mg4bccPsNY5zz7cjbaFAL0hAwId61yM5uqhMBr4Wcew3b2spG5tkKFOnADeXkGkH4vk+f+an92mWXemOFCpjRsFeEnPEAIsLemM3QfMoME5/w+7Y48y/SvkBN6/KSRVmB7/rHiW7iVkXF6Y1T853OaDg66cIfWkD5TqCDugrlaXlEL1fFjxPoKRHkP5GD/xDiscNH+Dp2fXEKUpwAvC8JTNC+k9JpaMXUB7oj4p77qiAOjXD2pT4v/v0Ukid02LpuYsS7/ScDL1SxB9hxxbkeGOMyPyL4HZPAbyagOgP5Xe2pCqMPyj/KJ0blDHzFVBqzeLIO5D4yq7IpSi9p/QlHa50sCHzGoMqrBS8l9IfRyhq8IDQtOZzjgdvgQDwH7cqa/sybwdfcQse9THS08maKkkgnOi0ShO8Gyf+WL4K9DX11CF9uIbVwJUaCv8r/6FDVOdsEjeumisIJlLJQsjjkEL2QfEc68oqsevnNAEdp4YMJivwBJnE0R2GiBFRTJZNkq/MHDP9O5unQoRoivMJkPm+A0K8CQNXL6V3apC4ROBTyJSW9oOGNF4YrwoTFyz/pexIkeWQADpi+M7q8gBlmGRUune0k7cXyacdbOsD0Q1JQat9T8nmHhyO8PNd2k4qjZsQCs6lEcmaThpVUzGzWOJQGGf2oz7+F/bMfUMARo1PD0/yIhVDK+8MGRo/uByG5UAwPfNeHAd09gkMFpZmTN2rZgoqdSjwv1SbFnFRAqYuzwW8P4+Rk9fE3PVu80HKcXyIEvPfit+o+pnlHDUKKo32HapcVtQhsNiIdH80j/lRnJ2y5RYRbECyY4vl20j/NiBAD0Z5jxWWiL6xAZIonSEJb1qhwmdRp3hISLL9Q1QYOt6C/OixU3eUtXblgBu+fGPAQE0o");const dw=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),pw=4;function Tq(r){return r.toString(16).toUpperCase().padStart(2,"0")}function jA(r){return`{${Tq(r)}}`}function Cq(r){let e=[];for(let t=0,n=r.length;t<n;){let i=r.codePointAt(t);t+=i<65536?1:2,e.push(i)}return e}function $a(r){let t=r.length;if(t<4096)return String.fromCodePoint(...r);let n=[];for(let i=0;i<t;)n.push(String.fromCodePoint(...r.slice(i,i+=4096)));return n.join("")}function Pq(r,e){let t=r.length,n=t-e.length;for(let i=0;n==0&&i<t;i++)n=r[i]-e[i];return n}var cm=kA("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");function Lc(r){return r>>24&255}function HA(r){return r&16777215}const Oq=new Map(LA(cm).flatMap((r,e)=>r.map(t=>[t,e+1<<24]))),Dq=new Set(Us(cm)),$A=new Map,Ap=new Map;for(let[r,e]of FA(cm)){if(!Dq.has(r)&&e.length==2){let[t,n]=e,i=Ap.get(t);i||(i=new Map,Ap.set(t,i)),i.set(n,r)}$A.set(r,e.reverse())}const nu=44032,Al=4352,xl=4449,Sl=4519,qA=19,GA=21,qa=28,Il=GA*qa,Rq=qA*Il,Mq=nu+Rq,Nq=Al+qA,Bq=xl+GA,kq=Sl+qa;function zA(r){return r>=nu&&r<Mq}function Lq(r,e){if(r>=Al&&r<Nq&&e>=xl&&e<Bq)return nu+(r-Al)*Il+(e-xl)*qa;if(zA(r)&&e>Sl&&e<kq&&(r-nu)%qa==0)return r+(e-Sl);{let t=Ap.get(r);return t&&(t=t.get(e),t)?t:-1}}function VA(r){let e=[],t=[],n=!1;function i(s){let a=Oq.get(s);a&&(n=!0,s|=a),e.push(s)}for(let s of r)for(;;){if(s<128)e.push(s);else if(zA(s)){let a=s-nu,u=a/Il|0,l=a%Il/qa|0,d=a%qa;i(Al+u),i(xl+l),d>0&&i(Sl+d)}else{let a=$A.get(s);a?t.push(...a):i(s)}if(!t.length)break;s=t.pop()}if(n&&e.length>1){let s=Lc(e[0]);for(let a=1;a<e.length;a++){let u=Lc(e[a]);if(u==0||s<=u){s=u;continue}let l=a-1;for(;;){let d=e[l+1];if(e[l+1]=e[l],e[l]=d,!l||(s=Lc(e[--l]),s<=u))break}s=Lc(e[a])}}return e}function Fq(r){let e=[],t=[],n=-1,i=0;for(let s of r){let a=Lc(s),u=HA(s);if(n==-1)a==0?n=u:e.push(u);else if(i>0&&i>=a)a==0?(e.push(n,...t),t.length=0,n=u):t.push(u),i=a;else{let l=Lq(n,u);l>=0?n=l:i==0&&a==0?(e.push(n),n=u):(t.push(u),i=a)}}return n>=0&&e.push(n,...t),e}function KA(r){return VA(r).map(HA)}function Uq(r){return Fq(VA(r))}const WA=65039,QA=".",JA=1,gw=45;function Ya(){return new Set(Us(vi))}const jq=new Map(FA(vi)),Hq=Ya(),Tl=Ya(),mw=new Set(Us(vi).map(function(r){return this[r]},[...Tl])),$q=Ya();Ya();const qq=LA(vi);function yw(){return new Set([Us(vi).map(r=>qq[r]),Us(vi)].flat(2))}const Gq=vi(),iu=ru(r=>{let e=ru(vi).map(t=>t+96);if(e.length){let t=r>=Gq;e[0]-=32,e=$a(e),t&&(e=`Restricted[${e}]`);let n=yw(),i=yw(),s=[...n,...i].sort((u,l)=>u-l),a=!vi();return{N:e,P:n,M:a,R:t,V:new Set(s)}}}),vw=Ya(),su=new Map;[...vw,...Ya()].sort((r,e)=>r-e).map((r,e,t)=>{let n=vi(),i=t[e]=n?t[e-n]:{V:[],M:new Map};i.V.push(r),vw.has(r)||su.set(r,i)});for(let{V:r,M:e}of new Set(su.values())){let t=[];for(let i of r){let s=iu.filter(u=>u.V.has(i)),a=t.find(({G:u})=>s.some(l=>u.has(l)));a||(a={G:new Set,V:[]},t.push(a)),a.V.push(i),s.forEach(u=>a.G.add(u))}let n=t.flatMap(({G:i})=>[...i]);for(let{G:i,V:s}of t){let a=new Set(n.filter(u=>!i.has(u)));for(let u of s)e.set(u,a)}}let ou=new Set,YA=new Set;for(let r of iu)for(let e of r.V)(ou.has(e)?YA:ou).add(e);for(let r of ou)!su.has(r)&&!YA.has(r)&&su.set(r,JA);const zq=new Set([...ou,...KA(ou)]);class Vq extends Array{get is_emoji(){return!0}}const Kq=Iq(vi).map(r=>Vq.from(r)).sort(Pq),XA=new Map;for(let r of Kq){let e=[XA];for(let t of r){let n=e.map(i=>{let s=i.get(t);return s||(s=new Map,i.set(t,s)),s});t===WA?e.push(...n):e=n}for(let t of e)t.V=r}function vh(r,e=jA){let t=[];Yq(r[0])&&t.push("◌");let n=0,i=r.length;for(let s=0;s<i;s++){let a=r[s];ZA(a)&&(t.push($a(r.slice(n,s))),t.push(e(a)),n=s+1)}return t.push($a(r.slice(n,i))),t.join("")}function um(r){return(ZA(r)?"":`${fm(vh([r]))} `)+jA(r)}function fm(r){return`"${r}"‎`}function Wq(r){if(r.length>=4&&r[2]==gw&&r[3]==gw)throw new Error(`invalid label extension: "${$a(r.slice(0,4))}"`)}function Qq(r){for(let t=r.lastIndexOf(95);t>0;)if(r[--t]!==95)throw new Error("underscore allowed only at start")}function Jq(r){let e=r[0],t=dw.get(e);if(t)throw qc(`leading ${t}`);let n=r.length,i=-1;for(let s=1;s<n;s++){e=r[s];let a=dw.get(e);if(a){if(i==s)throw qc(`${t} + ${a}`);i=s+1,t=a}}if(i==n)throw qc(`trailing ${t}`)}function Yq(r){return Tl.has(r)}function ZA(r){return $q.has(r)}function Xq(r){return rG(Zq(r,Uq,sG))}function Zq(r,e,t){if(!r)return[];let n=0;return r.split(QA).map(i=>{let s=Cq(i),a={input:s,offset:n};n+=s.length+1;let u;try{let l=a.tokens=iG(s,e,t),d=l.length,p;if(d)if(u=l.flat(),Qq(u),!(a.emoji=d>1||l[0].is_emoji)&&u.every(x=>x<128))Wq(u),p="ASCII";else{let x=l.flatMap(S=>S.is_emoji?[]:S);if(!x.length)p="Emoji";else{if(Tl.has(u[0]))throw qc("leading combining mark");for(let B=1;B<d;B++){let $=l[B];if(!$.is_emoji&&Tl.has($[0]))throw qc(`emoji + combining mark: "${$a(l[B-1])} + ${vh([$[0]])}"`)}Jq(u);let S=[...new Set(x)],[C]=tG(S);nG(C,x),eG(C,S),p=C.N}}else throw new Error("empty label");a.type=p}catch(l){a.error=l}return a.output=u,a})}function eG(r,e){let t,n=[];for(let i of e){let s=su.get(i);if(s===JA)return;if(s){let a=s.M.get(i);if(t=t?t.filter(u=>a.has(u)):[...a],!t.length)return}else n.push(i)}if(t){for(let i of t)if(n.every(s=>i.V.has(s)))throw new Error(`whole-script confusable: ${r.N}/${i.N}`)}}function tG(r){let e=iu;for(let t of r){let n=e.filter(i=>i.V.has(t));if(!n.length)throw iu.some(i=>i.V.has(t))?t3(e[0],t):e3(t);if(e=n,n.length==1)break}return e}function rG(r){return r.map(({input:e,error:t,output:n})=>{if(t){let i=t.message;throw new Error(r.length==1?i:`Invalid label ${fm(vh(e))}: ${i}`)}return $a(n)}).join(QA)}function e3(r){return new Error(`disallowed character: ${um(r)}`)}function t3(r,e){let t=um(e),n=iu.find(i=>i.P.has(e));return n&&(t=`${n.N} ${t}`),new Error(`illegal mixture: ${r.N} + ${t}`)}function qc(r){return new Error(`illegal placement: ${r}`)}function nG(r,e){let{V:t,M:n}=r;for(let i of e)if(!t.has(i))throw t3(r,i);if(n){let i=KA(e);for(let s=1,a=i.length;s<a;s++)if(mw.has(i[s])){let u=s+1;for(let l;u<a&&mw.has(l=i[u]);u++)for(let d=s;d<u;d++)if(i[d]==l)throw new Error(`duplicate non-spacing marks: ${um(l)}`);if(u-s>pw)throw new Error(`excessive non-spacing marks: ${fm(vh(i.slice(s-1,u)))} (${u-s}/${pw})`);s=u}}}function iG(r,e,t){let n=[],i=[];for(r=r.slice().reverse();r.length;){let s=oG(r);if(s)i.length&&(n.push(e(i)),i=[]),n.push(t(s));else{let a=r.pop();if(zq.has(a))i.push(a);else{let u=jq.get(a);if(u)i.push(...u);else if(!Hq.has(a))throw e3(a)}}}return i.length&&n.push(e(i)),n}function sG(r){return r.filter(e=>e!=WA)}function oG(r,e){let t=XA,n,i=r.length;for(;i&&(t=t.get(r[--i]),!!t);){let{V:s}=t;s&&(n=s,e&&e.push(...r.slice(i).reverse()),r.length=i)}return n}const aG=r=>Xq(r),Io=r=>{let e="";for(let t=0;t<32;t+=1)e+="00";if(r){const n=aG(r).split(".");for(let i=n.length-1;i>=0;i-=1){const s=Dn(n[i]).slice(2);e=Dn(`0x${e}${s}`).slice(2)}}return`0x${e}`};var Pf=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};class cG{constructor(e,t){this.contract=new Do(yq,t??El.main,e),this.context=e}getOwner(e){return Pf(this,void 0,void 0,function*(){try{return this.contract.methods.owner(Io(e)).call()}catch{throw new Error}})}getTTL(e){return Pf(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(Io(e)).call()}catch{throw new Error}})}recordExists(e){return Pf(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(Io(e)).call()}catch{throw new Error}})}getResolver(e){return Pf(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(Io(e)).call().then(t=>{if(typeof t=="string")return new Do(vq,t,this.context);throw new Error})}catch{throw new Error}})}get events(){return this.contract.events}}var da=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};class uG{constructor(e){this.registry=e}getResolverContractAdapter(e){return da(this,void 0,void 0,function*(){return this.registry.getResolver(e)})}checkInterfaceSupport(e,t){var n,i;return da(this,void 0,void 0,function*(){if(bt(hw[t]))throw new W1((n=e.options.address)!==null&&n!==void 0?n:"",t);if(!(yield e.methods.supportsInterface(hw[t]).call()))throw new W1((i=e.options.address)!==null&&i!==void 0?i:"",t)})}supportsInterface(e,t){var n;return da(this,void 0,void 0,function*(){const i=yield this.getResolverContractAdapter(e);let s=t;if(!Qt(s)){if(s=(n=mu(t))!==null&&n!==void 0?n:"",t==="")throw new Error("Invalid interface Id");s=s.slice(0,10)}return i.methods.supportsInterface(s).call()})}getAddress(e,t=60){return da(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,_0.addr),n.methods.addr(Io(e),t).call()})}getPubkey(e){return da(this,void 0,void 0,function*(){const t=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(t,_0.pubkey),t.methods.pubkey(Io(e)).call()})}getContenthash(e){return da(this,void 0,void 0,function*(){const t=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(t,_0.contenthash),t.methods.contenthash(Io(e)).call()})}}var Wi=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};class r3 extends Ni{constructor(e,t){super(t??""),this.registryAddress=e??El.main,this._registry=new cG(this.getContextObject(),e),this._resolver=new uG(this._registry)}getResolver(e){return Wi(this,void 0,void 0,function*(){return this._registry.getResolver(e)})}recordExists(e){return Wi(this,void 0,void 0,function*(){return this._registry.recordExists(e)})}getTTL(e){return Wi(this,void 0,void 0,function*(){return this._registry.getTTL(e)})}getOwner(e){return Wi(this,void 0,void 0,function*(){return this._registry.getOwner(e)})}getAddress(e,t=60){return Wi(this,void 0,void 0,function*(){return this._resolver.getAddress(e,t)})}getPubkey(e){return Wi(this,void 0,void 0,function*(){return this._resolver.getPubkey(e)})}getContenthash(e){return Wi(this,void 0,void 0,function*(){return this._resolver.getContenthash(e)})}checkNetwork(){return Wi(this,void 0,void 0,function*(){const e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){const i=yield F$(this);if(!(typeof i=="boolean"&&!i))throw new XB;this._lastSyncCheck=e}if(this._detectedAddress)return this._detectedAddress;const t=yield Qg(this,Object.assign(Object.assign({},qe),{number:Zn.HEX})),n=El[mq[t]];if(typeof n>"u")throw new YB(t);return this._detectedAddress=n,this._detectedAddress})}supportsInterface(e,t){return Wi(this,void 0,void 0,function*(){return this._resolver.supportsInterface(e,t)})}get events(){return this._registry.events}}var ls=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const fG=r=>ls(void 0,void 0,void 0,function*(){return(yield J7(r)).map(cs)}),lG=(r,e)=>ls(void 0,void 0,void 0,function*(){rt.validate(["string"],[e]);const t=yield Y7(r,e);return cs(t)}),hG=(r,e,t,n)=>ls(void 0,void 0,void 0,function*(){return rt.validate(["address","string","uint"],[e,t,n]),X7(r,e,t,n)}),dG=(r,e)=>ls(void 0,void 0,void 0,function*(){return rt.validate(["address"],[e]),Z7(r,e)}),pG=(r,e,t)=>ls(void 0,void 0,void 0,function*(){return rt.validate(["string","string"],[e,t]),eU(r,e,t)}),gG=(r,e,t)=>ls(void 0,void 0,void 0,function*(){const n=bn(e,lt);return tU(r,n,t)}),mG=(r,e,t)=>ls(void 0,void 0,void 0,function*(){const n=bn(e,lt);return rU(r,n,t)}),yG=(r,e,t,n)=>ls(void 0,void 0,void 0,function*(){rt.validate(["string","address","string"],[e,t,n]);const i=Qt(e)?e:gi(e);return nU(r,i,t,n)}),vG=(r,e,t)=>ls(void 0,void 0,void 0,function*(){rt.validate(["string","string"],[e,t]);const n=Qt(e)?e:gi(e);return iU(r,n,t)});var Qi=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};class n3 extends Ni{getAccounts(){return Qi(this,void 0,void 0,function*(){return fG(this.requestManager)})}newAccount(e){return Qi(this,void 0,void 0,function*(){return lG(this.requestManager,e)})}unlockAccount(e,t,n){return Qi(this,void 0,void 0,function*(){return hG(this.requestManager,e,t,n)})}lockAccount(e){return Qi(this,void 0,void 0,function*(){return dG(this.requestManager,e)})}importRawKey(e,t){return Qi(this,void 0,void 0,function*(){return pG(this.requestManager,e,t)})}sendTransaction(e,t){return Qi(this,void 0,void 0,function*(){return gG(this.requestManager,e,t)})}signTransaction(e,t){return Qi(this,void 0,void 0,function*(){return mG(this.requestManager,e,t)})}sign(e,t,n){return Qi(this,void 0,void 0,function*(){return yG(this.requestManager,e,t,n)})}ecRecover(e,t){return Qi(this,void 0,void 0,function*(){return vG(this.requestManager,e,t)})}}const bG={encodeEventSignature:im,encodeFunctionCall:M$,encodeFunctionSignature:mh,encodeParameter:bp,encodeParameters:ph,decodeParameter:_A,decodeParameters:gh,decodeLog:EA};var Mc=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{d(n.next(p))}catch(v){a(v)}}function l(p){try{d(n.throw(p))}catch(v){a(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,l)}d((n=n.apply(r,e||[])).next())})};const wG=r=>{const e=(a,u)=>Mc(void 0,void 0,void 0,function*(){const l=yield uq(a,r),d=_e({format:"bytes"},u,lt);return hH(l,d)}),t=a=>{const u=Gg(a);return Object.assign(Object.assign({},u),{signTransaction:l=>Mc(void 0,void 0,void 0,function*(){return e(l,u.privateKey)})})},n=(a,u,l)=>Mc(void 0,void 0,void 0,function*(){var d;const p=yield gH(a,u,(d=l==null?void 0:l.nonStrict)!==null&&d!==void 0?d:!0);return Object.assign(Object.assign({},p),{signTransaction:v=>Mc(void 0,void 0,void 0,function*(){return e(v,p.privateKey)})})}),i=()=>{const a=pH();return Object.assign(Object.assign({},a),{signTransaction:u=>Mc(void 0,void 0,void 0,function*(){return e(u,a.privateKey)})})},s=new hl({create:i,privateKeyToAccount:t,decrypt:n});return{signTransaction:e,create:i,privateKeyToAccount:t,decrypt:n,recoverTransaction:dH,hashMessage:$g,sign:Z2,recover:lp,encrypt:eA,wallet:s}},_G={version:"4.0.3"};class bh extends Ni{constructor(e){super({provider:e,registeredSubscriptions:_p}),(bt(e)||typeof e=="string"&&e.trim()==="")&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");const t=wG(this);this._wallet=t.wallet,this._accountProvider=t,this.utils=p2;const n=this;class i extends Do{constructor(u,l,d){if(typeof l=="object"&&typeof d=="object")throw new Q1("Should not provide options at both 2nd and 3rd parameters");if(bt(l))super(u,d,n.getContextObject());else if(typeof l=="object")super(u,l,n.getContextObject());else if(typeof l=="string")super(u,l,d??{},n.getContextObject());else throw new Q1;super.subscribeToContextEvents(n)}}const s=n.use(yh);this.eth=Object.assign(s,{ens:n.use(r3,El.main),Iban:Pr,net:n.use(tA),personal:n.use(n3),Contract:i,abi:bG,accounts:t})}}bh.version=_G.version;bh.utils=p2;bh.modules={Web3Eth:yh,Iban:Pr,Net:tA,ENS:r3,Personal:n3};let Cl,ba;const xp=document.getElementById("connect-button"),EG=document.getElementById("statsButton"),AG="035d2c1e8570859cb9a2d43b016dea75";async function xG(){try{xp.disabled=!0,ba||(ba=await lN.init({projectId:AG,showQrModal:!0,qrModalOptions:{themeMode:"light"},chains:[1],optionalChains:[5,11155111,421613],methods:["eth_sendTransaction","personal_sign","eth_signTransaction","eth_sign","eth_signTypedData","wallet_switchEthereumChain"],events:["chainChanged","accountsChanged"],metadata:{name:"My Dapp",description:"My Dapp description",url:"http://192.168.43.97:8080",icons:["http://192.168.43.97:5173/logo.png"]}}),ba.on("connect",()=>alert("connected!"))),ba.connect(),Cl=new bh(ba),console.log(Cl)}catch(r){console.error(r)}finally{xp.disabled=!1}}async function SG(){const r=await Cl.eth.net.getId();alert(r);try{let e=5;const t=await Cl.eth.net.getId();await ba.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x"+parseInt(e,10).toString(16)}]})}catch(e){console.error("Error:",e)}}xp.addEventListener("click",xG);EG.addEventListener("click",SG);export{L8 as _};
